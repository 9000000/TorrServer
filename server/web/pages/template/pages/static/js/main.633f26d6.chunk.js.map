{"version":3,"sources":["utils/Hosts.js","i18n.js","utils/Utils.js","icons/index.jsx","torrentStates.js","components/DialogTorrentDetailsContent/customHooks.jsx","components/DialogTorrentDetailsContent/DialogHeader.jsx","style/colors.js","style/materialUISetup.js","components/DialogTorrentDetailsContent/TorrentCache/getShortCacheMap.js","components/DialogTorrentDetailsContent/TorrentCache/snakeSettings.js","components/DialogTorrentDetailsContent/TorrentCache/style.js","components/DialogTorrentDetailsContent/TorrentCache/index.jsx","style/standaloneMedia.js","components/App/PWAFooter/style.js","style/DialogStyles.js","style/CustomMaterialUiStyles.js","components/TorrentCard/style.js","components/VideoPlayer.jsx","components/DialogTorrentDetailsContent/Table/style.js","components/DialogTorrentDetailsContent/Table/index.jsx","components/DialogTorrentDetailsContent/style.js","components/DialogTorrentDetailsContent/DetailedView/style.js","components/categories.jsx","components/DialogTorrentDetailsContent/StatisticsField.jsx","components/DialogTorrentDetailsContent/widgets/useGetWidgetColors.jsx","components/DialogTorrentDetailsContent/widgets/index.jsx","components/DialogTorrentDetailsContent/DetailedView/index.jsx","components/DialogTorrentDetailsContent/TorrentFunctions/style.js","components/DialogTorrentDetailsContent/TorrentFunctions/index.jsx","components/DialogTorrentDetailsContent/helpers.js","components/DialogTorrentDetailsContent/index.jsx","utils/useChangeLanguage.js","utils/usePreviousState.js","utils/useOnStandaloneAppOutsideClick.jsx","components/Add/helpers.js","components/Add/style.js","components/Add/RightSideComponent.jsx","components/Add/LeftSideComponent.jsx","components/Add/AddDialog.jsx","components/TorrentCard/index.jsx","components/App/style.js","components/TorrentList/style.js","components/TorrentList/NoServerConnection.jsx","components/TorrentList/AddFirstTorrent.jsx","components/TorrentList/index.jsx","components/Donate/DonateDialog.jsx","components/Donate/index.jsx","style/GlobalStyle.js","components/Search/style.js","components/Search/SearchDialog.jsx","components/Add/index.jsx","components/Settings/style.js","components/Settings/defaultSettings.js","components/Settings/tabComponents.jsx","components/Settings/SliderInput.jsx","components/Settings/PrimarySettingsComponent.jsx","components/Settings/SecondarySettingsComponent.jsx","components/Settings/MobileAppSettings.jsx","components/Settings/TorznabSettings.jsx","components/Settings/SettingsDialog.jsx","components/Settings/index.jsx","components/UnsafeButton.jsx","components/RemoveAll.jsx","components/About/style.js","components/About/LinkComponent.jsx","components/About/index.jsx","components/CloseServer.jsx","components/Search/index.jsx","components/FilterByCategory.jsx","components/App/Sidebar.jsx","components/App/PWAFooter/index.jsx","components/App/PWAInstallationGuide/IOSShareIcon.jsx","components/App/PWAInstallationGuide/style.jsx","components/App/PWAInstallationGuide/index.jsx","components/App/index.jsx","style/getStyledComponentsTheme.js","utils/checkIsIOS.jsx","index.jsx"],"names":["protocol","hostname","port","window","location","torrserverHost","process","REACT_APP_SERVER_HOST","concat","torrentsHost","viewedHost","settingsHost","streamHost","echoHost","playlistTorrHost","i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","interpolation","escapeValue","resources","en","translation","translationEN","ru","translationRU","ua","translationUA","zh","translationZH","bg","translationBG","fr","translationFR","ro","translationRO","humanizeSize","size","i","Math","floor","log","pow","toFixed","t","humanizeSpeed","speed","getPeerString","torrent","active_peers","seeders","connected_seeders","total_peers","removeRedundantCharacters","string","newString","forEach","el","leftBracketRegexFormula","leftBracketRegex","RegExp","leftBracketAmount","matchAll","length","rightBracketRegexFormula","rightBracketRegex","removeFormula","removeRegex","replace","hasThreeDotsAtTheEnd","match","trimmedString","trim","getTorrents","async","data","axios","post","action","error","Error","detectStandaloneApp","_window$matchMedia","_window$navigator","matchMedia","bind","isDisplayModeStandalone","mode","matches","_unused","navigator","standalone","isStandaloneApp","detectApplePlatform","_navigator$userAgentD","isMac","isIOS","userAgent","platform","userAgentData","includes","toLowerCase","test","maxTouchPoints","isAppleDevice","isMacOS","parseSizeToBytes","sizeStr","parseInt","value","parseFloat","unit","toUpperCase","suffix","isNaN","base","multiplier","K","M","G","T","round","NoImageIcon","_ref","color","primary","useTheme","palette","main","_jsx","height","width","fill","xmlns","xmlnsXlink","version","x","y","viewBox","enableBackground","xmlSpace","children","_jsxs","d","points","AddItemIcon","id","opacity","USBIcon","_ref2","RAMIcon","_ref3","TorrentIcon","secondaryColor","GETTING_INFO","PRELOAD","WORKING","CLOSED","IN_DB","useUpdateCache","hash","cache","setCache","useState","componentIsMounted","useRef","timerID","useEffect","current","setInterval","updateCache","newCache","then","catch","clearInterval","useStyles","makeStyles","appBar","_objectSpread","position","paddingTop","title","marginLeft","flex","DialogHeader","onClose","onBack","classes","AppBar","className","Toolbar","IconButton","edge","onClick","ArrowBack","Typography","variant","autoFocus","style","marginRight","CloseIcon","themeColors","light","app","headerToggleColor","appSecondaryColor","sidebarBGColor","sidebarFillColor","paperColor","torrentCard","accentCardColor","buttonBGColor","rgba","cardPrimaryColor","cardSecondaryColor","dialogTorrentDetailsContent","posterBGColor","gradientStartColor","gradientEndColor","chacheSectionBGColor","widgetFontColor","titleFontColor","subNameFontColor","torrentFilesSectionBGColor","detailedView","cacheSectionBGColor","addDialog","fontColor","notificationErrorBGColor","notificationSuccessBGColor","languageSwitchBGColor","languageSwitchFontColor","torrentFunctions","table","defaultPrimaryColor","defaultSecondaryColor","defaultTertiaryColor","settingsDialog","contentBG","footerBG","dark","mainColors","secondary","labels","THEME_MODES","LIGHT","DARK","AUTO","typography","fontFamily","createTheme","type","snakeSettings","default","borderWidth","pieceSize","gapBetweenPieces","borderColor","completeColor","backgroundColor","progressColor","readerColor","rangeColor","mini","cacheMaxHeight","ScrollNotification","styled","div","_templateObject","_taggedTemplateLiteral","SnakeWrapper","_templateObject2","isMini","themeType","css","_templateObject3","_templateObject4","TorrentCache","isSnakeDebugMode","useTranslation","dimensions","setDimensions","canvasRef","ctxRef","cacheMap","setCacheMap","PiecesCount","Pieces","Readers","map","Size","Length","Priority","newPiece","percentage","priority","r","Reader","isReader","Start","End","isReaderRange","push","useCreateCacheMap","settingsTarget","isDarkMode","useContext","DarkModeContext","theme","canvasWidth","pieceSizeWithGap","piecesInOneRow","shotCacheMap","preloadPiecesAmount","cacheMapWithoutEmptyBlocks","filter","getFullAmountOfBlocks","amountOfBlocks","amountOfBlocksToRenderInShortView","scalableAmountOfBlocksToRenderInShortView","extraBlocksAmount","max","extraEmptyBlocksForFillingLine","Array","getShortCacheMap","Capacity","PiecesLength","source","startingXPoint","ceil","canvas","getContext","ctx","clearRect","inProgress","isCompleted","currentRow","currentColumn","fixBlurStroke","requiredFix","lineWidth","fillStyle","createGradient","snakeType","gradient","createLinearGradient","addColorStop","strokeStyle","translate","fillRect","strokeRect","setTransform","info","font","xpad","ypad","fillText","Measure","bounds","onResize","_ref4","measureRef","display","flexDirection","ref","memo","prev","next","isEqual","standaloneMedia","styles","pwaFooterHeight","Header","ButtonWrapper","StyledMenuButtonWrapper","ListItem","attrs","button","StyledDialog","Dialog","hideBackdrop","transitionDuration","StyledHeader","_templateObject5","_templateObject6","TorrentCard","TorrentCardPoster","isPoster","TorrentCardButtons","TorrentCardDescription","_templateObject7","_templateObject8","StyledButton","_templateObject9","_templateObject10","StatusIndicators","_templateObject11","_ref5","_templateObject12","PrettoSlider","withStyles","_theme$breakpoints","_theme$breakpoints$do","_theme$breakpoints2","_theme$breakpoints2$d","_theme$breakpoints3","_theme$breakpoints3$d","_theme$breakpoints4","_theme$breakpoints4$d","root","breakpoints","down","call","thumb","border","marginTop","track","borderRadius","rail","Slider","dialogPaper","spacing","header","padding","justifyContent","alignItems","videoWrapper","overflow","video","cursor","objectFit","loadingOverlay","top","left","zIndex","centralControl","transform","transition","pointerEvents","animation","skipButton","leftSkip","rightSkip","right","controls","bottom","background","gap","timeRow","paddingLeft","fontSize","slider","controlRow","iconButton","speedMenu","minWidth","formatTime","seconds","isFinite","h","m","s","hh","toString","padStart","mm","ss","VideoPlayer","videoSrc","captionSrc","onNotSupported","isMobile","useMediaQuery","videoRef","open","setOpen","loading","setLoading","playing","setPlaying","currentTime","setCurrentTime","duration","setDuration","muted","setMuted","volume","setVolume","fullscreen","setFullscreen","anchorEl","setAnchorEl","setSpeed","document","createElement","canPlayType","url","split","pop","getMimeType","handlePlayPause","useCallback","paused","play","pause","togglePlay","p","handleTimeUpdate","skip","secs","target","min","onFull","fullscreenElement","addEventListener","removeEventListener","closeSpeedMenu","handleKey","e","key","preventDefault","_Fragment","PlayArrowIcon","maxWidth","fullWidth","fullScreen","paper","DialogTitle","disableTypography","noWrap","DialogContent","Box","minHeight","autoPlay","src","onTimeUpdate","onLoadedMetadata","handleLoaded","onPlay","onPause","kind","srcLang","label","CircularProgress","stopPropagation","onChange","handleSeek","_","val","Tooltip","PauseIcon","Replay10Icon","Forward10Icon","toggleMute","VolumeOffIcon","VolumeUpIcon","handleVolume","v","flexGrow","currentTarget","SpeedIcon","Menu","Boolean","MenuItem","selected","changeSpeed","playbackRate","requestPictureInPicture","PictureInPictureIcon","downloadVideo","a","href","download","body","appendChild","click","removeChild","GetAppIcon","exitFull","exitFullscreen","enterFull","requestFullscreen","FullscreenExitIcon","FullscreenIcon","viewedPrimaryColor","viewedIndicator","TableStyle","ShortTableWrapper","ShortTable","isViewed","require","ptt","addHandler","Table","_JSON$parse","_JSON$parse2","_JSON$parse3","playableFileList","viewedFileList","selectedSeason","seasonAmount","isSupported","setIsSupported","preloadBuffer","fileId","fetch","getFileLink","path","encodeURIComponent","fileHasEpisodeText","find","parse","episode","fileHasSeasonText","season","fileHasResolutionText","resolution","shouldDisplayFullFileName","isVlcUsed","JSON","localStorage","getItem","isInfuseUsed","isIinaUsed","isStandalone","isApple","shouldShowOpenLink","link","fullLink","URL","infuseLink","iinaLink","Button","textDecoration","rel","CopyToClipboard","text","_ref6","DialogContentGrid","Poster","poster","MainSection","section","CacheSection","TorrentFilesSection","_templateObject13","SectionSubName","_templateObject14","_templateObject15","mb","_templateObject16","SectionTitle","_templateObject17","_ref7","_templateObject18","_ref8","_templateObject19","SectionHeader","_templateObject20","WidgetWrapper","_templateObject21","_ref9","_templateObject22","_templateObject23","WidgetFieldWrapper","_templateObject24","WidgetFieldTitle","_templateObject25","_ref10","_templateObject26","WidgetFieldIcon","_templateObject27","_ref11","bgColor","_templateObject28","WidgetFieldValue","_templateObject29","_ref12","_templateObject30","LoadingProgress","_ref13","fullAmount","_templateObject31","_ref14","_templateObject32","Divider","_templateObject33","DetailedViewWidgetSection","DetailedViewCacheSection","TORRENT_CATEGORIES","name","icon","MovieCreationIcon","LiveTvIcon","MusicNoteIcon","MoreHorizIcon","StatisticsField","Icon","iconBg","valueBg","colors","downloadSpeed","iconBGColor","valueBGColor","uploadSpeed","peers","piecesCount","piecesLength","status","category","useGetWidgetColors","widgetName","DownlodSpeedWidget","ArrowDownwardIcon","UploadSpeedWidget","ArrowUpwardIcon","PeersWidget","SwapVerticalCircleIcon","PiecesCountWidget","WidgetsIcon","PiecesLengthWidget","PhotoSizeSelectSmallIcon","StatusWidget","stat","values","BuildIcon","SizeWidget","ViewAgendaIcon","CategoryWidget","catIndex","findIndex","catArray","charAt","slice","CategoryIcon","DetailedView","torrentSize","setIsSnakeDebugMode","FormControlLabel","control","Checkbox","checked","disableRipple","setItem","labelPlacement","MainSectionButtonGroup","SmallLabel","TorrentFunctions","_playableFileList$fin","setViewedFileList","latestViewedFileId","latestViewedFile","isOnlyOnePlayableFile","latestViewedFileData","fullPlaylistLink","partialPlaylistLink","magnet","file_index","playableExtList","isFilePlayable","fileName","filename","ext","getExt","Loader","placeItems","DialogTorrentDetailsContent","_ptt$parse","closeDialog","isLoading","setIsLoading","isDetailedCacheView","setIsDetailedCacheView","setPlayableFileList","setSeasonAmount","setSelectedSeason","download_speed","upload_speed","torrent_size","file_stats","torrentFileList","settings","setSettings","useGetSettings","Filled","seasons","currentSeason","sort","b","cacheLoaded","Object","entries","torrentLoaded","lst","itm","preloadSize","PreloadCache","bufferSize","getParsedTitle","newNameStringArr","torrentParsedName","year","newNameString","join","alt","ButtonGroup","marginBottom","language","substr","lang","changeLanguage","usePreviousState","useOnStandaloneAppOutsideClick","onClickOutside","handleClickOutside","event","contains","composedPath","eventPath","closest","some","_el$classList","_el$classList2","_el$classList3","_el$classList4","_el$getAttribute","_el$getAttribute2","classList","getAttribute","checkImageURL","magnetRegex","hashRegex","torrentRegex","linkRegex","torrsRegex","Content","isEditMode","RightSide","RightSideContainer","isHidden","notificationMessage","isError","LeftSide","LeftSideBottomSectionBasicStyles","LeftSideBottomSectionNoFile","isDragActive","LeftSideBottomSectionFileSelected","TorrentIconWrapper","CancelIconWrapper","IconWrapper","LeftSideTopSection","active","PosterWrapper","PosterSuggestions","PosterSuggestionsItem","ClearPosterButton","showbutton","UpdatePosterButton","PosterLanguageSwitch","StyledPWAAddButton","RightSideComponent","setTitle","setCategory","setPosterUrl","setIsPosterUrlCorrect","setIsUserInteractedWithPoster","setPosterList","isTorrentSourceCorrect","isHashAlreadyExists","parsedTitle","posterUrl","isPosterUrlCorrect","posterList","currentLang","posterSearchLanguage","setPosterSearchLanguage","posterSearch","removePoster","torrentSource","originalTorrentTitle","updateTitleFromSource","isCustomTitleEnabled","setIsCustomTitleEnabled","handleTitleChange","TextField","margin","disabled","InputProps","readOnly","onFocus","onBlur","helperText","endAdornment","InputAdornment","HighlightOffIcon","FormControl","FormHelperText","Select","labelId","defaultValue","IconComponent","undefined","userChangesPosterUrl","newLanguage","shouldRefreshMainPoster","fixedTitle","titleFixedMatch","replaceAll","LeftSideComponent","setSelectedFile","setTorrentSource","selectedFile","isTorrentSourceActive","setIsTorrentSourceActive","getRootProps","getInputProps","useDropzone","onDrop","files","file","accept","multiple","inputProps","autoComplete","clearSelectedFile","CancelIcon","AddDialog","handleClose","originalHash","originalTitle","originalName","originalPoster","originalCategory","setOriginalTorrentTitle","setParsedTitle","setIsTorrentSourceCorrect","setIsHashAlreadyExists","isUserInteractedWithPoster","useChangeLanguage","isSaving","setIsSaving","skipDebounce","setSkipDebounce","currentSourceHash","setCurrentSourceHash","torrents","useQuery","retry","refetchInterval","parseTorrent","remote","infoHash","arguments","allHashes","parseTorrentTitle","parsingSource","callback","err","torrentName","nameOfFileInsideTorrent","newTitle","correctImage","useMemo","movieName","imgHost","get","params","api_key","REACT_APP_TMDB_API_KEY","include_image_language","query","results","poster_path","getMoviePosters","urlList","firstPoster","delayedPosterSearch","debounce","prevTorrentSourceState","prevTitleState","cancel","handleSave","finally","FormData","append","save_to_db","Transition","forwardRef","props","Slide","direction","Torrent","_JSON$parse$TorrServe","isDetailedInfoOpened","setIsDetailedInfoOpened","isDeleteTorrentOpened","setIsDeleteTorrentOpened","closeDetailedInfo","closeDeleteTorrentAlert","time_until_delete","timeUntilDelete","file_extensions","fileExtensions","_ptt$parse2","titleStrings","parsedYear","parsedResolution","isEditDialogOpen","setIsEditDialogOpen","detailedInfoDialogRef","fileList","TorrServer","Files","playableVideoList","timeLeft","setTimeLeft","interval","handleClickOpenEditDialog","openDetailedInfo","UnfoldMoreIcon","baseName","captionFile","startsWith","getVideoCaption","openDeleteTorrentAlert","DeleteIcon","StatusIndicator","hours","minutes","formatCountdown","TransitionComponent","DialogActions","handleCloseEditDialog","AppWrapper","CenteredGrid","AppHeader","AppSidebarStyle","isDrawerOpen","TorrentListWrapper","HeaderToggle","StyledIconButton","isButton","NoServerConnection","trigger","stroke","scale","AddFirstTorrent","isDialogOpen","setIsDialogOpen","delay","TorrentList","isOffline","sortABC","sortCategory","filteredTorrents","DonateDialog","StyledSnackbar","Snackbar","DonateSnackbar","snackbarOpen","setSnackbarOpen","disableSnackbar","anchorOrigin","vertical","horizontal","message","CreditCardIcon","createGlobalStyle","SearchDialog","setQuery","setResults","searched","setSearched","adding","setAdding","successMsg","setSuccessMsg","errorMsg","setErrorMsg","trackers","setTrackers","enableRutor","setEnableRutor","selectedTracker","setSelectedTracker","sortField","setSortField","sortDirection","setSortDirection","TorznabUrls","EnableRutorSearch","console","handleSearch","index","handleAdd","item","Magnet","Link","Title","handleAlertClose","reason","sortedResults","aVal","bVal","Seed","Peer","flexWrap","InputLabel","tracker","Name","Host","Key","onKeyDown","placeholder","flexShrink","toggleSortDirection","ArrowUpward","ArrowDownward","overflowY","maxHeight","align","List","formattedSize","bytes","formatSizeToClassicUnits","ListItemText","component","primaryTypographyProps","whiteSpace","secondaryTypographyProps","ListItemSecondaryAction","DownloadIcon","Hash","autoHideDuration","borderTop","AddDialogButton","handleClickOpen","ListItemIcon","LibraryAddIcon","cacheBeforeReaderColor","cacheAfterReaderColor","SettingsHeader","FooterSection","PreloadCacheValue","MainSettingsContent","SecondarySettingsContent","StorageButton","small","StorageIconWrapper","CacheStorageSelector","SettingSectionLabel","PreloadCachePercentage","preloadCachePercentage","CacheSize","ReaderReadAHead","UseDisk","TorrentsSavePath","RemoveCacheOnDrop","ForceEncrypt","RetrackersMode","TorrentDisconnectTimeout","EnableDebug","EnableDLNA","FriendlyName","EnableIPv6","DisableTCP","DisableUTP","DisableUPNP","DisableDHT","DisablePEX","DisableUpload","DownloadRateLimit","UploadRateLimit","ConnectionsLimit","PeersListenPort","ResponsiveMode","SslPort","SslCert","SslKey","ShowFSActiveTorr","StoreSettingsInJson","a11yProps","TabPanel","other","_objectWithoutProperties","_excluded","role","hidden","SliderInput","isProMode","setValue","sliderMin","sliderMax","inputMin","inputMax","step","onBlurCallback","Grid","container","xs","onSliderChange","newValue","OutlinedInput","Number","CacheStorageLocationLabel","PrimarySettingsComponent","inputForm","cachePercentage","cacheSize","setCacheSize","setCachePercentage","setPreloadCachePercentage","updateSettings","preloadCacheSize","minPreloadPercent","gridAutoFlow","Switch","placeSelf","gridArea","StatusMessage","severity","shape","SecondarySettingsComponent","storageSettings","setStorageSettings","viewed","storageStatus","setStorageStatus","basePath","pathname","getApiUrl","endpoint","prefix","response","ok","prefs","json","loadStorageSettings","handleStorageChange","FormGroup","htmlFor","native","mt","method","headers","stringify","result","startIcon","MobileAppSettings","setIsVlcUsed","setIsInfuseUsed","setIsIinaUsed","TorznabSettings","EnableTorznabSearch","newHost","setNewHost","newKey","setNewKey","newName","setNewName","testing","setTesting","testResult","setTestResult","dense","substring","newUrls","splice","handleDelete","host","success","msg","SettingsDialog","selectedTab","setSelectedTab","setIsProMode","sets","newProps","Tabs","handleChange","indicatorColor","textColor","Tab","SwipeableViews","axis","onChangeIndex","dir","defaultSettings","SettingsDialogButton","SettingsIcon","UnsafeButton","timeout","buttonDisabled","setButtonDisabled","handleTimerTick","newTimeLeft","intervalId","RemoveAll","openDialog","Accept","DialogWrapper","HeaderSection","ThanksSection","Section","LinkWrapper","isLink","LinkIcon","LinkComponent","GitHubIcon","AboutDialog","torrServerVersion","setTorrServerVersion","InfoIcon","CloseServer","PowerSettingsNewIcon","PowerOffIcon","SearchDialogButton","SearchIcon","FilterByCategory","categoryKey","categoryName","setGlobalFilterCategory","Sidebar","setIsDonationDialogOpen","CheckIcon","ClearIcon","PWAFooter","StyledPWAFooter","IOSShareIcon","StyledWrapper","isOpen","StyledContent","PWAInstallationGuide","pwaNotificationIsClosed","setIsOpen","shouldBeOpened","setShouldBeOpened","setTimeout","snackbarIsClosed","createContext","App","setIsDrawerOpen","isDonationDialogOpen","isSearchDialogOpen","setIsSearchDialogOpen","currentThemeMode","updateThemeMode","muiTheme","useMaterialUITheme","savedThemeMode","isSystemModeDark","setIsDarkMode","setCurrentThemeMode","overrides","MuiTypography","h6","MuiPaper","MuiInputBase","input","MuiFormControlLabel","labelPlacementStart","marginStart","MuiInputLabel","MuiFormGroup","changeLang","setIsOffline","globalCategoryFilter","onError","onSuccess","setSortABC","GlobalStyle","Provider","MuiThemeProvider","StyledComponentsThemeProvider","CssBaseline","Div100vh","MenuIcon","justifySelf","gridTemplateColumns","SortByAlphaIcon","SortIcon","Brightness5Icon","Brightness4Icon","BrightnessAutoIcon","vendor","queryClient","QueryClient","ReactDOM","render","StrictMode","QueryClientProvider","client","getElementById"],"mappings":"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","file":"static/js/main.633f26d6.chunk.js","sourcesContent":["const { protocol, hostname, port } = window.location\r\n\r\nlet torrserverHost = process.env.REACT_APP_SERVER_HOST || `${protocol}//${hostname}${port ? `:${port}` : ''}`\r\n\r\nexport const torrentsHost = () => `${torrserverHost}/torrents`\r\nexport const viewedHost = () => `${torrserverHost}/viewed`\r\nexport const cacheHost = () => `${torrserverHost}/cache`\r\nexport const torrentUploadHost = () => `${torrserverHost}/torrent/upload`\r\nexport const settingsHost = () => `${torrserverHost}/settings`\r\nexport const streamHost = () => `${torrserverHost}/stream`\r\nexport const shutdownHost = () => `${torrserverHost}/shutdown`\r\nexport const echoHost = () => `${torrserverHost}/echo`\r\nexport const playlistTorrHost = () => `${torrserverHost}/stream`\r\nexport const torznabSearchHost = () => `${torrserverHost}/torznab/search`\r\nexport const searchHost = () => `${torrserverHost}/search`\r\nexport const torznabTestHost = () => `${torrserverHost}/torznab/test`\r\n\r\nexport const getTorrServerHost = () => torrserverHost\r\nexport const setTorrServerHost = host => {\r\n  torrserverHost = host\r\n}\r\n","import i18n from 'i18next'\r\nimport { initReactI18next } from 'react-i18next'\r\nimport LanguageDetector from 'i18next-browser-languagedetector'\r\nimport translationEN from 'locales/en/translation.json'\r\nimport translationRU from 'locales/ru/translation.json'\r\nimport translationUA from 'locales/ua/translation.json'\r\nimport translationZH from 'locales/zh/translation.json'\r\nimport translationBG from 'locales/bg/translation.json'\r\nimport translationFR from 'locales/fr/translation.json'\r\nimport translationRO from 'locales/ro/translation.json'\r\n\r\ni18n\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next)\r\n  .init({\r\n    fallbackLng: 'en', // default language will be used if none of declared lanuages detected (en, ru)\r\n    interpolation: { escapeValue: false }, // react already safes from xss\r\n    resources: {\r\n      en: { translation: translationEN },\r\n      ru: { translation: translationRU },\r\n      ua: { translation: translationUA },\r\n      zh: { translation: translationZH },\r\n      bg: { translation: translationBG },\r\n      fr: { translation: translationFR },\r\n      ro: { translation: translationRO },\r\n    },\r\n  })\r\n\r\nexport default i18n\r\n","import axios from 'axios'\r\n\r\nimport i18n from '../i18n'\r\nimport { torrentsHost } from './Hosts'\r\n\r\nexport function humanizeSize(size) {\r\n  if (!size) return ''\r\n  const i = Math.floor(Math.log(size) / Math.log(1024))\r\n  return `${(size / Math.pow(1024, i)).toFixed(2) * 1} ${\r\n    [i18n.t('B'), i18n.t('KB'), i18n.t('MB'), i18n.t('GB'), i18n.t('TB')][i]\r\n  }`\r\n}\r\n\r\nexport function humanizeSpeed(speed) {\r\n  if (!speed) return ''\r\n  const i = Math.floor(Math.log(speed * 8) / Math.log(1000))\r\n  return `${((speed * 8) / Math.pow(1000, i)).toFixed(0) * 1} ${\r\n    [i18n.t('bps'), i18n.t('kbps'), i18n.t('Mbps'), i18n.t('Gbps'), i18n.t('Tbps')][i]\r\n  }`\r\n}\r\n\r\nexport function getPeerString(torrent) {\r\n  if (!torrent || !torrent.active_peers) return null\r\n  const seeders = typeof torrent.connected_seeders !== 'undefined' ? torrent.connected_seeders : 0\r\n  return `${torrent.active_peers} / ${torrent.total_peers}  ${seeders}`\r\n}\r\n\r\nexport const shortenText = (text, sympolAmount) =>\r\n  text ? text.slice(0, sympolAmount) + (text.length > sympolAmount ? '' : '') : ''\r\n\r\nexport const removeRedundantCharacters = string => {\r\n  let newString = string\r\n  const brackets = [\r\n    ['(', ')'],\r\n    ['[', ']'],\r\n    ['{', '}'],\r\n  ]\r\n\r\n  brackets.forEach(el => {\r\n    const leftBracketRegexFormula = `\\\\${el[0]}`\r\n    const leftBracketRegex = new RegExp(leftBracketRegexFormula, 'g')\r\n    const leftBracketAmount = [...newString.matchAll(leftBracketRegex)].length\r\n    const rightBracketRegexFormula = `\\\\${el[1]}`\r\n    const rightBracketRegex = new RegExp(rightBracketRegexFormula, 'g')\r\n    const rightBracketAmount = [...newString.matchAll(rightBracketRegex)].length\r\n\r\n    if (leftBracketAmount !== rightBracketAmount) {\r\n      const removeFormula = `(\\\\${el[0]})(?!.*\\\\1).*`\r\n      const removeRegex = new RegExp(removeFormula, 'g')\r\n      newString = newString.replace(removeRegex, '')\r\n    }\r\n  })\r\n\r\n  const hasThreeDotsAtTheEnd = !!newString.match(/\\.{3}$/g)\r\n\r\n  const trimmedString = newString.replace(/[\\\\.| ]+$/g, '').trim()\r\n\r\n  return hasThreeDotsAtTheEnd ? `${trimmedString}..` : trimmedString\r\n}\r\n\r\nexport const getTorrents = async () => {\r\n  try {\r\n    const { data } = await axios.post(torrentsHost(), { action: 'list' })\r\n    return data\r\n  } catch (error) {\r\n    throw new Error(null)\r\n  }\r\n}\r\n\r\nexport const detectStandaloneApp = () => {\r\n  if (typeof window === 'undefined') return false\r\n\r\n  const matchMedia = window.matchMedia?.bind(window)\r\n  const isDisplayModeStandalone = mode => {\r\n    try {\r\n      return !!matchMedia && matchMedia(mode).matches\r\n    } catch {\r\n      return false\r\n    }\r\n  }\r\n\r\n  const byDisplayMode =\r\n    isDisplayModeStandalone('(display-mode: standalone)') ||\r\n    isDisplayModeStandalone('screen and (display-mode: standalone)')\r\n\r\n  return byDisplayMode || window.navigator?.standalone === true\r\n}\r\n\r\nexport const isStandaloneApp = detectStandaloneApp()\r\n\r\nconst detectApplePlatform = () => {\r\n  if (typeof window === 'undefined' || typeof navigator === 'undefined') {\r\n    return { isMac: false, isIOS: false }\r\n  }\r\n\r\n  const userAgent = navigator.userAgent || ''\r\n  const platform = navigator.userAgentData?.platform || ''\r\n\r\n  const isMac = userAgent.includes('Macintosh') || (platform && platform.toLowerCase().includes('mac'))\r\n\r\n  const isIOS = /iPad|iPhone|iPod/.test(userAgent) || (userAgent.includes('Macintosh') && navigator.maxTouchPoints > 1)\r\n\r\n  return { isMac, isIOS }\r\n}\r\n\r\nexport const isAppleDevice = () => {\r\n  const { isMac, isIOS } = detectApplePlatform()\r\n  return isMac || isIOS\r\n}\r\n\r\nexport const isMacOS = () => {\r\n  const { isMac, isIOS } = detectApplePlatform()\r\n  return isMac && !isIOS\r\n}\r\n\r\n/**\r\n * Formats bytes to classic size units (B, KB, MB, GB, TB)\r\n * Uses binary (1024) base for conversion\r\n */\r\nexport function formatSizeToClassicUnits(bytes) {\r\n  if (!bytes || bytes === 0) return '0 B'\r\n  const sizes = ['B', 'KB', 'MB', 'GB', 'TB']\r\n  const i = Math.floor(Math.log(bytes) / Math.log(1024))\r\n  const value = bytes / Math.pow(1024, i)\r\n  return `${value.toFixed(i === 0 ? 0 : 2)} ${sizes[i]}`\r\n}\r\n\r\n/**\r\n * Parses a human-readable size string (e.g., \"1.5 GiB\", \"500 MiB\", \"1.5 GCiB\") to bytes\r\n * Supports both binary (KiB, MiB, GiB, TiB) and decimal (KB, MB, GB, TB) units\r\n * Also handles the server format which may include \"CiB\" suffix (e.g., \"GCiB\")\r\n */\r\nexport function parseSizeToBytes(sizeStr) {\r\n  if (!sizeStr || typeof sizeStr !== 'string') return 0\r\n\r\n  // Handle plain bytes format (e.g., \"1024 B\")\r\n  if (sizeStr.trim().match(/^\\d+\\s*B$/i)) {\r\n    return parseInt(sizeStr.trim().match(/^\\d+/)[0], 10)\r\n  }\r\n\r\n  // Match number and unit - handle both \"GiB\" and \"GCiB\" formats\r\n  // Pattern matches: \"1.5 GiB\", \"1.5 GCiB\", \"500 MiB\", \"500 MCiB\", etc.\r\n  const match = sizeStr.trim().match(/^([\\d.]+)\\s*([KMGT]?)(i?B|CiB)$/i)\r\n  if (!match) return 0\r\n\r\n  const value = parseFloat(match[1])\r\n  const unit = match[2].toUpperCase()\r\n  const suffix = match[3].toUpperCase()\r\n\r\n  if (isNaN(value)) return 0\r\n\r\n  // Check if it's binary (iB or CiB suffix) or decimal (just B)\r\n  const isBinary = suffix.includes('I') || suffix.includes('C')\r\n  const base = isBinary ? 1024 : 1000\r\n  const multipliers = { '': 1, K: 1, M: 2, G: 3, T: 4 }\r\n  const multiplier = multipliers[unit] || 1\r\n\r\n  return Math.round(value * Math.pow(base, multiplier))\r\n}\r\n","import { useTheme } from '@material-ui/core'\r\n\r\nexport const NoImageIcon = ({ color }) => {\r\n  const primary = useTheme().palette.primary.main\r\n\r\n  return (\r\n    <svg\r\n      height='80px'\r\n      width='80px'\r\n      fill={color || primary}\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      xmlnsXlink='http://www.w3.org/1999/xlink'\r\n      version='1.1'\r\n      x='0px'\r\n      y='0px'\r\n      viewBox='0 0 100 100'\r\n      enableBackground='new 0 0 100 100'\r\n      xmlSpace='preserve'\r\n    >\r\n      <g>\r\n        <path d='M18.293,93.801c0.066,0.376,0.284,0.718,0.597,0.937c0.313,0.219,0.708,0.307,1.085,0.241l70.058-12.353   c0.376-0.066,0.718-0.284,0.937-0.597c0.219-0.313,0.307-0.708,0.24-1.085l-9.502-53.891c-0.139-0.79-0.892-1.317-1.682-1.178   l-19.402,3.421L47.997,14.16c0.241-0.706,0.375-1.456,0.375-2.229c0-0.399-0.035-0.804-0.106-1.209C47.671,7.363,44.757,5,41.455,5   c-0.4,0-0.804,0.035-1.209,0.106h0c-3.359,0.595-5.723,3.509-5.723,6.812c0,0.4,0.035,0.804,0.106,1.209   c0.178,1.005,0.567,1.918,1.109,2.709l-6.875,19.061L9.968,38.228c-0.79,0.139-1.317,0.892-1.177,1.682L18.293,93.801z    M40.75,7.966L40.75,7.966c0.239-0.042,0.474-0.062,0.705-0.062c1.909,0,3.612,1.373,3.953,3.324v0   c0.042,0.238,0.062,0.473,0.062,0.704c0,1.908-1.373,3.612-3.323,3.953h0.001c-0.238,0.042-0.473,0.062-0.705,0.062   c-1.908,0-3.612-1.373-3.953-3.323c-0.042-0.238-0.062-0.473-0.062-0.705C37.427,10.01,38.799,8.306,40.75,7.966z M38.059,17.96   c1.012,0.569,2.17,0.89,3.383,0.89c0.399,0,0.804-0.034,1.208-0.106h0.001c1.48-0.263,2.766-0.976,3.743-1.974l10.935,13.108   L32.16,34.315L38.059,17.96z M29.978,37.648c0.136-0.004,0.268-0.029,0.396-0.07l29.75-5.246c0.134-0.006,0.266-0.027,0.395-0.07   l18.582-3.277l8.998,51.031L20.9,91.867l-8.998-51.032L29.978,37.648z' />\r\n        <path d='M49.984,75.561c0.809,0,1.627-0.065,2.449-0.199l0.001,0c7.425-1.213,12.701-7.627,12.701-14.919   c0-0.809-0.065-1.627-0.199-2.449c-1.213-7.425-7.626-12.701-14.919-12.701c-0.808,0-1.627,0.065-2.45,0.199   c-7.425,1.213-12.701,7.626-12.701,14.918c0,0.808,0.065,1.627,0.199,2.449C36.278,70.284,42.692,75.561,49.984,75.561z    M51.967,72.496c-0.668,0.109-1.33,0.161-1.983,0.161c-5.883,0-11.079-4.265-12.053-10.265c-0.109-0.668-0.161-1.33-0.161-1.983   c0-2.108,0.555-4.123,1.534-5.892l19.693,14.176C57.206,70.645,54.782,72.039,51.967,72.496z M48.034,48.357L48.034,48.357   c0.668-0.109,1.329-0.161,1.983-0.161c5.882,0,11.079,4.265,12.053,10.265c0.109,0.667,0.161,1.329,0.161,1.983   c0,2.109-0.556,4.127-1.536,5.897L41.001,52.163C42.791,50.21,45.217,48.814,48.034,48.357z' />\r\n        <polygon points='47.567,45.492 47.567,45.492 47.568,45.491  ' />\r\n      </g>\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport const AddItemIcon = () => {\r\n  const primary = useTheme().palette.primary.main\r\n\r\n  return (\r\n    <svg\r\n      height='100px'\r\n      width='100px'\r\n      fill={primary}\r\n      viewBox='0 0 452 452'\r\n      version='1.1'\r\n      xmlns='http://www.w3.org/2000/svg'\r\n    >\r\n      <g id='#000000'>\r\n        <path\r\n          opacity='1.00'\r\n          d=' M 210.49 18.69 C 244.92 16.12 280.02 22.13 311.46 36.47 C 344.90 51.54 374.16 75.69 395.41 105.58 C 415.62 133.87 428.55 167.34 432.48 201.89 C 438.07 248.86 427.02 297.61 401.45 337.43 C 382.92 366.59 357.02 391.04 326.80 407.80 C 300.81 422.31 271.64 431.08 241.96 433.26 C 207.37 435.97 172.14 429.83 140.54 415.51 C 109.95 401.69 82.82 380.33 62.16 353.86 C 39.25 324.67 24.38 289.21 19.78 252.38 C 14.94 214.51 20.65 175.31 36.47 140.54 C 54.11 101.38 84.24 67.99 121.37 46.39 C 148.44 30.52 179.19 20.98 210.49 18.69 M 213.46 36.60 C 178.91 38.80 145.03 50.71 116.76 70.72 C 84.67 93.21 59.84 125.88 46.91 162.88 C 34.87 196.99 32.96 234.54 41.25 269.73 C 48.89 302.45 65.53 332.98 88.79 357.21 C 113.91 383.56 146.78 402.45 182.25 410.72 C 216.67 418.86 253.37 417.21 286.87 405.85 C 329.85 391.49 367.13 361.01 389.89 321.85 C 406.02 294.41 414.96 262.84 415.73 231.03 C 416.71 196.59 408.11 161.91 390.97 132.00 C 372.31 99.13 343.57 72.09 309.61 55.49 C 279.95 40.89 246.43 34.40 213.46 36.60 Z'\r\n        />\r\n        <path\r\n          opacity='1.00'\r\n          d=' M 217.02 117.63 C 223.01 117.45 228.99 117.45 234.98 117.63 C 235.16 150.72 234.93 183.81 235.09 216.89 C 268.18 217.03 301.28 216.82 334.38 216.99 C 334.57 222.99 334.57 229.00 334.38 235.01 C 301.28 235.18 268.18 234.97 235.09 235.11 C 234.93 268.19 235.16 301.28 234.98 334.37 C 228.99 334.55 223.00 334.55 217.02 334.37 C 216.84 301.28 217.07 268.19 216.92 235.11 C 183.82 234.97 150.72 235.17 117.62 235.01 C 117.43 229.00 117.43 222.99 117.62 216.99 C 150.72 216.82 183.82 217.03 216.91 216.89 C 217.07 183.81 216.84 150.72 217.02 117.63 Z'\r\n        />\r\n      </g>\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport const USBIcon = ({ color, width }) => {\r\n  const primary = useTheme().palette.primary.main\r\n\r\n  return (\r\n    <svg\r\n      width={width || '100%'}\r\n      height='100%'\r\n      viewBox='96.96632385253906 377.9800109863281 873.03369140625 310.9999694824219'\r\n      version='1.1'\r\n      xmlns='http://www.w3.org/2000/svg'\r\n    >\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 603.05 378.50 C 648.01 378.10 692.99 378.30 737.96 378.24 C 746.80 377.82 755.66 378.04 764.51 378.02 C 764.49 396.01 764.50 414.00 764.50 432.00 C 833.00 432.01 901.50 431.99 970.00 432.00 C 970.00 499.67 970.00 567.33 970.00 635.00 C 941.01 635.01 912.02 634.98 883.04 635.01 C 868.37 635.70 853.70 634.86 839.03 635.00 C 814.19 635.00 789.35 634.99 764.50 635.00 C 764.50 652.99 764.49 670.99 764.51 688.98 C 722.02 688.64 679.51 688.76 637.01 688.76 C 610.36 688.24 583.70 688.61 557.04 688.50 C 535.36 688.64 513.69 688.06 492.00 688.25 C 467.01 688.45 442.03 687.89 417.04 688.00 C 393.35 688.06 369.67 687.54 345.97 687.76 C 331.65 687.28 317.32 687.58 303.00 687.51 C 287.69 686.89 272.35 687.61 257.03 686.99 C 244.25 687.26 231.37 686.92 218.84 684.09 C 183.39 676.56 151.36 655.48 129.16 627.00 C 110.45 603.11 98.57 573.55 97.40 543.09 C 95.46 518.81 100.09 494.17 110.06 471.99 C 126.89 434.21 159.00 403.08 198.12 389.13 C 227.91 377.22 260.63 379.63 292.01 379.76 C 308.00 379.13 324.02 379.87 340.01 379.25 C 355.65 379.17 371.30 379.41 386.95 379.13 C 409.62 378.70 432.32 379.37 455.00 378.74 C 504.35 378.92 553.69 378.31 603.05 378.50 M 348.01 411.51 C 320.98 411.52 293.95 411.45 266.93 411.54 C 256.91 412.17 246.82 411.10 236.84 412.46 C 208.12 415.88 181.14 430.38 161.51 451.48 C 144.71 469.43 133.29 492.57 130.42 517.07 C 124.64 554.31 138.80 593.31 165.32 619.73 C 177.83 632.43 193.39 641.88 210.05 648.05 C 228.40 654.56 248.11 655.87 267.42 655.59 C 319.94 655.19 372.45 655.94 424.97 655.75 C 450.32 655.57 475.67 656.17 501.02 656.00 C 525.32 656.12 549.63 655.73 573.92 656.26 C 626.62 656.05 679.30 656.63 732.00 656.50 C 732.00 574.50 732.00 492.50 732.00 410.51 C 689.66 410.38 647.34 410.94 605.01 410.75 C 587.68 410.55 570.37 411.13 553.05 411.00 C 526.36 411.00 499.67 411.01 472.98 411.00 C 431.33 411.69 389.65 410.81 348.01 411.51 M 764.49 464.27 C 764.51 510.42 764.51 556.58 764.49 602.73 C 822.24 602.77 879.99 602.74 937.74 602.75 C 938.25 556.59 937.90 510.41 937.99 464.25 C 880.16 464.27 822.32 464.23 764.49 464.27 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 842.49 484.02 C 853.57 483.79 864.63 484.32 875.71 484.25 C 876.25 495.35 875.68 506.46 875.04 517.54 C 864.40 517.59 853.77 516.92 843.13 517.38 C 842.74 516.32 842.40 515.20 842.48 514.06 C 842.50 504.04 842.50 494.03 842.49 484.02 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 287.02 517.49 C 345.02 517.51 403.02 517.49 461.02 517.50 C 499.18 517.57 537.34 517.29 575.49 517.75 C 575.51 528.25 575.51 538.75 575.49 549.25 C 531.01 549.74 486.52 549.41 442.04 549.50 C 390.37 549.51 338.69 549.49 287.02 549.51 C 286.99 538.84 286.99 528.16 287.02 517.49 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 842.78 549.74 C 853.53 549.91 864.26 549.51 875.01 549.44 C 875.73 560.52 876.27 571.65 875.71 582.75 C 864.63 582.80 853.57 583.17 842.49 582.99 C 842.69 571.91 842.12 560.80 842.78 549.74 Z'\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport const RAMIcon = ({ color, width }) => {\r\n  const primary = useTheme().palette.primary.main\r\n\r\n  return (\r\n    <svg\r\n      width={width || '100%'}\r\n      height='100%'\r\n      viewBox='13.928732872009277 69.97769927978516 172.15252685546875 60.067893981933594'\r\n      version='1.1'\r\n      xmlns='http://www.w3.org/2000/svg'\r\n    >\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 18.20 70.32 C 19.46 70.07 20.73 69.96 22.01 69.98 C 74.36 70.03 126.72 69.97 179.08 70.01 C 182.16 69.72 185.50 71.74 185.82 74.99 C 186.15 79.61 186.20 84.29 185.78 88.91 C 183.66 90.31 179.87 90.73 180.00 93.99 C 179.86 97.27 183.68 97.69 185.79 99.12 C 186.27 107.07 185.91 115.06 185.99 123.03 C 186.29 126.14 184.25 129.52 180.97 129.83 C 175.33 130.27 169.65 129.88 164.00 130.00 C 147.71 129.85 131.39 130.31 115.12 129.78 C 112.92 127.53 114.51 123.74 113.95 120.86 C 114.67 118.55 111.27 116.64 110.24 119.19 C 109.73 122.42 110.24 125.71 109.79 128.95 C 108.65 130.43 106.57 129.83 104.96 130.03 C 76.94 129.95 48.93 130.04 20.91 129.99 C 17.47 130.37 13.95 127.70 14.07 124.10 C 14.02 115.76 13.75 107.39 14.22 99.07 C 16.33 97.68 20.10 97.27 20.00 94.03 C 20.17 90.71 16.28 90.35 14.20 88.85 C 13.80 84.56 13.92 80.24 14.07 75.94 C 14.03 73.43 15.75 70.97 18.20 70.32 M 18.23 75.15 C 17.73 78.78 18.05 82.46 18.02 86.11 C 21.05 87.67 24.20 90.21 23.99 94.00 C 24.20 97.79 21.03 100.31 18.01 101.89 C 18.15 109.55 17.67 117.24 18.22 124.87 C 18.45 125.10 18.90 125.56 19.13 125.78 C 26.06 126.33 33.03 125.84 39.98 126.00 C 39.99 123.36 40.01 120.72 40.09 118.08 C 62.07 117.87 84.05 118.10 106.03 117.96 C 107.62 116.17 109.32 113.83 112.02 114.00 C 114.70 113.85 116.37 116.19 117.96 117.96 C 131.94 118.09 145.93 117.88 159.91 118.08 C 159.98 120.72 160.01 123.36 160.02 126.00 C 166.94 125.83 173.90 126.34 180.80 125.78 C 181.05 125.57 181.54 125.14 181.78 124.93 C 182.32 117.28 181.85 109.57 181.99 101.90 C 178.96 100.31 175.78 97.79 176.01 93.99 C 175.79 90.20 178.94 87.66 181.98 86.11 C 181.94 82.47 182.27 78.80 181.77 75.19 C 181.16 73.66 179.34 74.17 178.06 73.99 C 126.04 74.00 74.01 74.01 21.99 73.99 C 20.69 74.16 18.91 73.67 18.23 75.15 M 42.00 120.00 C 42.00 122.00 42.00 124.00 42.00 126.00 C 43.33 126.00 44.67 126.00 46.00 126.00 C 46.00 124.00 46.00 122.00 46.00 120.00 C 44.67 120.00 43.33 120.00 42.00 120.00 M 48.00 120.00 C 48.00 122.00 48.00 124.00 48.00 126.00 C 49.33 126.00 50.67 126.00 52.00 126.00 C 52.00 124.00 52.00 122.00 52.00 120.00 C 50.67 120.00 49.33 120.00 48.00 120.00 M 54.00 120.00 C 54.00 122.00 54.00 124.00 54.00 126.00 C 55.33 126.00 56.67 126.00 58.00 126.00 C 58.00 124.00 58.00 122.00 58.00 120.00 C 56.67 120.00 55.33 120.00 54.00 120.00 M 60.00 120.00 C 60.00 122.00 60.00 124.00 60.00 126.00 C 61.33 126.00 62.67 126.00 64.00 126.00 C 64.00 124.00 64.00 122.00 64.00 120.00 C 62.67 120.00 61.33 120.00 60.00 120.00 M 66.00 120.00 C 66.00 122.00 66.00 124.00 66.00 126.00 C 67.33 126.00 68.67 126.00 70.00 126.00 C 70.00 124.00 70.00 122.00 70.00 120.00 C 68.67 120.00 67.33 120.00 66.00 120.00 M 72.00 120.00 C 72.00 122.00 72.00 124.00 72.00 126.00 C 73.33 126.00 74.67 126.00 76.00 126.00 C 76.00 124.00 76.00 122.00 76.00 120.00 C 74.67 120.00 73.33 120.00 72.00 120.00 M 78.00 120.00 C 78.00 122.00 78.00 124.00 78.00 126.00 C 79.33 126.00 80.67 126.00 82.00 126.00 C 82.00 124.00 82.00 122.00 82.00 120.00 C 80.67 120.00 79.33 120.00 78.00 120.00 M 84.00 120.00 C 84.00 122.00 84.00 124.00 84.00 126.00 C 85.33 126.00 86.67 126.00 88.00 126.00 C 88.00 124.00 88.00 122.00 88.00 120.00 C 86.67 120.00 85.33 120.00 84.00 120.00 M 90.00 120.00 C 90.00 122.00 90.00 124.00 90.00 126.00 C 91.33 126.00 92.67 126.00 94.00 126.00 C 94.00 124.00 94.00 122.00 94.00 120.00 C 92.67 120.00 91.33 120.00 90.00 120.00 M 96.00 120.00 C 96.00 122.00 96.00 124.00 96.00 126.00 C 97.33 126.00 98.67 126.00 100.00 126.00 C 100.00 124.00 100.00 122.00 100.00 120.00 C 98.67 120.00 97.33 120.00 96.00 120.00 M 102.00 120.00 C 102.00 122.00 102.00 124.00 102.00 126.00 C 103.33 126.00 104.67 126.00 106.00 126.00 C 106.00 124.00 106.00 122.00 106.00 120.00 C 104.67 120.00 103.33 120.00 102.00 120.00 M 118.00 120.00 C 118.00 122.00 118.00 124.00 118.00 126.00 C 119.33 126.00 120.67 126.00 122.00 126.00 C 122.00 124.00 122.00 122.00 122.00 120.00 C 120.67 120.00 119.33 120.00 118.00 120.00 M 124.00 120.00 C 124.00 122.00 124.00 124.00 124.00 126.00 C 125.33 126.00 126.67 126.00 128.00 126.00 C 128.00 124.00 128.00 122.00 128.00 120.00 C 126.67 120.00 125.33 120.00 124.00 120.00 M 130.00 120.00 C 130.00 122.00 130.00 124.00 130.00 126.00 C 131.33 126.00 132.67 126.00 134.00 126.00 C 134.00 124.00 134.00 122.00 134.00 120.00 C 132.67 120.00 131.33 120.00 130.00 120.00 M 136.00 120.00 C 136.00 122.00 136.00 124.00 136.00 126.00 C 137.33 126.00 138.67 126.00 140.00 126.00 C 140.00 124.00 140.00 122.00 140.00 120.00 C 138.67 120.00 137.33 120.00 136.00 120.00 M 142.00 120.00 C 142.00 122.00 142.00 124.00 142.00 126.00 C 143.33 126.00 144.66 126.00 146.00 126.00 C 146.00 124.00 146.00 122.00 146.00 120.00 C 144.67 120.00 143.33 120.00 142.00 120.00 M 148.00 120.00 C 148.00 122.00 148.00 124.00 148.00 126.00 C 149.33 126.00 150.66 126.00 152.00 126.00 C 152.00 124.00 152.00 122.00 152.00 120.00 C 150.67 120.00 149.33 120.00 148.00 120.00 M 154.00 120.00 C 154.00 122.00 154.00 124.00 154.00 126.00 C 155.33 126.00 156.66 126.00 158.00 126.00 C 158.00 124.00 158.00 122.00 158.00 120.00 C 156.67 120.00 155.33 120.00 154.00 120.00 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 30.03 81.93 C 29.85 80.12 30.82 77.95 32.93 78.11 C 37.91 77.93 42.93 77.74 47.89 78.25 C 50.98 79.21 49.68 83.33 50.10 85.77 C 49.59 85.78 48.57 85.80 48.06 85.80 C 48.01 83.89 47.96 81.98 47.90 80.08 C 42.62 79.96 37.35 79.96 32.08 80.08 C 31.95 89.36 31.95 98.64 32.08 107.91 C 37.36 108.05 42.64 108.05 47.92 107.91 C 48.02 104.01 48.01 100.11 48.02 96.21 C 48.51 96.21 49.48 96.21 49.97 96.20 C 49.93 100.09 50.29 104.01 49.76 107.87 C 49.40 110.05 46.77 109.95 45.09 110.01 C 40.74 109.96 36.36 110.29 32.04 109.74 C 29.91 109.31 30.07 106.74 29.99 105.08 C 30.02 97.37 29.93 89.65 30.03 81.93 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 56.08 78.25 C 61.33 77.80 66.67 77.79 71.92 78.25 C 74.45 78.84 73.88 82.03 74.03 83.96 C 73.88 91.66 74.20 99.37 73.89 107.07 C 73.99 110.35 68.80 111.17 67.40 108.44 C 68.91 108.19 70.43 107.96 71.95 107.75 C 72.01 98.53 72.08 89.30 71.91 80.08 C 66.64 79.96 61.36 79.96 56.08 80.08 C 55.95 89.35 55.95 98.63 56.08 107.90 C 58.65 107.98 61.23 108.01 63.80 108.04 C 63.80 108.54 63.78 109.52 63.78 110.02 C 60.75 109.51 55.74 111.45 54.25 107.89 C 53.63 99.96 54.19 91.96 53.97 84.00 C 54.13 82.06 53.53 78.84 56.08 78.25 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 79.38 78.49 C 84.51 77.49 89.88 78.03 95.10 78.12 C 97.17 77.98 98.14 80.11 97.97 81.89 C 98.04 89.96 98.04 98.04 97.97 106.11 C 98.13 107.87 97.20 109.99 95.14 109.88 C 90.11 110.08 85.02 110.27 80.01 109.73 C 77.91 109.26 78.05 106.71 77.99 105.04 C 77.99 97.70 77.99 90.35 77.99 83.01 C 78.12 81.47 77.82 79.41 79.38 78.49 M 80.08 80.08 C 79.95 89.36 79.95 98.64 80.08 107.92 C 85.36 108.04 90.64 108.04 95.92 107.92 C 96.05 98.64 96.05 89.36 95.92 80.08 C 90.64 79.96 85.36 79.96 80.08 80.08 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 103.34 78.52 C 108.47 77.46 113.88 78.05 119.12 78.12 C 121.20 77.99 122.14 80.13 121.97 81.91 C 122.04 89.97 122.04 98.04 121.97 106.10 C 122.14 107.87 121.19 110.00 119.12 109.88 C 114.37 110.13 109.59 110.13 104.85 109.88 C 102.80 109.99 101.86 107.88 102.03 106.13 C 101.92 98.40 102.03 90.66 101.99 82.93 C 102.13 81.44 101.84 79.43 103.34 78.52 M 104.08 80.08 C 103.95 89.36 103.95 98.64 104.08 107.92 C 109.36 108.05 114.64 108.04 119.92 107.92 C 120.06 98.64 120.05 89.36 119.92 80.08 C 114.64 79.96 109.36 79.95 104.08 80.08 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 127.43 78.45 C 131.88 77.51 136.52 78.12 141.04 77.99 C 143.01 77.87 145.98 78.22 145.88 80.86 C 146.19 88.89 145.92 96.94 146.01 104.98 C 145.93 106.67 146.12 109.28 143.96 109.74 C 141.40 110.19 138.79 109.99 136.21 110.02 C 136.21 109.52 136.21 108.53 136.21 108.04 C 138.78 108.01 141.35 107.98 143.92 107.91 C 144.05 98.63 144.06 89.35 143.92 80.08 C 138.64 79.96 133.36 79.96 128.09 80.08 C 128.02 82.64 127.99 85.21 127.96 87.78 C 127.47 87.79 126.48 87.79 125.99 87.79 C 126.38 84.77 124.90 80.72 127.43 78.45 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 151.38 78.48 C 155.82 77.48 160.48 78.14 165.01 77.99 C 167.01 77.85 170.02 78.25 169.89 80.92 C 170.18 88.94 169.92 96.98 170.01 105.01 C 170.13 107.00 169.77 109.99 167.12 109.88 C 162.10 110.07 157.02 110.27 152.02 109.74 C 149.89 109.27 150.05 106.67 149.99 104.99 C 149.99 97.64 149.99 90.30 149.99 82.95 C 150.12 81.43 149.84 79.39 151.38 78.48 M 152.08 80.08 C 151.95 89.36 151.95 98.64 152.08 107.92 C 157.36 108.04 162.64 108.04 167.92 107.92 C 168.05 98.64 168.05 89.36 167.92 80.08 C 162.64 79.96 157.36 79.96 152.08 80.08 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 48.01 88.19 C 48.50 88.19 49.49 88.19 49.99 88.19 C 49.98 90.06 49.98 91.92 49.99 93.78 C 49.49 93.79 48.51 93.79 48.01 93.79 C 48.01 91.92 48.01 90.06 48.01 88.19 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 126.01 92.19 C 126.51 92.19 127.49 92.19 127.99 92.19 C 127.98 94.06 127.98 95.93 127.98 97.80 C 127.49 97.79 126.50 97.78 126.01 97.78 C 126.01 95.91 126.01 94.05 126.01 92.19 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 125.98 100.19 C 126.48 100.19 127.47 100.19 127.96 100.19 C 127.99 102.75 128.02 105.32 128.08 107.88 C 129.98 107.95 131.89 108.01 133.81 108.07 C 133.80 108.57 133.78 109.59 133.77 110.10 C 131.39 109.71 128.07 110.79 126.45 108.53 C 125.66 105.83 126.07 102.96 125.98 100.19 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 24.41 112.66 C 27.59 110.67 32.28 113.20 32.00 117.04 C 32.18 120.52 28.24 123.02 25.11 121.66 C 21.33 120.42 20.93 114.50 24.41 112.66 M 26.15 114.12 C 24.25 114.47 23.50 116.93 24.38 118.50 C 25.45 120.81 29.45 120.37 29.89 117.81 C 30.58 115.59 28.37 113.39 26.15 114.12 Z'\r\n      />\r\n      <path\r\n        fill={color || primary}\r\n        opacity='1.00'\r\n        d=' M 170.48 112.62 C 173.67 110.70 178.29 113.25 178.00 117.06 C 178.16 120.55 174.19 123.04 171.06 121.64 C 167.28 120.35 166.95 114.41 170.48 112.62 M 172.11 114.13 C 169.72 114.60 169.28 118.30 171.30 119.51 C 173.13 120.90 176.17 119.39 175.97 117.02 C 176.16 114.97 173.98 113.54 172.11 114.13 Z'\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport const TorrentIcon = () => {\r\n  const primary = useTheme().palette.primary.main\r\n  const secondaryColor = primary === '#00a572' ? '#74c39c' : '#4a5255'\r\n\r\n  return (\r\n    <svg width='150px' height='150px' viewBox='0 0 512 512' version='1.1' xmlns='http://www.w3.org/2000/svg'>\r\n      <g id={primary}>\r\n        <path\r\n          fill={primary}\r\n          opacity='1.00'\r\n          d=' M 102.41 0.00 L 319.87 0.00 C 320.21 29.68 319.87 59.37 320.04 89.05 C 320.29 97.32 323.88 105.47 329.94 111.12 C 336.01 117.07 344.56 120.18 353.01 120.01 C 382.02 119.87 411.04 120.22 440.05 119.83 C 439.94 236.88 440.04 353.93 440.00 470.98 C 440.01 478.16 440.50 485.68 437.47 492.41 C 432.79 503.85 421.05 511.80 408.71 512.00 L 103.28 512.00 C 90.95 511.79 79.20 503.84 74.53 492.42 C 72.06 486.96 71.87 480.87 71.99 474.97 C 72.01 327.63 71.99 180.30 72.00 32.96 C 71.95 27.61 73.03 22.22 75.52 17.46 C 80.55 7.39 91.19 0.57 102.41 0.00 M 360.00 382.07 C 358.69 383.73 359.01 385.99 358.90 387.97 C 358.95 396.36 358.91 404.75 358.93 413.14 C 352.50 403.51 346.13 393.83 339.77 384.16 C 338.65 382.47 337.13 380.65 334.92 380.63 C 331.97 380.41 329.13 382.87 329.22 385.89 C 328.94 396.58 329.24 407.28 329.08 417.98 C 329.14 420.43 328.85 422.98 329.54 425.38 C 330.75 429.14 337.11 428.63 337.54 424.63 C 338.19 415.09 337.55 405.51 337.83 395.95 C 343.71 404.78 349.41 413.73 355.26 422.58 C 356.92 424.93 358.74 427.96 362.00 428.00 C 365.02 428.51 367.54 425.83 367.40 422.90 C 367.55 411.27 367.39 399.62 367.48 387.99 C 367.40 386.11 367.63 384.06 366.61 382.38 C 365.24 380.16 361.58 380.00 360.00 382.07 M 100.79 382.81 C 98.94 384.82 100.19 388.63 103.01 388.89 C 106.91 389.29 110.85 388.97 114.77 389.07 C 114.77 399.73 114.78 410.39 114.75 421.05 C 114.76 423.37 114.89 426.34 117.28 427.52 C 119.95 429.02 123.67 427.14 123.86 424.04 C 124.22 412.40 123.84 400.72 124.04 389.07 C 128.25 388.87 132.57 389.54 136.71 388.62 C 140.15 387.40 139.25 381.72 135.61 381.56 C 126.10 381.14 116.55 381.57 107.03 381.37 C 104.95 381.53 102.34 381.06 100.79 382.81 M 156.46 381.58 C 150.26 383.15 145.11 388.05 143.12 394.11 C 140.49 401.86 140.79 410.83 144.81 418.06 C 151.07 429.05 167.20 430.79 177.27 424.26 C 183.48 420.06 186.24 412.28 186.28 405.03 C 186.43 398.11 184.59 390.56 179.19 385.85 C 173.03 380.52 164.12 379.62 156.46 381.58 M 197.74 381.67 C 195.24 381.99 194.12 384.61 194.23 386.87 C 194.06 397.92 194.27 408.97 194.15 420.02 C 194.24 422.43 193.92 425.36 195.97 427.11 C 198.62 429.25 203.28 427.47 203.31 423.89 C 203.66 418.45 203.32 412.99 203.49 407.54 C 206.76 407.72 210.68 407.24 213.15 409.89 C 217.60 414.61 220.01 420.80 223.85 425.97 C 225.63 428.66 230.20 428.72 231.83 425.86 C 232.87 424.27 231.80 422.43 231.24 420.89 C 228.63 415.38 225.17 409.99 220.02 406.56 C 223.42 405.53 227.11 404.31 229.29 401.31 C 233.14 395.94 231.83 387.34 226.14 383.76 C 221.99 381.01 216.77 381.52 212.04 381.39 C 207.28 381.52 202.48 381.08 197.74 381.67 M 240.23 386.91 C 240.19 398.28 240.20 409.66 240.22 421.03 C 240.25 423.12 240.14 425.65 241.97 427.09 C 244.58 429.23 249.25 427.52 249.33 423.98 C 249.76 418.50 249.34 413.00 249.49 407.51 C 252.77 407.64 256.62 407.29 259.13 409.85 C 263.88 414.69 266.10 421.38 270.41 426.55 C 272.74 429.20 278.48 428.00 278.28 424.04 C 276.28 417.09 271.87 410.81 266.09 406.46 C 269.75 405.55 273.64 404.05 275.74 400.71 C 278.91 395.49 277.81 387.82 272.73 384.18 C 268.85 381.14 263.64 381.44 259.00 381.41 C 254.02 381.52 249.02 381.13 244.05 381.58 C 241.41 381.77 240.05 384.51 240.23 386.91 M 286.38 386.01 C 286.17 397.35 286.39 408.70 286.27 420.04 C 286.31 422.30 286.17 425.31 288.52 426.53 C 291.20 427.60 294.20 427.07 297.03 427.21 C 304.36 427.04 311.73 427.52 319.04 426.95 C 322.44 426.37 322.43 420.75 319.05 420.15 C 311.25 419.44 303.38 420.13 295.56 419.82 C 295.59 415.47 295.58 411.12 295.58 406.78 C 302.60 406.71 309.65 407.09 316.66 406.54 C 320.07 405.84 319.57 399.91 315.98 399.96 C 309.20 399.54 302.39 399.95 295.59 399.80 C 295.57 396.05 295.57 392.30 295.58 388.55 C 303.03 388.43 310.50 388.74 317.94 388.37 C 321.67 388.25 321.80 381.95 318.11 381.66 C 309.41 381.03 300.65 381.57 291.93 381.42 C 289.16 381.15 286.27 383.00 286.38 386.01 M 375.06 381.95 C 372.19 383.34 372.77 388.27 375.95 388.84 C 379.96 389.33 384.02 388.96 388.05 389.08 C 387.92 400.08 388.05 411.07 387.99 422.07 C 387.75 424.61 389.07 427.71 391.95 427.92 C 394.85 428.51 397.33 425.86 397.14 423.05 C 397.37 411.73 397.16 400.40 397.23 389.08 C 401.42 388.89 405.69 389.52 409.82 388.64 C 413.41 387.46 412.48 381.48 408.64 381.52 C 400.79 381.23 392.93 381.50 385.08 381.39 C 381.74 381.50 378.31 381.05 375.06 381.95 Z'\r\n        />\r\n        <path\r\n          fill={primary}\r\n          opacity='1.00'\r\n          d=' M 160.39 388.45 C 164.79 387.33 170.01 388.38 173.03 391.97 C 176.12 395.52 177.00 400.46 176.87 405.04 C 176.76 409.47 175.56 414.16 172.29 417.34 C 167.50 421.98 158.82 421.68 154.58 416.43 C 150.59 411.44 150.26 404.45 151.51 398.43 C 152.46 393.85 155.68 389.57 160.39 388.45 Z'\r\n        />\r\n        <path\r\n          fill={primary}\r\n          opacity='1.00'\r\n          d=' M 203.47 388.42 C 208.28 388.55 213.18 387.93 217.93 388.93 C 222.82 390.10 223.71 398.14 218.81 399.89 C 213.88 401.57 208.52 400.89 203.40 400.90 C 203.44 396.73 203.45 392.57 203.47 388.42 Z'\r\n        />\r\n        <path\r\n          fill={primary}\r\n          opacity='1.00'\r\n          d=' M 249.45 388.38 C 254.29 388.56 259.22 387.96 264.00 388.94 C 268.52 390.07 269.67 397.04 265.66 399.44 C 260.63 401.83 254.85 400.80 249.47 400.94 C 249.51 396.75 249.48 392.57 249.45 388.38 Z'\r\n        />\r\n      </g>\r\n      <g id={secondaryColor}>\r\n        <path\r\n          fill={secondaryColor}\r\n          opacity='1.00'\r\n          d=' M 319.87 0.00 L 320.20 0.00 C 360.20 39.89 400.19 79.79 440.05 119.83 C 411.04 120.22 382.02 119.87 353.01 120.01 C 344.56 120.18 336.01 117.07 329.94 111.12 C 323.88 105.47 320.29 97.32 320.04 89.05 C 319.87 59.37 320.21 29.68 319.87 0.00 Z'\r\n        />\r\n      </g>\r\n      <g id='#fdfdfd'>\r\n        <path\r\n          fill='#fdfdfd'\r\n          opacity='1.00'\r\n          d=' M 360.00 382.07 C 361.58 380.00 365.24 380.16 366.61 382.38 C 367.63 384.06 367.40 386.11 367.48 387.99 C 367.39 399.62 367.55 411.27 367.40 422.90 C 367.54 425.83 365.02 428.51 362.00 428.00 C 358.74 427.96 356.92 424.93 355.26 422.58 C 349.41 413.73 343.71 404.78 337.83 395.95 C 337.55 405.51 338.19 415.09 337.54 424.63 C 337.11 428.63 330.75 429.14 329.54 425.38 C 328.85 422.98 329.14 420.43 329.08 417.98 C 329.24 407.28 328.94 396.58 329.22 385.89 C 329.13 382.87 331.97 380.41 334.92 380.63 C 337.13 380.65 338.65 382.47 339.77 384.16 C 346.13 393.83 352.50 403.51 358.93 413.14 C 358.91 404.75 358.95 396.36 358.90 387.97 C 359.01 385.99 358.69 383.73 360.00 382.07 Z'\r\n        />\r\n        <path\r\n          fill='#fdfdfd'\r\n          opacity='1.00'\r\n          d=' M 100.79 382.81 C 102.34 381.06 104.95 381.53 107.03 381.37 C 116.55 381.57 126.10 381.14 135.61 381.56 C 139.25 381.72 140.15 387.40 136.71 388.62 C 132.57 389.54 128.25 388.87 124.04 389.07 C 123.84 400.72 124.22 412.40 123.86 424.04 C 123.67 427.14 119.95 429.02 117.28 427.52 C 114.89 426.34 114.76 423.37 114.75 421.05 C 114.78 410.39 114.77 399.73 114.77 389.07 C 110.85 388.97 106.91 389.29 103.01 388.89 C 100.19 388.63 98.94 384.82 100.79 382.81 Z'\r\n        />\r\n        <path\r\n          fill='#fdfdfd'\r\n          opacity='1.00'\r\n          d=' M 156.46 381.58 C 164.12 379.62 173.03 380.52 179.19 385.85 C 184.59 390.56 186.43 398.11 186.28 405.03 C 186.24 412.28 183.48 420.06 177.27 424.26 C 167.20 430.79 151.07 429.05 144.81 418.06 C 140.79 410.83 140.49 401.86 143.12 394.11 C 145.11 388.05 150.26 383.15 156.46 381.58 M 160.39 388.45 C 155.68 389.57 152.46 393.85 151.51 398.43 C 150.26 404.45 150.59 411.44 154.58 416.43 C 158.82 421.68 167.50 421.98 172.29 417.34 C 175.56 414.16 176.76 409.47 176.87 405.04 C 177.00 400.46 176.12 395.52 173.03 391.97 C 170.01 388.38 164.79 387.33 160.39 388.45 Z'\r\n        />\r\n        <path\r\n          fill='#fdfdfd'\r\n          opacity='1.00'\r\n          d=' M 197.74 381.67 C 202.48 381.08 207.28 381.52 212.04 381.39 C 216.77 381.52 221.99 381.01 226.14 383.76 C 231.83 387.34 233.14 395.94 229.29 401.31 C 227.11 404.31 223.42 405.53 220.02 406.56 C 225.17 409.99 228.63 415.38 231.24 420.89 C 231.80 422.43 232.87 424.27 231.83 425.86 C 230.20 428.72 225.63 428.66 223.85 425.97 C 220.01 420.80 217.60 414.61 213.15 409.89 C 210.68 407.24 206.76 407.72 203.49 407.54 C 203.32 412.99 203.66 418.45 203.31 423.89 C 203.28 427.47 198.62 429.25 195.97 427.11 C 193.92 425.36 194.24 422.43 194.15 420.02 C 194.27 408.97 194.06 397.92 194.23 386.87 C 194.12 384.61 195.24 381.99 197.74 381.67 M 203.47 388.42 C 203.45 392.57 203.44 396.73 203.40 400.90 C 208.52 400.89 213.88 401.57 218.81 399.89 C 223.71 398.14 222.82 390.10 217.93 388.93 C 213.18 387.93 208.28 388.55 203.47 388.42 Z'\r\n        />\r\n        <path\r\n          fill='#fdfdfd'\r\n          opacity='1.00'\r\n          d=' M 240.23 386.91 C 240.05 384.51 241.41 381.77 244.05 381.58 C 249.02 381.13 254.02 381.52 259.00 381.41 C 263.64 381.44 268.85 381.14 272.73 384.18 C 277.81 387.82 278.91 395.49 275.74 400.71 C 273.64 404.05 269.75 405.55 266.09 406.46 C 271.87 410.81 276.28 417.09 278.28 424.04 C 278.48 428.00 272.74 429.20 270.41 426.55 C 266.10 421.38 263.88 414.69 259.13 409.85 C 256.62 407.29 252.77 407.64 249.49 407.51 C 249.34 413.00 249.76 418.50 249.33 423.98 C 249.25 427.52 244.58 429.23 241.97 427.09 C 240.14 425.65 240.25 423.12 240.22 421.03 C 240.20 409.66 240.19 398.28 240.23 386.91 M 249.45 388.38 C 249.48 392.57 249.51 396.75 249.47 400.94 C 254.85 400.80 260.63 401.83 265.66 399.44 C 269.67 397.04 268.52 390.07 264.00 388.94 C 259.22 387.96 254.29 388.56 249.45 388.38 Z'\r\n        />\r\n        <path\r\n          fill='#fdfdfd'\r\n          opacity='1.00'\r\n          d=' M 286.38 386.01 C 286.27 383.00 289.16 381.15 291.93 381.42 C 300.65 381.57 309.41 381.03 318.11 381.66 C 321.80 381.95 321.67 388.25 317.94 388.37 C 310.50 388.74 303.03 388.43 295.58 388.55 C 295.57 392.30 295.57 396.05 295.59 399.80 C 302.39 399.95 309.20 399.54 315.98 399.96 C 319.57 399.91 320.07 405.84 316.66 406.54 C 309.65 407.09 302.60 406.71 295.58 406.78 C 295.58 411.12 295.59 415.47 295.56 419.82 C 303.38 420.13 311.25 419.44 319.05 420.15 C 322.43 420.75 322.44 426.37 319.04 426.95 C 311.73 427.52 304.36 427.04 297.03 427.21 C 294.20 427.07 291.20 427.60 288.52 426.53 C 286.17 425.31 286.31 422.30 286.27 420.04 C 286.39 408.70 286.17 397.35 286.38 386.01 Z'\r\n        />\r\n        <path\r\n          fill='#fdfdfd'\r\n          opacity='1.00'\r\n          d=' M 375.06 381.95 C 378.31 381.05 381.74 381.50 385.08 381.39 C 392.93 381.50 400.79 381.23 408.64 381.52 C 412.48 381.48 413.41 387.46 409.82 388.64 C 405.69 389.52 401.42 388.89 397.23 389.08 C 397.16 400.40 397.37 411.73 397.14 423.05 C 397.33 425.86 394.85 428.51 391.95 427.92 C 389.07 427.71 387.75 424.61 387.99 422.07 C 388.05 411.07 387.92 400.08 388.05 389.08 C 384.02 388.96 379.96 389.33 375.95 388.84 C 372.77 388.27 372.19 383.34 375.06 381.95 Z'\r\n        />\r\n      </g>\r\n    </svg>\r\n  )\r\n}\r\n","export const [GETTING_INFO, PRELOAD, WORKING, CLOSED, IN_DB] = [1, 2, 3, 4, 5]\r\n","import { useEffect, useRef, useState } from 'react'\r\nimport { cacheHost, settingsHost } from 'utils/Hosts'\r\nimport axios from 'axios'\r\n\r\nexport const useUpdateCache = hash => {\r\n  const [cache, setCache] = useState({})\r\n  const componentIsMounted = useRef(true)\r\n  const timerID = useRef(null)\r\n\r\n  useEffect(\r\n    () => () => {\r\n      // this function is required to notify \"updateCache\" when NOT to make state update\r\n      componentIsMounted.current = false\r\n    },\r\n    [],\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (hash) {\r\n      timerID.current = setInterval(() => {\r\n        const updateCache = newCache => componentIsMounted.current && setCache(newCache)\r\n\r\n        axios\r\n          .post(cacheHost(), { action: 'get', hash })\r\n          .then(({ data }) => updateCache(data))\r\n          // empty cache if error\r\n          .catch(() => updateCache({}))\r\n      }, 100)\r\n    } else clearInterval(timerID.current)\r\n\r\n    return () => clearInterval(timerID.current)\r\n  }, [hash])\r\n\r\n  return cache\r\n}\r\n\r\nexport const useCreateCacheMap = cache => {\r\n  const [cacheMap, setCacheMap] = useState([])\r\n\r\n  useEffect(() => {\r\n    const { PiecesCount, Pieces, Readers } = cache\r\n\r\n    const map = []\r\n\r\n    for (let i = 0; i < PiecesCount; i++) {\r\n      const { Size, Length, Priority } = Pieces[i] || {}\r\n\r\n      const newPiece = { id: i, percentage: (Size / Length) * 100 || 0, priority: Priority || 0 }\r\n\r\n      Readers.forEach(r => {\r\n        if (i === r.Reader) newPiece.isReader = true\r\n        if (i >= r.Start && i < r.End) newPiece.isReaderRange = true\r\n      })\r\n\r\n      map.push(newPiece)\r\n    }\r\n    setCacheMap(map)\r\n  }, [cache])\r\n\r\n  return cacheMap\r\n}\r\n\r\nexport const useGetSettings = cache => {\r\n  const [settings, setSettings] = useState()\r\n  useEffect(() => {\r\n    axios.post(settingsHost(), { action: 'get' }).then(({ data }) => setSettings(data))\r\n  }, [cache])\r\n\r\n  return settings\r\n}\r\n","import { AppBar, IconButton, makeStyles, Toolbar, Typography } from '@material-ui/core'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { ArrowBack } from '@material-ui/icons'\r\nimport { isStandaloneApp } from 'utils/Utils'\r\n\r\nconst useStyles = makeStyles({\r\n  appBar: { position: 'relative', ...(isStandaloneApp && { paddingTop: '30px' }) },\r\n  title: { marginLeft: '5px', flex: 1 },\r\n})\r\n\r\nexport default function DialogHeader({ title, onClose, onBack }) {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <AppBar className={classes.appBar}>\r\n      <Toolbar>\r\n        {onBack && (\r\n          <IconButton edge='start' color='inherit' onClick={onBack} aria-label='back'>\r\n            <ArrowBack />\r\n          </IconButton>\r\n        )}\r\n\r\n        <Typography variant='h6' className={classes.title}>\r\n          {title}\r\n        </Typography>\r\n\r\n        <IconButton autoFocus color='inherit' onClick={onClose} aria-label='close' style={{ marginRight: '-10px' }}>\r\n          <CloseIcon />\r\n        </IconButton>\r\n      </Toolbar>\r\n    </AppBar>\r\n  )\r\n}\r\n","import { rgba } from 'polished'\r\n\r\nexport const themeColors = {\r\n  light: {\r\n    app: {\r\n      headerToggleColor: '#4db380',\r\n      appSecondaryColor: '#cbe8d9',\r\n      sidebarBGColor: '#575757',\r\n      sidebarFillColor: '#dee3e5',\r\n      paperColor: '#eeeeee',\r\n    },\r\n    torrentCard: {\r\n      accentCardColor: '#337a57',\r\n      buttonBGColor: rgba('#337a57', 0.5),\r\n      cardPrimaryColor: '#00a572',\r\n      cardSecondaryColor: '#74c39c',\r\n    },\r\n    dialogTorrentDetailsContent: {\r\n      posterBGColor: '#74c39c',\r\n      gradientStartColor: '#e4f6ed',\r\n      gradientEndColor: '#b5dec9',\r\n      chacheSectionBGColor: '#88cdaa',\r\n      widgetFontColor: '#fff',\r\n      titleFontColor: '#000',\r\n      subNameFontColor: '#7c7b7c',\r\n      torrentFilesSectionBGColor: '#f1eff3',\r\n    },\r\n    detailedView: {\r\n      gradientStartColor: '#e4f6ed',\r\n      gradientEndColor: '#b5dec9',\r\n      cacheSectionBGColor: '#fff',\r\n    },\r\n    addDialog: {\r\n      gradientStartColor: '#e4f6ed',\r\n      gradientEndColor: '#b5dec9',\r\n      fontColor: '#000',\r\n      notificationErrorBGColor: '#cda184',\r\n      notificationSuccessBGColor: '#88cdaa',\r\n      languageSwitchBGColor: '#74c39c',\r\n      languageSwitchFontColor: '#e4f6ed',\r\n      posterBGColor: '#74c39c',\r\n    },\r\n    torrentFunctions: {\r\n      fontColor: '#000',\r\n    },\r\n    table: {\r\n      defaultPrimaryColor: '#009879',\r\n      defaultSecondaryColor: '#00a383',\r\n      defaultTertiaryColor: '#03aa89',\r\n    },\r\n    settingsDialog: {\r\n      contentBG: '#f1eff3',\r\n      footerBG: '#fff',\r\n    },\r\n  },\r\n  dark: {\r\n    app: {\r\n      headerToggleColor: '#545a5e',\r\n      appSecondaryColor: '#545a5e',\r\n      sidebarBGColor: '#323637',\r\n      sidebarFillColor: '#dee3e5',\r\n      paperColor: '#323637',\r\n    },\r\n    torrentCard: {\r\n      accentCardColor: '#323637',\r\n      buttonBGColor: rgba('#323637', 0.5),\r\n      cardPrimaryColor: '#545a5e',\r\n      cardSecondaryColor: rgba('#dee3e5', 0.4),\r\n    },\r\n    dialogTorrentDetailsContent: {\r\n      posterBGColor: rgba('#dee3e5', 0.4),\r\n      gradientStartColor: '#656f76',\r\n      gradientEndColor: '#545a5e',\r\n      chacheSectionBGColor: '#3c4244',\r\n      widgetFontColor: rgba('#fff', 0.8),\r\n      titleFontColor: '#f1eff3',\r\n      subNameFontColor: '#dee3e5',\r\n      torrentFilesSectionBGColor: rgba('#545a5e', 0.9),\r\n    },\r\n    detailedView: {\r\n      gradientStartColor: '#656f76',\r\n      gradientEndColor: '#545a5e',\r\n      cacheSectionBGColor: '#949ca0',\r\n    },\r\n    addDialog: {\r\n      gradientStartColor: '#656f76',\r\n      gradientEndColor: '#545a5e',\r\n      fontColor: '#fff',\r\n      notificationErrorBGColor: '#c82e3f',\r\n      notificationSuccessBGColor: '#323637',\r\n      languageSwitchBGColor: '#545a5e',\r\n      languageSwitchFontColor: '#dee3e5',\r\n      posterBGColor: '#dee3e5',\r\n    },\r\n    torrentFunctions: {\r\n      fontColor: '#f1eff3',\r\n    },\r\n    table: {\r\n      defaultPrimaryColor: '#323637',\r\n      defaultSecondaryColor: rgba('#545a5e', 0.9),\r\n      defaultTertiaryColor: '#545a5e',\r\n    },\r\n    settingsDialog: {\r\n      contentBG: '#5a6166',\r\n      footerBG: '#323637',\r\n    },\r\n  },\r\n}\r\n\r\nexport const mainColors = {\r\n  light: {\r\n    primary: '#00a572',\r\n    secondary: '#00a572',\r\n    labels: rgba('#000', 0.9),\r\n  },\r\n  dark: {\r\n    primary: '#323637',\r\n    secondary: '#dee3e5',\r\n    labels: rgba('#fff', 0.9),\r\n  },\r\n}\r\n","import { createTheme, useMediaQuery } from '@material-ui/core'\r\nimport { useEffect, useMemo, useState } from 'react'\r\n\r\nimport { mainColors, themeColors } from './colors'\r\n\r\nexport const THEME_MODES = { LIGHT: 'light', DARK: 'dark', AUTO: 'auto' }\r\n\r\nconst typography = { fontFamily: 'Open Sans, sans-serif' }\r\n\r\nexport const darkTheme = createTheme({\r\n  typography,\r\n  palette: {\r\n    type: THEME_MODES.DARK,\r\n    primary: { main: mainColors.dark.primary },\r\n    secondary: { main: mainColors.dark.secondary },\r\n  },\r\n})\r\nexport const lightTheme = createTheme({\r\n  typography,\r\n  palette: {\r\n    type: THEME_MODES.LIGHT,\r\n    primary: { main: mainColors.light.primary },\r\n    secondary: { main: mainColors.light.secondary },\r\n  },\r\n})\r\n\r\nexport const useMaterialUITheme = () => {\r\n  const savedThemeMode = localStorage.getItem('themeMode')\r\n  const isSystemModeDark = useMediaQuery('(prefers-color-scheme: dark)')\r\n  const [isDarkMode, setIsDarkMode] = useState(savedThemeMode === 'dark' || isSystemModeDark)\r\n  const [currentThemeMode, setCurrentThemeMode] = useState(savedThemeMode || THEME_MODES.AUTO)\r\n\r\n  const updateThemeMode = mode => {\r\n    setCurrentThemeMode(mode)\r\n    localStorage.setItem('themeMode', mode)\r\n  }\r\n\r\n  useEffect(() => {\r\n    currentThemeMode === THEME_MODES.LIGHT && setIsDarkMode(false)\r\n    currentThemeMode === THEME_MODES.DARK && setIsDarkMode(true)\r\n    currentThemeMode === THEME_MODES.AUTO && setIsDarkMode(isSystemModeDark)\r\n  }, [isSystemModeDark, currentThemeMode])\r\n\r\n  const theme = isDarkMode ? THEME_MODES.DARK : THEME_MODES.LIGHT\r\n\r\n  const muiTheme = useMemo(\r\n    () =>\r\n      createTheme({\r\n        typography,\r\n        palette: {\r\n          type: theme,\r\n          primary: { main: mainColors[theme].primary },\r\n          secondary: { main: mainColors[theme].secondary },\r\n        },\r\n        overrides: {\r\n          MuiTypography: {\r\n            h6: {\r\n              fontSize: '1.0rem',\r\n            },\r\n          },\r\n          MuiPaper: {\r\n            root: {\r\n              backgroundColor: themeColors[theme].app.paperColor,\r\n            },\r\n          },\r\n          MuiInputBase: {\r\n            input: {\r\n              color: mainColors[theme].labels,\r\n            },\r\n          },\r\n          // https://material-ui.com/ru/api/form-control-label/\r\n          MuiFormControlLabel: {\r\n            labelPlacementStart: {\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              marginStart: 0,\r\n              marginTop: 6,\r\n              marginBottom: 2,\r\n            },\r\n          },\r\n          MuiInputLabel: {\r\n            root: {\r\n              color: mainColors[theme].labels,\r\n              marginBottom: 8,\r\n              '&$focused': {\r\n                color: mainColors[theme].labels,\r\n              },\r\n            },\r\n          },\r\n          MuiFormGroup: {\r\n            root: {\r\n              '& .MuiFormHelperText-root': {\r\n                marginTop: -8,\r\n              },\r\n            },\r\n          },\r\n        },\r\n      }),\r\n    [theme],\r\n  )\r\n\r\n  return [isDarkMode, currentThemeMode, updateThemeMode, muiTheme]\r\n}\r\n","export default ({ cacheMap, preloadPiecesAmount, piecesInOneRow }) => {\r\n  const cacheMapWithoutEmptyBlocks = cacheMap.filter(({ percentage }) => percentage > 0)\r\n\r\n  const getFullAmountOfBlocks = amountOfBlocks =>\r\n    // this function counts existed amount of blocks with extra \"empty blocks\" to fill the row till the end\r\n    amountOfBlocks % piecesInOneRow === 0\r\n      ? amountOfBlocks - 1\r\n      : amountOfBlocks + piecesInOneRow - (amountOfBlocks % piecesInOneRow) - 1 || 0\r\n\r\n  const amountOfBlocksToRenderInShortView = getFullAmountOfBlocks(preloadPiecesAmount)\r\n  // preloadPiecesAmount is counted from \"cache.Capacity / cache.PiecesLength\". We always show at least this amount of blocks\r\n  const scalableAmountOfBlocksToRenderInShortView = getFullAmountOfBlocks(cacheMapWithoutEmptyBlocks.length)\r\n  // cacheMap can become bigger than preloadPiecesAmount counted before. In that case we count blocks dynamically\r\n\r\n  const finalAmountOfBlocksToRenderInShortView = Math.max(\r\n    // this check is needed to decide which is the biggest amount of blocks and take it to render\r\n    scalableAmountOfBlocksToRenderInShortView,\r\n    amountOfBlocksToRenderInShortView,\r\n  )\r\n\r\n  const extraBlocksAmount = finalAmountOfBlocksToRenderInShortView - cacheMapWithoutEmptyBlocks.length + 1\r\n  // amount of blocks needed to fill the line till the end\r\n\r\n  const extraEmptyBlocksForFillingLine = extraBlocksAmount ? new Array(extraBlocksAmount).fill({}) : []\r\n\r\n  return [...cacheMapWithoutEmptyBlocks, ...extraEmptyBlocksForFillingLine]\r\n}\r\n","import { rgba } from 'polished'\r\nimport { mainColors } from 'style/colors'\r\n\r\nexport const snakeSettings = {\r\n  dark: {\r\n    default: {\r\n      borderWidth: 1,\r\n      pieceSize: 14,\r\n      gapBetweenPieces: 3,\r\n      borderColor: rgba('#fff', 0.2),\r\n      completeColor: rgba(mainColors.dark.primary, 0.5),\r\n      backgroundColor: '#949ca0',\r\n      progressColor: rgba('#fff', 0.2),\r\n      readerColor: '#8f0405',\r\n      rangeColor: '#cda184',\r\n    },\r\n    mini: {\r\n      cacheMaxHeight: 340,\r\n      borderWidth: 2,\r\n      pieceSize: 23,\r\n      gapBetweenPieces: 6,\r\n      borderColor: '#5c6469',\r\n      completeColor: '#5c6469',\r\n      backgroundColor: '#949ca0',\r\n      progressColor: '#949ca0',\r\n      readerColor: '#ccc',\r\n      rangeColor: '#cda184',\r\n    },\r\n  },\r\n  light: {\r\n    default: {\r\n      borderWidth: 1,\r\n      pieceSize: 14,\r\n      gapBetweenPieces: 3,\r\n      borderColor: '#dbf2e8',\r\n      completeColor: mainColors.light.primary,\r\n      backgroundColor: '#fff',\r\n      progressColor: '#b3dfc9',\r\n      readerColor: '#000',\r\n      rangeColor: '#afa6e3',\r\n    },\r\n    mini: {\r\n      cacheMaxHeight: 340,\r\n      borderWidth: 2,\r\n      pieceSize: 23,\r\n      gapBetweenPieces: 6,\r\n      borderColor: '#4db380',\r\n      completeColor: '#4db380',\r\n      backgroundColor: '#dbf2e8',\r\n      progressColor: '#dbf2e8',\r\n      readerColor: '#0a0a0a',\r\n      rangeColor: '#afa6e3',\r\n    },\r\n  },\r\n}\r\n\r\nexport const createGradient = (ctx, percentage, theme, snakeType) => {\r\n  const { pieceSize, completeColor, progressColor } = snakeSettings[theme][snakeType]\r\n\r\n  const gradient = ctx.createLinearGradient(0, pieceSize, 0, 0)\r\n  gradient.addColorStop(0, completeColor)\r\n  gradient.addColorStop(percentage / 100, completeColor)\r\n  gradient.addColorStop(percentage / 100, progressColor)\r\n  gradient.addColorStop(1, progressColor)\r\n\r\n  return gradient\r\n}\r\n","import styled, { css } from 'styled-components'\r\n\r\nimport { snakeSettings } from './snakeSettings'\r\n\r\nexport const ScrollNotification = styled.div`\r\n  margin-top: 10px;\r\n  text-transform: uppercase;\r\n  color: rgba(0, 0, 0, 0.5);\r\n  align-self: center;\r\n`\r\n\r\nexport const SnakeWrapper = styled.div`\r\n  ${({ isMini, themeType }) => css`\r\n    ${isMini &&\r\n    css`\r\n      display: grid;\r\n      justify-content: center;\r\n      max-height: ${snakeSettings[themeType].mini.cacheMaxHeight}px;\r\n      overflow: auto;\r\n    `}\r\n\r\n    canvas {\r\n      display: block;\r\n    }\r\n  `}\r\n`\r\n","import Measure from 'react-measure'\r\nimport { useState, memo, useRef, useEffect, useContext } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport isEqual from 'lodash/isEqual'\r\nimport { DarkModeContext } from 'components/App'\r\nimport { THEME_MODES } from 'style/materialUISetup'\r\n\r\nimport { useCreateCacheMap } from '../customHooks'\r\nimport getShortCacheMap from './getShortCacheMap'\r\nimport { SnakeWrapper, ScrollNotification } from './style'\r\nimport { createGradient, snakeSettings } from './snakeSettings'\r\n\r\nconst TorrentCache = ({ cache, isMini, isSnakeDebugMode }) => {\r\n  const { t } = useTranslation()\r\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 })\r\n  const { width } = dimensions\r\n  const canvasRef = useRef(null)\r\n  const ctxRef = useRef(null)\r\n  const cacheMap = useCreateCacheMap(cache)\r\n  const settingsTarget = isMini ? 'mini' : 'default'\r\n  const { isDarkMode } = useContext(DarkModeContext)\r\n  const theme = isDarkMode ? THEME_MODES.DARK : THEME_MODES.LIGHT\r\n\r\n  const {\r\n    readerColor,\r\n    rangeColor,\r\n    borderWidth,\r\n    pieceSize,\r\n    gapBetweenPieces,\r\n    backgroundColor,\r\n    borderColor,\r\n    cacheMaxHeight,\r\n    completeColor,\r\n  } = snakeSettings[theme][settingsTarget]\r\n\r\n  const canvasWidth = isMini ? width * 0.93 : width\r\n\r\n  const pieceSizeWithGap = pieceSize + gapBetweenPieces\r\n  const piecesInOneRow = Math.floor(canvasWidth / pieceSizeWithGap)\r\n\r\n  let shotCacheMap\r\n  if (isMini) {\r\n    const preloadPiecesAmount = Math.round(cache.Capacity / cache.PiecesLength - 1)\r\n    shotCacheMap = getShortCacheMap({ cacheMap, preloadPiecesAmount, piecesInOneRow })\r\n  }\r\n  const source = isMini ? shotCacheMap : cacheMap\r\n  const startingXPoint = Math.ceil((canvasWidth - pieceSizeWithGap * piecesInOneRow) / 2) // needed to center grid\r\n  const height = Math.ceil(source.length / piecesInOneRow) * pieceSizeWithGap\r\n\r\n  useEffect(() => {\r\n    if (!canvasWidth || !height) return\r\n\r\n    const canvas = canvasRef.current\r\n    canvas.width = canvasWidth\r\n    canvas.height = height\r\n    ctxRef.current = canvas.getContext('2d')\r\n  }, [canvasRef, height, canvasWidth])\r\n\r\n  useEffect(() => {\r\n    const ctx = ctxRef.current\r\n    if (!ctx) return\r\n\r\n    ctx.clearRect(0, 0, canvasWidth, height)\r\n\r\n    source.forEach(({ percentage, priority, isReader, isReaderRange }, i) => {\r\n      const inProgress = percentage > 0 && percentage < 100\r\n      const isCompleted = percentage === 100\r\n      const currentRow = i % piecesInOneRow\r\n      const currentColumn = Math.floor(i / piecesInOneRow)\r\n      const fixBlurStroke = borderWidth % 2 === 0 ? 0 : 0.5\r\n      const requiredFix = Math.ceil(borderWidth / 2) + 1 + fixBlurStroke\r\n      const x = currentRow * pieceSize + currentRow * gapBetweenPieces + startingXPoint + requiredFix\r\n      const y = currentColumn * pieceSize + currentColumn * gapBetweenPieces + requiredFix\r\n\r\n      ctx.lineWidth = borderWidth\r\n      ctx.fillStyle = inProgress\r\n        ? createGradient(ctx, percentage, theme, settingsTarget)\r\n        : isCompleted\r\n        ? completeColor\r\n        : backgroundColor\r\n      ctx.strokeStyle = isReader\r\n        ? readerColor\r\n        : inProgress || isCompleted\r\n        ? completeColor\r\n        : isReaderRange\r\n        ? rangeColor\r\n        : borderColor\r\n\r\n      ctx.translate(x, y)\r\n      ctx.fillRect(0, 0, pieceSize, pieceSize)\r\n      ctx.strokeRect(0, 0, pieceSize, pieceSize)\r\n      ctx.setTransform(1, 0, 0, 1, 0, 0)\r\n\r\n      if (isSnakeDebugMode && priority > 0) {\r\n        let info = ''\r\n        if (priority === 1) info = ''\r\n        else if (priority === 2) info = 'H'\r\n        else if (priority === 3) info = 'R'\r\n        else if (priority === 4) info = 'N'\r\n        else if (priority === 5) info = 'A'\r\n        ctx.font = isMini ? '13px monospace' : '10px monospace'\r\n        const xpad = isMini ? pieceSize * 0.35 : pieceSize * 0.29\r\n        const ypad = isMini ? pieceSize * 0.69 : pieceSize * 0.78\r\n        ctx.fillStyle = 'black'\r\n        ctx.fillText(info, x + xpad, y + ypad)\r\n      }\r\n    })\r\n  }, [\r\n    cacheMap,\r\n    height,\r\n    canvasWidth,\r\n    piecesInOneRow,\r\n    startingXPoint,\r\n    pieceSize,\r\n    gapBetweenPieces,\r\n    source,\r\n    backgroundColor,\r\n    borderColor,\r\n    borderWidth,\r\n    settingsTarget,\r\n    completeColor,\r\n    readerColor,\r\n    rangeColor,\r\n    isMini,\r\n    theme,\r\n    isSnakeDebugMode,\r\n  ])\r\n\r\n  return (\r\n    <Measure bounds onResize={({ bounds }) => setDimensions(bounds)}>\r\n      {({ measureRef }) => (\r\n        <div style={{ display: 'flex', flexDirection: 'column' }} ref={measureRef}>\r\n          <SnakeWrapper themeType={theme} isMini={isMini}>\r\n            <canvas ref={canvasRef} />\r\n          </SnakeWrapper>\r\n\r\n          {isMini && height >= cacheMaxHeight && <ScrollNotification>{t('ScrollDown')}</ScrollNotification>}\r\n        </div>\r\n      )}\r\n    </Measure>\r\n  )\r\n}\r\n\r\nexport default memo(\r\n  TorrentCache,\r\n  (prev, next) => isEqual(prev.cache.Pieces, next.cache.Pieces) && isEqual(prev.cache.Readers, next.cache.Readers),\r\n)\r\n","import { css } from 'styled-components'\r\n\r\nexport const standaloneMedia = styles => css`\r\n  @media screen and (display-mode: standalone) {\r\n    ${styles};\r\n  }\r\n`\r\n","import { standaloneMedia } from 'style/standaloneMedia'\r\nimport styled, { css } from 'styled-components'\r\n\r\nexport const pwaFooterHeight = 90\r\n\r\nexport default styled.div`\r\n  background: #575757;\r\n  color: #fff;\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: ${pwaFooterHeight}px;\r\n\r\n  display: none;\r\n\r\n  ${standaloneMedia(css`\r\n    display: grid;\r\n    grid-template-columns: repeat(5, calc(100% / 5));\r\n    justify-items: center;\r\n  `)}\r\n`\r\n","import styled, { css } from 'styled-components'\r\n\r\nexport const Header = styled.div`\r\n  ${({ theme: { primary } }) => css`\r\n    background: ${primary};\r\n    color: rgba(0, 0, 0, 0.87);\r\n    font-size: 20px;\r\n    color: #fff;\r\n    font-weight: 600;\r\n    box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\r\n    padding: 15px 24px;\r\n    position: relative;\r\n  `}\r\n`\r\n\r\nexport const ButtonWrapper = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n\r\n  > :not(:last-child) {\r\n    margin-right: 10px;\r\n  }\r\n`\r\n","import { ListItem } from '@material-ui/core'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport { pwaFooterHeight } from 'components/App/PWAFooter/style'\r\nimport styled, { css } from 'styled-components'\r\nimport { Header } from 'style/DialogStyles'\r\nimport { isStandaloneApp } from 'utils/Utils'\r\n\r\nimport { standaloneMedia } from './standaloneMedia'\r\n\r\nexport const StyledMenuButtonWrapper = styled(ListItem).attrs({ button: true })`\r\n  ${standaloneMedia(css`\r\n    width: 100%;\r\n    height: 60px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 10px;\r\n  `)}\r\n`\r\n\r\nexport const StyledDialog = styled(Dialog).attrs({\r\n  ...(isStandaloneApp && { hideBackdrop: true, transitionDuration: 0 }),\r\n})`\r\n  ${standaloneMedia(css`\r\n    margin-bottom: ${pwaFooterHeight}px;\r\n\r\n    .MuiDialog-container .MuiPaper-root {\r\n      box-shadow: none;\r\n    }\r\n  `)}\r\n`\r\n\r\nexport const StyledHeader = styled(Header)`\r\n  ${standaloneMedia(css`\r\n    padding-top: 47px;\r\n  `)}\r\n`\r\n","import styled, { css } from 'styled-components'\r\n\r\nexport const TorrentCard = styled.div`\r\n  ${({\r\n    theme: {\r\n      torrentCard: { cardPrimaryColor },\r\n    },\r\n  }) => css`\r\n    border-radius: 5px;\r\n    display: grid;\r\n    grid-template-columns: 120px 260px 1fr;\r\n    grid-template-rows: minmax(180px, max-content);\r\n    grid-template-areas: 'poster description buttons';\r\n    gap: 10px;\r\n    padding: 10px;\r\n    background: ${cardPrimaryColor};\r\n    box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\r\n\r\n    @media (max-width: 1260px), (max-height: 500px) {\r\n      grid-template-areas:\r\n        'poster description'\r\n        'buttons buttons';\r\n\r\n      grid-template-columns: 70px 1fr;\r\n      grid-template-rows: 110px max-content;\r\n    }\r\n\r\n    @media (max-width: 770px) {\r\n      grid-template-columns: 60px 1fr;\r\n      grid-template-rows: 90px max-content;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const TorrentCardPoster = styled.div`\r\n  grid-area: poster;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  transition: 0.2s;\r\n  position: relative;\r\n\r\n  :hover {\r\n    filter: brightness(0.7);\r\n  }\r\n\r\n  ${({\r\n    isPoster,\r\n    theme: {\r\n      torrentCard: { cardSecondaryColor, accentCardColor },\r\n    },\r\n  }) =>\r\n    isPoster\r\n      ? css`\r\n          img {\r\n            width: 100%;\r\n            height: 100%;\r\n            object-fit: cover;\r\n            border-radius: 5px;\r\n          }\r\n        `\r\n      : css`\r\n          display: grid;\r\n          place-items: center;\r\n          background: ${cardSecondaryColor};\r\n          border: 1px solid ${accentCardColor};\r\n\r\n          svg {\r\n            transform: translateY(-3px);\r\n          }\r\n        `};\r\n\r\n  @media (max-width: 1260px), (max-height: 500px) {\r\n    svg {\r\n      width: 50%;\r\n    }\r\n  }\r\n`\r\n\r\nexport const TorrentCardButtons = styled.div`\r\n  grid-area: buttons;\r\n  display: grid;\r\n  gap: 10px;\r\n\r\n  @media (max-width: 1260px), (max-height: 500px) {\r\n    grid-template-columns: repeat(4, 1fr);\r\n  }\r\n\r\n  @media (max-width: 340px) {\r\n    gap: 5px;\r\n  }\r\n`\r\nexport const TorrentCardDescription = styled.div`\r\n  ${({\r\n    theme: {\r\n      torrentCard: { cardSecondaryColor, accentCardColor },\r\n    },\r\n  }) => css`\r\n    grid-area: description;\r\n    background: ${cardSecondaryColor};\r\n    border-radius: 5px;\r\n    padding: 5px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 5px;\r\n    overflow: hidden;\r\n\r\n    .description-title-wrapper {\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n\r\n    // .description-title-wrapper > .description-section-name {\r\n    //   display: flex;\r\n    //   flex-wrap: nowrap;\r\n    //   justify-content: space-between;\r\n    //   self-align: end;\r\n    // }\r\n\r\n    // .description-category-wrapper {\r\n    //   display: inline-flex;\r\n    //   color: #1a1a1a;\r\n    // }\r\n\r\n    .description-section-name {\r\n      text-transform: uppercase;\r\n      font-size: 10px;\r\n      font-weight: 600;\r\n      letter-spacing: 0.4px;\r\n      color: ${accentCardColor};\r\n\r\n      @media (max-width: 770px) {\r\n        font-size: 0.5rem;\r\n        line-height: 10px;\r\n      }\r\n    }\r\n\r\n    .description-status-wrapper {\r\n      display: inline-block;\r\n      height: 8px;\r\n      margin-inline-end: 4px;\r\n      vertical-align: baseline;\r\n    }\r\n\r\n    .description-torrent-title {\r\n      overflow: hidden;\r\n      word-break: break-all;\r\n    }\r\n\r\n    .description-statistics-wrapper {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      align-self: end;\r\n      gap: 0 15px;\r\n    }\r\n\r\n    .description-statistics-element-wrapper {\r\n    }\r\n\r\n    .description-statistics-element-value {\r\n      margin-bottom: 10px;\r\n      margin-left: 0;\r\n\r\n      @media (max-width: 1260px), (max-height: 500px) {\r\n        font-size: 0.7rem;\r\n        margin-bottom: 0;\r\n        margin-left: 0;\r\n      }\r\n    }\r\n\r\n    .description-torrent-title,\r\n    .description-statistics-element-value {\r\n      @media (max-width: 770px) {\r\n        font-size: 0.6rem;\r\n      }\r\n\r\n      @media (max-width: 410px) {\r\n        font-size: 9px;\r\n      }\r\n    }\r\n  `}\r\n`\r\n\r\nexport const StyledButton = styled.button`\r\n  ${({\r\n    theme: {\r\n      torrentCard: { buttonBGColor, accentCardColor },\r\n    },\r\n  }) => css`\r\n    border-radius: 5px;\r\n    border: none;\r\n    cursor: pointer;\r\n    transition: 0.2s;\r\n    display: flex;\r\n    align-items: center;\r\n    text-transform: uppercase;\r\n    background: ${buttonBGColor};\r\n    color: #fff;\r\n    font-size: 0.9rem;\r\n    letter-spacing: 0.009em;\r\n    padding: 0 12px;\r\n    svg {\r\n      width: 20px;\r\n    }\r\n\r\n    :hover {\r\n      background: ${accentCardColor};\r\n    }\r\n\r\n    > :first-child {\r\n      margin-right: 10px;\r\n    }\r\n\r\n    @media (max-width: 1260px), (max-height: 500px) {\r\n      padding: 7px 10px;\r\n      justify-content: center;\r\n      font-size: 0.8rem;\r\n\r\n      svg {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    @media (max-width: 770px) {\r\n      font-size: 0.7rem;\r\n    }\r\n\r\n    @media (max-width: 420px) {\r\n      font-size: 0.6rem;\r\n      padding: 7px 5px;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const StatusIndicators = styled.div`\r\n  ${({ color }) => css`\r\n    height: 8px;\r\n    width: 8px;\r\n    background-color: ${color};\r\n    border-radius: 50%;\r\n    position: relative;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);\r\n  `}\r\n`\r\n","import {\r\n  Box,\r\n  CircularProgress,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Slider,\r\n  Tooltip,\r\n  Typography,\r\n  useMediaQuery,\r\n} from '@material-ui/core'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport Forward10Icon from '@material-ui/icons/Forward10'\r\nimport FullscreenIcon from '@material-ui/icons/Fullscreen'\r\nimport FullscreenExitIcon from '@material-ui/icons/FullscreenExit'\r\nimport GetAppIcon from '@material-ui/icons/GetApp'\r\nimport PauseIcon from '@material-ui/icons/Pause'\r\nimport PictureInPictureIcon from '@material-ui/icons/PictureInPicture'\r\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow'\r\nimport Replay10Icon from '@material-ui/icons/Replay10'\r\nimport SpeedIcon from '@material-ui/icons/Speed'\r\nimport VolumeOffIcon from '@material-ui/icons/VolumeOff'\r\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp'\r\nimport { useCallback, useEffect, useRef, useState } from 'react'\r\nimport { StyledDialog } from 'style/CustomMaterialUiStyles'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport { StyledButton } from './TorrentCard/style'\r\n\r\nfunction getMimeType(url) {\r\n  const ext = url.split('?')[0].split('.').pop().toLowerCase()\r\n  switch (ext) {\r\n    case 'mp4':\r\n      return 'video/mp4'\r\n    case 'ogg':\r\n    case 'ogv':\r\n      return 'video/ogg'\r\n    case 'webm':\r\n      return 'video/webm'\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n\r\nconst PrettoSlider = withStyles(theme => ({\r\n  root: {\r\n    color: '#00a572',\r\n    height: 6,\r\n    [theme?.breakpoints?.down?.('sm')]: {\r\n      height: 0,\r\n    },\r\n  },\r\n  thumb: {\r\n    height: 18,\r\n    width: 18,\r\n    backgroundColor: '#fff',\r\n    border: '2px solid currentColor',\r\n    marginTop: -6,\r\n    marginLeft: -12,\r\n    [theme?.breakpoints?.down?.('sm')]: {\r\n      height: 15,\r\n      width: 15,\r\n      marginTop: -5,\r\n      marginLeft: -7,\r\n    },\r\n  },\r\n  track: {\r\n    height: 6,\r\n    borderRadius: 4,\r\n    [theme?.breakpoints?.down?.('sm')]: {\r\n      height: 5,\r\n    },\r\n  },\r\n  rail: {\r\n    height: 6,\r\n    borderRadius: 4,\r\n    [theme?.breakpoints?.down?.('sm')]: {\r\n      height: 6,\r\n    },\r\n  },\r\n}))(Slider)\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  dialogPaper: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: theme.spacing(1),\r\n  },\r\n  header: {\r\n    backgroundColor: '#00a572',\r\n    color: '#fff',\r\n    padding: theme.spacing(1, 2),\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  videoWrapper: {\r\n    position: 'relative',\r\n    width: '100%',\r\n    backgroundColor: '#000',\r\n    overflow: 'hidden',\r\n    '&:hover $controls, &:hover $centralControl, &:hover $skipButton': {\r\n      opacity: 1,\r\n    },\r\n  },\r\n  video: {\r\n    width: '100%',\r\n    display: 'block',\r\n    cursor: 'pointer',\r\n    [theme.breakpoints.down('sm')]: {\r\n      height: '94.5vh',\r\n      width: '100vw',\r\n      objectFit: 'contain',\r\n    },\r\n  },\r\n  loadingOverlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    width: '100%',\r\n    height: '100%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: 'rgba(0,0,0,0.6)',\r\n    zIndex: 4,\r\n  },\r\n  centralControl: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    borderRadius: '50%',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: 'rgba(0,0,0,0.5)',\r\n    opacity: 0,\r\n    transition: 'opacity 200ms',\r\n    zIndex: 3,\r\n    color: '#fff',\r\n    pointerEvents: 'none',\r\n    animation: '$pulse 0.6s ease-out',\r\n  },\r\n  skipButton: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    transform: 'translateY(-50%)',\r\n    padding: theme.spacing(1),\r\n    backgroundColor: 'rgba(0,0,0,0.4)',\r\n    color: '#fff',\r\n    opacity: 0,\r\n    transition: 'opacity 200ms',\r\n    zIndex: 3,\r\n    '&:hover': { backgroundColor: 'rgba(0,0,0,0.6)' },\r\n  },\r\n  leftSkip: { left: theme.spacing(2) },\r\n  rightSkip: { right: theme.spacing(2) },\r\n  controls: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n    width: '100%',\r\n    background: 'linear-gradient(to top, rgba(0,0,0,0.8), transparent)',\r\n    padding: theme.spacing(0, 3, 2, 3),\r\n    transition: 'opacity 200ms',\r\n    opacity: 0,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: theme.spacing(0.5),\r\n    zIndex: 3,\r\n    pointerEvents: 'auto',\r\n    [theme.breakpoints.down('sm')]: {\r\n      opacity: 1,\r\n      padding: theme.spacing(0, 1, 2, 1),\r\n      gap: theme.spacing(0),\r\n      background: 'linear-gradient(to top, rgba(0,0,0,0.95), transparent)',\r\n    },\r\n  },\r\n  timeRow: {\r\n    color: '#fff',\r\n    paddingLeft: theme.spacing(2),\r\n    [theme.breakpoints.down('sm')]: {\r\n      paddingLeft: theme.spacing(1),\r\n      fontSize: 9,\r\n    },\r\n  },\r\n  slider: {\r\n    color: '#00e68a',\r\n    '& .MuiSlider-thumb': { backgroundColor: '#00e68a' },\r\n    '& .MuiSlider-track': { borderRadius: 2 },\r\n  },\r\n  controlRow: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  iconButton: {\r\n    color: '#fff',\r\n    padding: 12,\r\n    '&:hover': { backgroundColor: 'rgba(255,255,255,0.1)' },\r\n    [theme.breakpoints.down('sm')]: {\r\n      padding: 10,\r\n    },\r\n  },\r\n  speedMenu: { minWidth: 100 },\r\n  '@keyframes pulse': {\r\n    '0%': { transform: 'translate(-50%, -50%) scale(0.5)', opacity: 0 },\r\n    '50%': { transform: 'translate(-50%, -50%) scale(1)', opacity: 1 },\r\n    '100%': { transform: 'translate(-50%, -50%) scale(1.3)', opacity: 0 },\r\n  },\r\n}))\r\n\r\n// Helper function to format seconds to HH:MM:SS\r\nconst formatTime = seconds => {\r\n  if (!isFinite(seconds)) return '00:00:00'\r\n  const h = Math.floor(seconds / 3600)\r\n  const m = Math.floor((seconds % 3600) / 60)\r\n  const s = Math.floor(seconds % 60)\r\n  const hh = h.toString().padStart(2, '0')\r\n  const mm = m.toString().padStart(2, '0')\r\n  const ss = s.toString().padStart(2, '0')\r\n  return `${hh}:${mm}:${ss}`\r\n}\r\n\r\nconst VideoPlayer = ({ videoSrc, captionSrc = '', title, onNotSupported }) => {\r\n  const classes = useStyles()\r\n  const isMobile = useMediaQuery('@media (max-width:930px)')\r\n  const videoRef = useRef(null)\r\n  const { t } = useTranslation()\r\n  const [open, setOpen] = useState(false)\r\n  const [loading, setLoading] = useState(true)\r\n  const [playing, setPlaying] = useState(false)\r\n  const [currentTime, setCurrentTime] = useState(0)\r\n  const [duration, setDuration] = useState(0)\r\n  const [muted, setMuted] = useState(false)\r\n  const [volume, setVolume] = useState(1)\r\n  const [fullscreen, setFullscreen] = useState(false)\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const [speed, setSpeed] = useState(1)\r\n\r\n  useEffect(() => {\r\n    const vid = document.createElement('video')\r\n    if (!vid.canPlayType(getMimeType(videoSrc))) onNotSupported()\r\n  }, [videoSrc, onNotSupported])\r\n\r\n  const handlePlayPause = useCallback(() => {\r\n    const video = videoRef.current\r\n    if (!video) return\r\n    video.paused ? video.play() : video.pause()\r\n  }, [])\r\n\r\n  const togglePlay = () => setPlaying(p => !p)\r\n  const handleTimeUpdate = () => setCurrentTime(videoRef.current.currentTime)\r\n  const handleLoaded = () => {\r\n    setDuration(videoRef.current.duration)\r\n    setLoading(false)\r\n  }\r\n  const handleSeek = (_, val) => {\r\n    videoRef.current.currentTime = val\r\n    handleTimeUpdate()\r\n  }\r\n  const handleVolume = (_, val) => {\r\n    const v = val / 100\r\n    videoRef.current.volume = v\r\n    setVolume(v)\r\n    setMuted(v === 0)\r\n  }\r\n  const toggleMute = () => {\r\n    videoRef.current.muted = !muted\r\n    setMuted(m => !m)\r\n  }\r\n\r\n  const skip = useCallback(\r\n    secs => {\r\n      const video = videoRef.current\r\n      if (!video) return\r\n      const target = Math.min(Math.max(video.currentTime + secs, 0), duration)\r\n      video.currentTime = target\r\n      setCurrentTime(target)\r\n    },\r\n    [duration],\r\n  )\r\n\r\n  const enterFull = () => videoRef.current.requestFullscreen()\r\n  const exitFull = () => document.exitFullscreen()\r\n\r\n  useEffect(() => {\r\n    const onFull = () => setFullscreen(!!document.fullscreenElement)\r\n    document.addEventListener('fullscreenchange', onFull)\r\n    return () => document.removeEventListener('fullscreenchange', onFull)\r\n  }, [])\r\n\r\n  const openSpeedMenu = e => setAnchorEl(e.currentTarget)\r\n  const closeSpeedMenu = () => setAnchorEl(null)\r\n  const changeSpeed = val => {\r\n    videoRef.current.playbackRate = val\r\n    setSpeed(val)\r\n    closeSpeedMenu()\r\n  }\r\n  const downloadVideo = () => {\r\n    const a = document.createElement('a')\r\n    a.href = videoSrc\r\n    a.download = ''\r\n    document.body.appendChild(a)\r\n    a.click()\r\n    document.body.removeChild(a)\r\n  }\r\n\r\n  const handleKey = useCallback(\r\n    e => {\r\n      if (!open) return\r\n      switch (e.key) {\r\n        case ' ':\r\n          e.preventDefault()\r\n          handlePlayPause()\r\n          break\r\n        case 'ArrowRight':\r\n          e.preventDefault()\r\n          skip(10)\r\n          break\r\n        case 'ArrowLeft':\r\n          e.preventDefault()\r\n          skip(-10)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    },\r\n    [open, handlePlayPause, skip],\r\n  )\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', handleKey)\r\n    return () => document.removeEventListener('keydown', handleKey)\r\n  }, [handleKey])\r\n\r\n  return (\r\n    <>\r\n      <StyledButton onClick={() => setOpen(true)}>\r\n        <PlayArrowIcon />\r\n        <span>{t('Play')}</span>\r\n      </StyledButton>\r\n      <StyledDialog\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n        maxWidth='lg'\r\n        fullWidth\r\n        fullScreen={isMobile}\r\n        classes={{ paper: classes.dialogPaper }}\r\n      >\r\n        <DialogTitle className={classes.header} disableTypography>\r\n          <Typography variant='h6' noWrap>\r\n            {title || 'Video Player'}\r\n          </Typography>\r\n          <IconButton size='medium' onClick={() => setOpen(false)} className={classes.iconButton}>\r\n            <CloseIcon fontSize='medium' />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent style={{ padding: 0 }}>\r\n          <Box className={classes.videoWrapper} onClick={handlePlayPause} style={isMobile ? { minHeight: 240 } : {}}>\r\n            <video\r\n              autoPlay\r\n              ref={videoRef}\r\n              src={videoSrc}\r\n              onTimeUpdate={handleTimeUpdate}\r\n              onLoadedMetadata={handleLoaded}\r\n              onPlay={togglePlay}\r\n              onPause={togglePlay}\r\n              className={classes.video}\r\n            >\r\n              <track kind='captions' srcLang='en' label='English captions' src={captionSrc} default />\r\n            </video>\r\n            {loading && (\r\n              <Box className={classes.loadingOverlay}>\r\n                <CircularProgress fontSize='medium' />\r\n              </Box>\r\n            )}\r\n            <IconButton\r\n              size='medium'\r\n              className={classes.centralControl}\r\n              style={{\r\n                opacity: playing ? 0 : 1,\r\n              }}\r\n            >\r\n              <PlayArrowIcon fontSize='medium' />\r\n            </IconButton>\r\n            <Box className={classes.controls} onClick={e => e.stopPropagation()}>\r\n              {isMobile && (\r\n                <Box className={classes.timeRow}>\r\n                  <Typography variant='body2'>\r\n                    {formatTime(currentTime)} / {formatTime(duration)}\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n              <PrettoSlider\r\n                className={classes.slider}\r\n                value={currentTime}\r\n                max={duration}\r\n                onChange={handleSeek}\r\n                size='medium'\r\n              />\r\n              <Box className={classes.controlRow}>\r\n                <Tooltip title={playing ? t('Pause') : t('Play')}>\r\n                  <IconButton size='medium' onClick={handlePlayPause} className={classes.iconButton}>\r\n                    {playing ? <PauseIcon fontSize='medium' /> : <PlayArrowIcon fontSize='medium' />}\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title={t('Rewind-10-Sec')}>\r\n                  <IconButton\r\n                    size='medium'\r\n                    className={classes.iconButton}\r\n                    onClick={e => {\r\n                      e.stopPropagation()\r\n                      skip(-10)\r\n                    }}\r\n                  >\r\n                    <Replay10Icon fontSize='medium' />\r\n                  </IconButton>\r\n                </Tooltip>\r\n\r\n                <Tooltip title={t('Forward-10-Sec')}>\r\n                  <IconButton\r\n                    size='medium'\r\n                    className={classes.iconButton}\r\n                    onClick={e => {\r\n                      e.stopPropagation()\r\n                      skip(10)\r\n                    }}\r\n                  >\r\n                    <Forward10Icon fontSize='medium' />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title={muted ? t('Unmute') : t('Mute')}>\r\n                  <IconButton size='medium' className={classes.iconButton} onClick={toggleMute}>\r\n                    {muted ? <VolumeOffIcon fontSize='medium' /> : <VolumeUpIcon fontSize='medium' />}\r\n                  </IconButton>\r\n                </Tooltip>\r\n                {!isMobile && (\r\n                  <Slider\r\n                    className={classes.slider}\r\n                    value={volume * 100}\r\n                    onChange={handleVolume}\r\n                    size='medium'\r\n                    style={{ width: 70 }}\r\n                  />\r\n                )}\r\n                {!isMobile && (\r\n                  <Box className={classes.timeRow}>\r\n                    <Typography variant='body2'>\r\n                      {formatTime(currentTime)} / {formatTime(duration)}\r\n                    </Typography>\r\n                  </Box>\r\n                )}\r\n                <Box flexGrow={1} />\r\n                <Tooltip title={t('Speed')}>\r\n                  <IconButton size='medium' onClick={openSpeedMenu} className={classes.iconButton}>\r\n                    <SpeedIcon fontSize='medium' />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Menu\r\n                  anchorEl={anchorEl}\r\n                  open={Boolean(anchorEl)}\r\n                  onClose={closeSpeedMenu}\r\n                  className={classes.speedMenu}\r\n                >\r\n                  {[0.5, 1, 1.5, 2].map(r => (\r\n                    <MenuItem key={r} selected={r === speed} onClick={() => changeSpeed(r)}>\r\n                      {r}x\r\n                    </MenuItem>\r\n                  ))}\r\n                </Menu>\r\n                <Tooltip title={t('PIP')}>\r\n                  <IconButton\r\n                    size='medium'\r\n                    className={classes.iconButton}\r\n                    onClick={() => videoRef.current.requestPictureInPicture()}\r\n                  >\r\n                    <PictureInPictureIcon fontSize='medium' />\r\n                  </IconButton>\r\n                </Tooltip>\r\n\r\n                <Tooltip title={t('Download')}>\r\n                  <IconButton size='medium' className={classes.iconButton} onClick={downloadVideo}>\r\n                    <GetAppIcon fontSize='medium' />\r\n                  </IconButton>\r\n                </Tooltip>\r\n\r\n                <Tooltip title={fullscreen ? t('ExitFullscreen') : t('Fullscreen')}>\r\n                  <IconButton size='medium' onClick={fullscreen ? exitFull : enterFull} className={classes.iconButton}>\r\n                    {fullscreen ? <FullscreenExitIcon fontSize='medium' /> : <FullscreenIcon fontSize='medium' />}\r\n                  </IconButton>\r\n                </Tooltip>\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n        </DialogContent>\r\n      </StyledDialog>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default VideoPlayer\r\n","import styled, { css } from 'styled-components'\r\n\r\nconst viewedPrimaryColor = '#858c90'\r\nconst viewedSecondaryColor = '#8c9498'\r\nconst viewedTertiaryColor = '#949ca0'\r\nconst bigTableDividerColor = '#d2d2d2'\r\nconst bigTableDefaultRowColor = '#f3f3f3'\r\nconst bigTableViewedRowColor = '#ddd'\r\n\r\nconst viewedIndicator = css`\r\n  ${({\r\n    theme: {\r\n      table: { defaultPrimaryColor },\r\n    },\r\n  }) => css`\r\n    :before {\r\n      content: '';\r\n      width: 10px;\r\n      height: 10px;\r\n      background: ${defaultPrimaryColor};\r\n      border-radius: 50%;\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n    }\r\n  `}\r\n`\r\nexport const TableStyle = styled.table`\r\n  ${({\r\n    theme: {\r\n      table: { defaultPrimaryColor },\r\n    },\r\n  }) => css`\r\n    border-collapse: collapse;\r\n    margin: 25px 0;\r\n    font-size: 0.9em;\r\n    width: 100%;\r\n    border-radius: 5px 5px 0 0;\r\n    overflow: hidden;\r\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\r\n    color: #000;\r\n\r\n    thead tr {\r\n      background: ${defaultPrimaryColor};\r\n      color: #fff;\r\n      text-align: left;\r\n      text-transform: uppercase;\r\n    }\r\n\r\n    th,\r\n    td {\r\n      padding: 12px 15px;\r\n    }\r\n\r\n    tbody tr {\r\n      border-bottom: 1px solid ${bigTableDividerColor};\r\n      background: ${bigTableDefaultRowColor};\r\n\r\n      :last-of-type {\r\n        border-bottom: 2px solid ${defaultPrimaryColor};\r\n      }\r\n\r\n      &.viewed-file-row {\r\n        background: ${bigTableViewedRowColor};\r\n      }\r\n    }\r\n\r\n    td {\r\n      &.viewed-file-indicator {\r\n        position: relative;\r\n\r\n        ${viewedIndicator}\r\n      }\r\n    }\r\n\r\n    .button-cell {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));\r\n      gap: 10px;\r\n    }\r\n\r\n    @media (max-width: 970px) {\r\n      display: none;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const ShortTableWrapper = styled.div`\r\n  display: grid;\r\n  gap: 20px;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  display: none;\r\n\r\n  @media (max-width: 970px) {\r\n    display: grid;\r\n  }\r\n\r\n  @media (max-width: 820px) {\r\n    gap: 15px;\r\n    grid-template-columns: 1fr;\r\n  }\r\n`\r\n\r\nexport const ShortTable = styled.div`\r\n  ${({\r\n    isViewed,\r\n    theme: {\r\n      table: { defaultPrimaryColor, defaultSecondaryColor, defaultTertiaryColor },\r\n    },\r\n  }) => css`\r\n    width: 100%;\r\n    grid-template-rows: repeat(3, max-content);\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);\r\n\r\n    .short-table {\r\n      &-name {\r\n        background: ${isViewed ? viewedPrimaryColor : defaultPrimaryColor};\r\n        display: grid;\r\n        place-items: center;\r\n        padding: 15px;\r\n        color: #fff;\r\n        text-transform: uppercase;\r\n        font-size: 15px;\r\n        font-weight: bold;\r\n\r\n        @media (max-width: 880px) {\r\n          font-size: 13px;\r\n          padding: 10px;\r\n        }\r\n      }\r\n      &-data {\r\n        display: grid;\r\n        grid-auto-flow: column;\r\n        grid-template-columns: ${isViewed ? 'max-content' : '1fr'};\r\n        grid-auto-columns: 1fr;\r\n      }\r\n      &-field {\r\n        display: grid;\r\n        grid-template-rows: 30px 1fr;\r\n        background: black;\r\n        :not(:last-child) {\r\n          border-right: 1px solid ${isViewed ? viewedPrimaryColor : defaultPrimaryColor};\r\n        }\r\n\r\n        &-name {\r\n          background: ${isViewed ? viewedSecondaryColor : defaultSecondaryColor};\r\n          color: #fff;\r\n          text-transform: uppercase;\r\n          font-size: 12px;\r\n          font-weight: 500;\r\n          display: grid;\r\n          place-items: center;\r\n          padding: 0 10px;\r\n\r\n          @media (max-width: 880px) {\r\n            font-size: 11px;\r\n          }\r\n        }\r\n\r\n        &-value {\r\n          background: ${isViewed ? viewedTertiaryColor : defaultTertiaryColor};\r\n          display: grid;\r\n          place-items: center;\r\n          color: #fff;\r\n          font-size: 15px;\r\n          padding: 15px 10px;\r\n          position: relative;\r\n\r\n          @media (max-width: 880px) {\r\n            font-size: 13px;\r\n            padding: 12px 8px;\r\n          }\r\n        }\r\n      }\r\n\r\n      &-viewed-indicator {\r\n        ${isViewed && viewedIndicator}\r\n      }\r\n\r\n      &-buttons {\r\n        padding: 20px;\r\n        border-bottom: 2px solid ${isViewed ? viewedPrimaryColor : defaultPrimaryColor};\r\n        display: grid;\r\n        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\r\n        align-items: center;\r\n        gap: 20px;\r\n        background: #f3f3f3;\r\n\r\n        @media (max-width: 410px) {\r\n          gap: 10px;\r\n          grid-template-columns: 1fr;\r\n        }\r\n      }\r\n    }\r\n  `}\r\n`\r\n","import { streamHost } from 'utils/Hosts'\r\nimport isEqual from 'lodash/isEqual'\r\nimport { humanizeSize, detectStandaloneApp, isMacOS, isAppleDevice } from 'utils/Utils'\r\nimport ptt from 'parse-torrent-title'\r\nimport { Button } from '@material-ui/core'\r\nimport CopyToClipboard from 'react-copy-to-clipboard'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport VideoPlayer from '../../VideoPlayer'\r\nimport { TableStyle, ShortTableWrapper, ShortTable } from './style'\r\n\r\nconst { memo, useState } = require('react')\r\n\r\n// russian episode detection support\r\nptt.addHandler('episode', /(\\d{1,4})[- |. ]|[- |. ](\\d{1,4})/i, { type: 'integer' })\r\nptt.addHandler('season', /sezon[- |. ](\\d{1,3})|(\\d{1,3})[- |. ]sezon/i, { type: 'integer' })\r\nptt.addHandler('season', /[- |. ](\\d{1,3})|(\\d{1,3})[- |. ]/i, { type: 'integer' })\r\n\r\nconst Table = memo(\r\n  ({ playableFileList, viewedFileList, selectedSeason, seasonAmount, hash }) => {\r\n    const { t } = useTranslation()\r\n    const [isSupported, setIsSupported] = useState(true)\r\n    const preloadBuffer = fileId => fetch(`${streamHost()}?link=${hash}&index=${fileId}&preload`)\r\n    const getFileLink = (path, id) =>\r\n      `${streamHost()}/${encodeURIComponent(path.split('\\\\').pop().split('/').pop())}?link=${hash}&index=${id}&play`\r\n    const fileHasEpisodeText = !!playableFileList?.find(({ path }) => ptt.parse(path).episode)\r\n    const fileHasSeasonText = !!playableFileList?.find(({ path }) => ptt.parse(path).season)\r\n    const fileHasResolutionText = !!playableFileList?.find(({ path }) => ptt.parse(path).resolution)\r\n\r\n    // if files in list is more then 1 and no season text detected by ptt.parse, show full name\r\n    const shouldDisplayFullFileName = playableFileList?.length > 1 && !fileHasEpisodeText\r\n\r\n    const isVlcUsed = JSON.parse(localStorage.getItem('isVlcUsed')) ?? false\r\n    const isInfuseUsed = JSON.parse(localStorage.getItem('isInfuseUsed')) ?? false\r\n    const isIinaUsed = JSON.parse(localStorage.getItem('isIinaUsed')) ?? false\r\n    const isStandalone = detectStandaloneApp()\r\n    const isMac = isMacOS()\r\n    const isApple = isAppleDevice()\r\n    const shouldShowOpenLink = !isStandalone || (!(isApple && isInfuseUsed) && !isVlcUsed && !(isMac && isIinaUsed))\r\n\r\n    return !playableFileList?.length ? (\r\n      'No playable files in this torrent'\r\n    ) : (\r\n      <>\r\n        <TableStyle>\r\n          <thead>\r\n            <tr>\r\n              <th style={{ width: '0' }}>{t('Viewed')}</th>\r\n              <th>{t('Name')}</th>\r\n              {fileHasSeasonText && seasonAmount?.length === 1 && <th style={{ width: '0' }}>{t('Season')}</th>}\r\n              {fileHasEpisodeText && <th style={{ width: '0' }}>{t('Episode')}</th>}\r\n              {fileHasResolutionText && <th style={{ width: '0' }}>{t('Resolution')}</th>}\r\n              <th style={{ width: '100px' }}>{t('Size')}</th>\r\n              <th style={{ width: '400px' }}>{t('Actions')}</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            {playableFileList.map(({ id, path, length }) => {\r\n              const { title, resolution, episode, season } = ptt.parse(path)\r\n              const isViewed = viewedFileList?.includes(id)\r\n              const link = getFileLink(path, id)\r\n              const fullLink = new URL(link, window.location.href)\r\n              const infuseLink = `infuse://x-callback-url/play?url=${encodeURIComponent(fullLink)}`\r\n              const iinaLink = `iina://weblink?url=${encodeURIComponent(fullLink)}`\r\n\r\n              return (\r\n                (season === selectedSeason || !seasonAmount?.length) && (\r\n                  <tr key={id} className={isViewed ? 'viewed-file-row' : null}>\r\n                    <td data-label='viewed' aria-label='viewed' className={isViewed ? 'viewed-file-indicator' : null} />\r\n                    <td data-label='name'>{shouldDisplayFullFileName ? path : title}</td>\r\n                    {fileHasSeasonText && seasonAmount?.length === 1 && <td data-label='season'>{season}</td>}\r\n                    {fileHasEpisodeText && <td data-label='episode'>{episode}</td>}\r\n                    {fileHasResolutionText && <td data-label='resolution'>{resolution}</td>}\r\n                    <td data-label='size'>{humanizeSize(length)}</td>\r\n                    <td>\r\n                      <div className='button-cell'>\r\n                        <Button onClick={() => preloadBuffer(id)} variant='outlined' color='primary' size='small'>\r\n                          {t('Preload')}\r\n                        </Button>\r\n                        {isApple && isInfuseUsed && (\r\n                          <a style={{ textDecoration: 'none' }} href={infuseLink}>\r\n                            <Button style={{ width: '100%' }} variant='outlined' color='primary' size='small'>\r\n                              {t('Infuse')}\r\n                            </Button>\r\n                          </a>\r\n                        )}\r\n                        {isVlcUsed && (\r\n                          <a style={{ textDecoration: 'none' }} href={`vlc://${fullLink}`}>\r\n                            <Button style={{ width: '100%' }} variant='outlined' color='primary' size='small'>\r\n                              VLC\r\n                            </Button>\r\n                          </a>\r\n                        )}\r\n                        {isMac && isIinaUsed && (\r\n                          <a style={{ textDecoration: 'none' }} href={iinaLink}>\r\n                            <Button style={{ width: '100%' }} variant='outlined' color='primary' size='small'>\r\n                              IINA\r\n                            </Button>\r\n                          </a>\r\n                        )}\r\n                        {isSupported ? (\r\n                          <VideoPlayer title={title} videoSrc={link} onNotSupported={() => setIsSupported(false)} />\r\n                        ) : (\r\n                          shouldShowOpenLink && (\r\n                            <a style={{ textDecoration: 'none' }} href={link} target='_blank' rel='noreferrer'>\r\n                              <Button style={{ width: '100%' }} variant='outlined' color='primary' size='small'>\r\n                                {t('OpenLink')}\r\n                              </Button>\r\n                            </a>\r\n                          )\r\n                        )}\r\n                        <CopyToClipboard text={fullLink}>\r\n                          <Button variant='outlined' color='primary' size='small'>\r\n                            {t('CopyLink')}\r\n                          </Button>\r\n                        </CopyToClipboard>\r\n                        {isSupported && shouldShowOpenLink && (\r\n                          <a style={{ textDecoration: 'none' }} href={link} target='_blank' rel='noreferrer'>\r\n                            <Button style={{ width: '100%' }} variant='outlined' color='primary' size='small'>\r\n                              {t('OpenLink')}\r\n                            </Button>\r\n                          </a>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                )\r\n              )\r\n            })}\r\n          </tbody>\r\n        </TableStyle>\r\n\r\n        <ShortTableWrapper>\r\n          {playableFileList.map(({ id, path, length }) => {\r\n            const { title, resolution, episode, season } = ptt.parse(path)\r\n            const isViewed = viewedFileList?.includes(id)\r\n            const link = getFileLink(path, id)\r\n            const fullLink = new URL(link, window.location.href)\r\n            const infuseLink = `infuse://x-callback-url/play?url=${encodeURIComponent(fullLink)}`\r\n            const iinaLink = `iina://weblink?url=${encodeURIComponent(fullLink)}`\r\n\r\n            return (\r\n              (season === selectedSeason || !seasonAmount?.length) && (\r\n                <ShortTable key={id} isViewed={isViewed}>\r\n                  <div className='short-table-name'>{shouldDisplayFullFileName ? path : title}</div>\r\n                  <div className='short-table-data'>\r\n                    {isViewed && (\r\n                      <div className='short-table-field'>\r\n                        <div className='short-table-field-name'>{t('Viewed')}</div>\r\n                        <div className='short-table-field-value'>\r\n                          <div className='short-table-viewed-indicator' />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    {fileHasSeasonText && seasonAmount?.length === 1 && (\r\n                      <div className='short-table-field'>\r\n                        <div className='short-table-field-name'>{t('Season')}</div>\r\n                        <div className='short-table-field-value'>{season}</div>\r\n                      </div>\r\n                    )}\r\n                    {fileHasEpisodeText && (\r\n                      <div className='short-table-field'>\r\n                        <div className='short-table-field-name'>{t('Episode')}</div>\r\n                        <div className='short-table-field-value'>{episode}</div>\r\n                      </div>\r\n                    )}\r\n                    {fileHasResolutionText && (\r\n                      <div className='short-table-field'>\r\n                        <div className='short-table-field-name'>{t('Resolution')}</div>\r\n                        <div className='short-table-field-value'>{resolution}</div>\r\n                      </div>\r\n                    )}\r\n                    <div className='short-table-field'>\r\n                      <div className='short-table-field-name'>{t('Size')}</div>\r\n                      <div className='short-table-field-value'>{humanizeSize(length)}</div>\r\n                    </div>\r\n                  </div>\r\n                  <div className='short-table-buttons'>\r\n                    <Button onClick={() => preloadBuffer(id)} variant='outlined' color='primary' size='small'>\r\n                      {t('Preload')}\r\n                    </Button>\r\n\r\n                    {isApple && isInfuseUsed && (\r\n                      <a style={{ textDecoration: 'none' }} href={infuseLink}>\r\n                        <Button style={{ width: '100%' }} variant='outlined' color='primary' size='small'>\r\n                          {t('Infuse')}\r\n                        </Button>\r\n                      </a>\r\n                    )}\r\n\r\n                    {isVlcUsed && (\r\n                      <a style={{ textDecoration: 'none' }} href={`vlc://${fullLink}`}>\r\n                        <Button style={{ width: '100%' }} variant='outlined' color='primary' size='small'>\r\n                          VLC\r\n                        </Button>\r\n                      </a>\r\n                    )}\r\n\r\n                    {isMac && isIinaUsed && (\r\n                      <a style={{ textDecoration: 'none' }} href={iinaLink}>\r\n                        <Button style={{ width: '100%' }} variant='outlined' color='primary' size='small'>\r\n                          IINA\r\n                        </Button>\r\n                      </a>\r\n                    )}\r\n\r\n                    {shouldShowOpenLink && (\r\n                      <a style={{ textDecoration: 'none' }} href={link} target='_blank' rel='noreferrer'>\r\n                        <Button style={{ width: '100%' }} variant='outlined' color='primary' size='small'>\r\n                          {t('OpenLink')}\r\n                        </Button>\r\n                      </a>\r\n                    )}\r\n\r\n                    <CopyToClipboard text={fullLink}>\r\n                      <Button variant='outlined' color='primary' size='small'>\r\n                        {t('CopyLink')}\r\n                      </Button>\r\n                    </CopyToClipboard>\r\n                  </div>\r\n                </ShortTable>\r\n              )\r\n            )\r\n          })}\r\n        </ShortTableWrapper>\r\n      </>\r\n    )\r\n  },\r\n  (prev, next) => isEqual(prev, next),\r\n)\r\n\r\nexport default Table\r\n","import { rgba } from 'polished'\r\nimport styled, { css } from 'styled-components'\r\n\r\nexport const DialogContentGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 70% 1fr;\r\n  grid-template-rows: repeat(2, min-content);\r\n  grid-template-areas:\r\n    'main cache'\r\n    'file-list file-list';\r\n\r\n  @media (max-width: 1450px) {\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: repeat(3, min-content);\r\n    grid-template-areas:\r\n      'main'\r\n      'cache'\r\n      'file-list';\r\n  }\r\n`\r\nexport const Poster = styled.div`\r\n  ${({\r\n    poster,\r\n    theme: {\r\n      dialogTorrentDetailsContent: { posterBGColor },\r\n    },\r\n  }) => css`\r\n    height: 400px;\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    align-self: center;\r\n\r\n    ${poster\r\n      ? css`\r\n          img {\r\n            border-radius: 5px;\r\n            height: 100%;\r\n          }\r\n        `\r\n      : css`\r\n          width: 300px;\r\n          display: grid;\r\n          place-items: center;\r\n          background: ${posterBGColor};\r\n\r\n          svg {\r\n            transform: scale(2.5) translateY(-3px);\r\n          }\r\n        `}\r\n\r\n    @media (max-width: 1280px) {\r\n      align-self: start;\r\n    }\r\n\r\n    @media (max-width: 840px) {\r\n      ${poster\r\n        ? css`\r\n            height: 200px;\r\n          `\r\n        : css`\r\n            display: none;\r\n          `}\r\n    }\r\n  `}\r\n`\r\nexport const MainSection = styled.section`\r\n  ${({\r\n    theme: {\r\n      dialogTorrentDetailsContent: { gradientStartColor, gradientEndColor },\r\n    },\r\n  }) => css`\r\n    grid-area: main;\r\n    padding: 40px;\r\n    display: grid;\r\n    grid-template-columns: min-content 1fr;\r\n    gap: 30px;\r\n    background: linear-gradient(145deg, ${gradientStartColor}, ${gradientEndColor});\r\n\r\n    @media (max-width: 840px) {\r\n      grid-template-columns: 1fr;\r\n    }\r\n\r\n    @media (max-width: 800px) {\r\n      padding: 20px;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const CacheSection = styled.section`\r\n  ${({\r\n    theme: {\r\n      dialogTorrentDetailsContent: { chacheSectionBGColor },\r\n    },\r\n  }) => css`\r\n    grid-area: cache;\r\n    padding: 40px;\r\n    display: grid;\r\n    align-content: start;\r\n    grid-template-rows: min-content 1fr min-content;\r\n    background: ${chacheSectionBGColor};\r\n\r\n    @media (max-width: 800px) {\r\n      padding: 20px;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const TorrentFilesSection = styled.section`\r\n  ${({\r\n    theme: {\r\n      dialogTorrentDetailsContent: { torrentFilesSectionBGColor },\r\n    },\r\n  }) => css`\r\n    grid-area: file-list;\r\n    padding: 40px;\r\n    box-shadow: inset 3px 25px 8px -25px rgba(0, 0, 0, 0.5);\r\n    background: ${torrentFilesSectionBGColor};\r\n\r\n    @media (max-width: 800px) {\r\n      padding: 20px;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const SectionSubName = styled.div`\r\n  ${({\r\n    theme: {\r\n      dialogTorrentDetailsContent: { subNameFontColor },\r\n    },\r\n  }) => css`\r\n    ${({ mb }) => css`\r\n      ${mb && `margin-top: ${mb / 3}px`};\r\n      ${mb && `margin-bottom: ${mb}px`};\r\n      line-height: 1.2;\r\n      color: ${subNameFontColor};\r\n\r\n      @media (max-width: 800px) {\r\n        ${mb && `margin-top: ${mb / 4}px`};\r\n        ${mb && `margin-bottom: ${mb / 2}px`};\r\n        font-size: 14px;\r\n      }\r\n    `}\r\n  `}\r\n`\r\n\r\nexport const SectionTitle = styled.div`\r\n  ${({\r\n    color,\r\n    theme: {\r\n      dialogTorrentDetailsContent: { titleFontColor },\r\n    },\r\n  }) => css`\r\n    ${({ mb }) => css`\r\n      ${mb && `margin-bottom: ${mb}px`};\r\n      font-size: 34px;\r\n      font-weight: 300;\r\n      line-height: 1;\r\n      word-break: break-word;\r\n      color: ${color || titleFontColor};\r\n\r\n      @media (max-width: 800px) {\r\n        font-size: 24px;\r\n        line-height: 1.1;\r\n        ${mb && `margin-bottom: ${mb / 2}px`};\r\n      }\r\n    `}\r\n  `}\r\n`\r\n\r\nexport const SectionHeader = styled.div`\r\n  margin-bottom: 20px;\r\n`\r\n\r\nexport const WidgetWrapper = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(max-content, 220px));\r\n  gap: 20px;\r\n\r\n  @media (max-width: 800px) {\r\n    gap: 15px;\r\n  }\r\n  @media (max-width: 410px) {\r\n    gap: 10px;\r\n  }\r\n\r\n  ${({ detailedView }) =>\r\n    detailedView\r\n      ? css`\r\n          @media (max-width: 800px) {\r\n            grid-template-columns: repeat(2, 1fr);\r\n          }\r\n          @media (max-width: 410px) {\r\n            grid-template-columns: 1fr;\r\n          }\r\n        `\r\n      : css`\r\n          @media (max-width: 800px) {\r\n            grid-template-columns: repeat(auto-fit, minmax(max-content, 185px));\r\n          }\r\n          @media (max-width: 480px) {\r\n            grid-template-columns: 1fr 1fr;\r\n          }\r\n          @media (max-width: 390px) {\r\n            grid-template-columns: 1fr;\r\n          }\r\n        `}\r\n`\r\n\r\nexport const WidgetFieldWrapper = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 40px 1fr;\r\n  grid-template-rows: min-content 50px;\r\n  grid-template-areas:\r\n    'title title'\r\n    'icon value';\r\n\r\n  > * {\r\n    display: grid;\r\n    place-items: center;\r\n  }\r\n\r\n  @media (max-width: 800px) {\r\n    grid-template-columns: 30px 1fr;\r\n    grid-template-rows: min-content 40px;\r\n  }\r\n`\r\nexport const WidgetFieldTitle = styled.div`\r\n  ${({\r\n    theme: {\r\n      dialogTorrentDetailsContent: { titleFontColor },\r\n    },\r\n  }) => css`\r\n    grid-area: title;\r\n    justify-self: start;\r\n    text-transform: uppercase;\r\n    font-size: 11px;\r\n    margin-bottom: 2px;\r\n    font-weight: 600;\r\n    color: ${titleFontColor};\r\n  `}\r\n`\r\n\r\nexport const WidgetFieldIcon = styled.div`\r\n  ${({ bgColor }) => css`\r\n    grid-area: icon;\r\n    color: ${rgba('#fff', 0.8)};\r\n    background: ${bgColor};\r\n    border-radius: 5px 0 0 5px;\r\n\r\n    @media (max-width: 800px) {\r\n      > svg {\r\n        width: 50%;\r\n      }\r\n    }\r\n  `}\r\n`\r\nexport const WidgetFieldValue = styled.div`\r\n  ${({\r\n    bgColor,\r\n    theme: {\r\n      dialogTorrentDetailsContent: { widgetFontColor },\r\n    },\r\n  }) => css`\r\n    grid-area: value;\r\n    font-size: 24px;\r\n    padding: 0 20px 0 0;\r\n    color: ${widgetFontColor};\r\n    background: ${bgColor};\r\n    border-radius: 0 5px 5px 0;\r\n    white-space: nowrap;\r\n\r\n    @media (max-width: 800px) {\r\n      font-size: 18px;\r\n      padding: 0 16px 0 0;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const LoadingProgress = styled.div.attrs(\r\n  ({\r\n    value,\r\n    fullAmount,\r\n    theme: {\r\n      dialogTorrentDetailsContent: { gradientStartColor, gradientEndColor },\r\n    },\r\n  }) => {\r\n    const percentage = Math.min(100, (value * 100) / fullAmount)\r\n\r\n    return {\r\n      // this block is here according to styled-components recomendation about fast changable components\r\n      style: {\r\n        background: `linear-gradient(to right, ${gradientStartColor} 0%, ${gradientEndColor} ${percentage}%, #eee ${percentage}%, #fff 100%)`,\r\n      },\r\n    }\r\n  },\r\n)`\r\n  ${({ label }) => css`\r\n    border: 1px solid;\r\n    padding: 10px 20px;\r\n    border-radius: 5px;\r\n    color: #000;\r\n\r\n    :before {\r\n      content: '${label}';\r\n      display: grid;\r\n      place-items: center;\r\n      font-size: 20px;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const Divider = styled.div`\r\n  height: 1px;\r\n  background-color: rgba(0, 0, 0, 0.12);\r\n  margin: 30px 0;\r\n`\r\n","import styled, { css } from 'styled-components'\r\n\r\nexport const DetailedViewWidgetSection = styled.section`\r\n  ${({\r\n    theme: {\r\n      detailedView: { gradientStartColor, gradientEndColor },\r\n    },\r\n  }) => css`\r\n    padding: 40px;\r\n    background: linear-gradient(145deg, ${gradientStartColor}, ${gradientEndColor});\r\n\r\n    @media (max-width: 800px) {\r\n      padding: 20px;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const DetailedViewCacheSection = styled.section`\r\n  ${({\r\n    theme: {\r\n      detailedView: { cacheSectionBGColor },\r\n    },\r\n  }) => css`\r\n    padding: 40px;\r\n    box-shadow: inset 3px 25px 8px -25px rgba(0, 0, 0, 0.5);\r\n    background: ${cacheSectionBGColor};\r\n    flex: 1;\r\n\r\n    @media (max-width: 800px) {\r\n      padding: 20px;\r\n    }\r\n  `}\r\n`\r\n","import MovieCreationIcon from '@material-ui/icons/MovieCreation'\r\nimport LiveTvIcon from '@material-ui/icons/LiveTv'\r\nimport MusicNoteIcon from '@material-ui/icons/MusicNote'\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz'\r\n\r\nexport const TORRENT_CATEGORIES = [\r\n  { key: 'movie', name: 'Movies', icon: <MovieCreationIcon /> },\r\n  { key: 'tv', name: 'Series', icon: <LiveTvIcon /> },\r\n  { key: 'music', name: 'Music', icon: <MusicNoteIcon /> },\r\n  { key: 'other', name: 'Other', icon: <MoreHorizIcon /> },\r\n]\r\n","import { WidgetFieldWrapper, WidgetFieldIcon, WidgetFieldValue, WidgetFieldTitle } from './style'\r\n\r\nexport default function StatisticsField({ icon: Icon, title, value, iconBg, valueBg }) {\r\n  return (\r\n    <WidgetFieldWrapper>\r\n      <WidgetFieldTitle>{title}</WidgetFieldTitle>\r\n      <WidgetFieldIcon bgColor={iconBg}>\r\n        <Icon />\r\n      </WidgetFieldIcon>\r\n\r\n      <WidgetFieldValue bgColor={valueBg}>{value}</WidgetFieldValue>\r\n    </WidgetFieldWrapper>\r\n  )\r\n}\r\n","import { DarkModeContext } from 'components/App'\r\nimport { useContext } from 'react'\r\nimport { THEME_MODES } from 'style/materialUISetup'\r\n\r\nconst { LIGHT, DARK } = THEME_MODES\r\n\r\nconst colors = {\r\n  light: {\r\n    downloadSpeed: { iconBGColor: '#118f00', valueBGColor: '#13a300' },\r\n    uploadSpeed: { iconBGColor: '#0146ad', valueBGColor: '#0058db' },\r\n    peers: { iconBGColor: '#cdc118', valueBGColor: '#d8cb18' },\r\n    piecesCount: { iconBGColor: '#b6c95e', valueBGColor: '#c0d076' },\r\n    piecesLength: { iconBGColor: '#0982c8', valueBGColor: '#098cd7' },\r\n    status: { iconBGColor: '#aea25b', valueBGColor: '#b4aa6e' },\r\n    size: { iconBGColor: '#9b01ad', valueBGColor: '#ac03bf' },\r\n    category: { iconBGColor: '#914820', valueBGColor: '#c9632c' },\r\n  },\r\n  dark: {\r\n    downloadSpeed: { iconBGColor: '#0c6600', valueBGColor: '#0d7000' },\r\n    uploadSpeed: { iconBGColor: '#003f9e', valueBGColor: '#0047b3' },\r\n    peers: { iconBGColor: '#a69c11', valueBGColor: '#b4a913' },\r\n    piecesCount: { iconBGColor: '#8da136', valueBGColor: '#99ae3d' },\r\n    piecesLength: { iconBGColor: '#07659c', valueBGColor: '#0872af' },\r\n    status: { iconBGColor: '#938948', valueBGColor: '#9f9450' },\r\n    size: { iconBGColor: '#81008f', valueBGColor: '#9102a1' },\r\n    category: { iconBGColor: '#914820', valueBGColor: '#c9632c' },\r\n  },\r\n}\r\n\r\nexport default function useGetWidgetColors(widgetName) {\r\n  const { isDarkMode } = useContext(DarkModeContext)\r\n  const widgetColors = colors[isDarkMode ? DARK : LIGHT][widgetName]\r\n\r\n  return widgetColors\r\n}\r\n","import {\r\n  ArrowDownward as ArrowDownwardIcon,\r\n  ArrowUpward as ArrowUpwardIcon,\r\n  SwapVerticalCircle as SwapVerticalCircleIcon,\r\n  ViewAgenda as ViewAgendaIcon,\r\n  Widgets as WidgetsIcon,\r\n  PhotoSizeSelectSmall as PhotoSizeSelectSmallIcon,\r\n  Build as BuildIcon,\r\n  Category as CategoryIcon,\r\n} from '@material-ui/icons'\r\nimport { getPeerString, humanizeSize, humanizeSpeed } from 'utils/Utils'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { GETTING_INFO, IN_DB, CLOSED, PRELOAD, WORKING } from 'torrentStates'\r\nimport { TORRENT_CATEGORIES } from 'components/categories'\r\n\r\nimport StatisticsField from '../StatisticsField'\r\nimport useGetWidgetColors from './useGetWidgetColors'\r\n\r\nexport const DownlodSpeedWidget = ({ data }) => {\r\n  const { t } = useTranslation()\r\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('downloadSpeed')\r\n\r\n  return (\r\n    <StatisticsField\r\n      title={t('DownloadSpeed')}\r\n      value={humanizeSpeed(data) || `0 ${t('bps')}`}\r\n      iconBg={iconBGColor}\r\n      valueBg={valueBGColor}\r\n      icon={ArrowDownwardIcon}\r\n    />\r\n  )\r\n}\r\n\r\nexport const UploadSpeedWidget = ({ data }) => {\r\n  const { t } = useTranslation()\r\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('uploadSpeed')\r\n\r\n  return (\r\n    <StatisticsField\r\n      title={t('UploadSpeed')}\r\n      value={humanizeSpeed(data) || `0 ${t('bps')}`}\r\n      iconBg={iconBGColor}\r\n      valueBg={valueBGColor}\r\n      icon={ArrowUpwardIcon}\r\n    />\r\n  )\r\n}\r\n\r\nexport const PeersWidget = ({ data }) => {\r\n  const { t } = useTranslation()\r\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('peers')\r\n\r\n  return (\r\n    <StatisticsField\r\n      title={t('Peers')}\r\n      value={getPeerString(data) || '0 / 0  0'}\r\n      iconBg={iconBGColor}\r\n      valueBg={valueBGColor}\r\n      icon={SwapVerticalCircleIcon}\r\n    />\r\n  )\r\n}\r\n\r\nexport const PiecesCountWidget = ({ data }) => {\r\n  const { t } = useTranslation()\r\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('piecesCount')\r\n\r\n  return (\r\n    <StatisticsField\r\n      title={t('PiecesCount')}\r\n      value={data}\r\n      iconBg={iconBGColor}\r\n      valueBg={valueBGColor}\r\n      icon={WidgetsIcon}\r\n    />\r\n  )\r\n}\r\n\r\nexport const PiecesLengthWidget = ({ data }) => {\r\n  const { t } = useTranslation()\r\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('piecesLength')\r\n\r\n  return (\r\n    <StatisticsField\r\n      title={t('PiecesLength')}\r\n      value={humanizeSize(data)}\r\n      iconBg={iconBGColor}\r\n      valueBg={valueBGColor}\r\n      icon={PhotoSizeSelectSmallIcon}\r\n    />\r\n  )\r\n}\r\n\r\nexport const StatusWidget = ({ stat }) => {\r\n  const { t } = useTranslation()\r\n\r\n  const values = {\r\n    [GETTING_INFO]: t('TorrentGettingInfo'),\r\n    [PRELOAD]: t('TorrentPreload'),\r\n    [WORKING]: t('TorrentWorking'),\r\n    [CLOSED]: t('TorrentClosed'),\r\n    [IN_DB]: t('TorrentInDb'),\r\n  }\r\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('status')\r\n\r\n  return (\r\n    <StatisticsField\r\n      title={t('TorrentStatus')}\r\n      value={values[stat]}\r\n      iconBg={iconBGColor}\r\n      valueBg={valueBGColor}\r\n      icon={BuildIcon}\r\n    />\r\n  )\r\n}\r\n\r\nexport const SizeWidget = ({ data }) => {\r\n  const { t } = useTranslation()\r\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('size')\r\n\r\n  return (\r\n    <StatisticsField\r\n      title={t('TorrentSize')}\r\n      value={humanizeSize(data)}\r\n      iconBg={iconBGColor}\r\n      valueBg={valueBGColor}\r\n      icon={ViewAgendaIcon}\r\n    />\r\n  )\r\n}\r\n\r\nexport const CategoryWidget = ({ data }) => {\r\n  const { t } = useTranslation()\r\n  const { iconBGColor, valueBGColor } = useGetWidgetColors('category')\r\n  // main categories\r\n  const catIndex = TORRENT_CATEGORIES.findIndex(e => e.key === data)\r\n  const catArray = TORRENT_CATEGORIES.find(e => e.key === data)\r\n\r\n  if (data) {\r\n    return (\r\n      <StatisticsField\r\n        title={t('Category')}\r\n        value={catIndex >= 0 ? t(catArray.name) : data.length > 1 ? data.charAt(0).toUpperCase() + data.slice(1) : data}\r\n        iconBg={iconBGColor}\r\n        valueBg={valueBGColor}\r\n        icon={CategoryIcon}\r\n      />\r\n    )\r\n  }\r\n\r\n  return null\r\n}\r\n","import { useTranslation } from 'react-i18next'\r\nimport { Checkbox, FormControlLabel } from '@material-ui/core'\r\nimport { useState } from 'react'\r\n\r\nimport { SectionTitle, WidgetWrapper } from '../style'\r\nimport { DetailedViewCacheSection, DetailedViewWidgetSection } from './style'\r\nimport TorrentCache from '../TorrentCache'\r\nimport {\r\n  SizeWidget,\r\n  PiecesLengthWidget,\r\n  StatusWidget,\r\n  PiecesCountWidget,\r\n  PeersWidget,\r\n  UploadSpeedWidget,\r\n  DownlodSpeedWidget,\r\n} from '../widgets'\r\n\r\nexport default function DetailedView({\r\n  downloadSpeed,\r\n  uploadSpeed,\r\n  torrent,\r\n  torrentSize,\r\n  PiecesCount,\r\n  PiecesLength,\r\n  stat,\r\n  cache,\r\n}) {\r\n  const { t } = useTranslation()\r\n  const [isSnakeDebugMode, setIsSnakeDebugMode] = useState(\r\n    JSON.parse(localStorage.getItem('isSnakeDebugMode')) || false,\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <DetailedViewWidgetSection>\r\n        <SectionTitle mb={20}>{t('Data')}</SectionTitle>\r\n\r\n        <WidgetWrapper detailedView>\r\n          <DownlodSpeedWidget data={downloadSpeed} />\r\n          <UploadSpeedWidget data={uploadSpeed} />\r\n          <PeersWidget data={torrent} />\r\n          <SizeWidget data={torrentSize} />\r\n          <PiecesCountWidget data={PiecesCount} />\r\n          <PiecesLengthWidget data={PiecesLength} />\r\n          <StatusWidget stat={stat} />\r\n        </WidgetWrapper>\r\n      </DetailedViewWidgetSection>\r\n\r\n      <DetailedViewCacheSection>\r\n        <SectionTitle color='#000' mb={20}>\r\n          <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n            <span>{t('Cache')}</span>\r\n\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  color='primary'\r\n                  checked={isSnakeDebugMode}\r\n                  disableRipple\r\n                  onChange={({ target: { checked } }) => {\r\n                    setIsSnakeDebugMode(checked)\r\n                    localStorage.setItem('isSnakeDebugMode', checked)\r\n                  }}\r\n                />\r\n              }\r\n              label={t('DebugMode')}\r\n              labelPlacement='start'\r\n            />\r\n          </div>\r\n        </SectionTitle>\r\n\r\n        <TorrentCache cache={cache} isSnakeDebugMode={isSnakeDebugMode} />\r\n      </DetailedViewCacheSection>\r\n    </>\r\n  )\r\n}\r\n","import styled, { css } from 'styled-components'\r\n\r\nexport const MainSectionButtonGroup = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 20px;\r\n\r\n  :not(:last-child) {\r\n    margin-bottom: 30px;\r\n  }\r\n\r\n  @media (max-width: 1580px) {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  @media (max-width: 880px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`\r\n\r\nexport const SmallLabel = styled.div`\r\n  ${({\r\n    mb,\r\n    theme: {\r\n      torrentFunctions: { fontColor },\r\n    },\r\n  }) => css`\r\n    ${mb && `margin-bottom: ${mb}px`};\r\n    font-size: 20px;\r\n    font-weight: 300;\r\n    line-height: 1;\r\n    color: ${fontColor};\r\n\r\n    @media (max-width: 800px) {\r\n      font-size: 18px;\r\n      ${mb && `margin-bottom: ${mb / 1.5}px`};\r\n    }\r\n  `}\r\n`\r\n","import axios from 'axios'\r\nimport { memo } from 'react'\r\nimport { playlistTorrHost, torrentsHost, viewedHost } from 'utils/Hosts'\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport { Button } from '@material-ui/core'\r\nimport ptt from 'parse-torrent-title'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport { SmallLabel, MainSectionButtonGroup } from './style'\r\nimport { SectionSubName } from '../style'\r\n\r\nconst TorrentFunctions = memo(\r\n  ({ hash, viewedFileList, playableFileList, name, title, setViewedFileList }) => {\r\n    const { t } = useTranslation()\r\n    const latestViewedFileId = viewedFileList?.[viewedFileList?.length - 1]\r\n    const latestViewedFile = playableFileList?.find(({ id }) => id === latestViewedFileId)?.path\r\n    const isOnlyOnePlayableFile = playableFileList?.length === 1\r\n    const latestViewedFileData = latestViewedFile && ptt.parse(latestViewedFile)\r\n    const dropTorrent = () => axios.post(torrentsHost(), { action: 'drop', hash })\r\n    const removeTorrentViews = () =>\r\n      axios.post(viewedHost(), { action: 'rem', hash, file_index: -1 }).then(() => setViewedFileList())\r\n    const fullPlaylistLink = `${playlistTorrHost()}/${encodeURIComponent(name || title || 'file')}.m3u?link=${hash}&m3u`\r\n    const partialPlaylistLink = `${fullPlaylistLink}&fromlast`\r\n    const magnet = `magnet:?xt=urn:btih:${hash}&dn=${encodeURIComponent(name || title)}`\r\n\r\n    return (\r\n      <>\r\n        {!isOnlyOnePlayableFile && !!viewedFileList?.length && (\r\n          <>\r\n            <SmallLabel>{t('DownloadPlaylist')}</SmallLabel>\r\n            <SectionSubName mb={10}>\r\n              {t('LatestFilePlayed')}{' '}\r\n              <strong>\r\n                {latestViewedFileData?.title}.\r\n                {latestViewedFileData?.season && (\r\n                  <>\r\n                    {' '}\r\n                    {t('Season')}: {latestViewedFileData?.season}. {t('Episode')}: {latestViewedFileData?.episode}.\r\n                  </>\r\n                )}\r\n              </strong>\r\n            </SectionSubName>\r\n\r\n            <MainSectionButtonGroup>\r\n              <a style={{ textDecoration: 'none' }} href={fullPlaylistLink}>\r\n                <Button style={{ width: '100%' }} variant='contained' color='primary' size='large'>\r\n                  {t('Full')}\r\n                </Button>\r\n              </a>\r\n\r\n              <a style={{ textDecoration: 'none' }} href={partialPlaylistLink}>\r\n                <Button style={{ width: '100%' }} variant='contained' color='primary' size='large'>\r\n                  {t('FromLatestFile')}\r\n                </Button>\r\n              </a>\r\n            </MainSectionButtonGroup>\r\n          </>\r\n        )}\r\n        <SmallLabel mb={10}>{t('TorrentState')}</SmallLabel>\r\n        <MainSectionButtonGroup>\r\n          <Button onClick={() => removeTorrentViews()} variant='contained' color='primary' size='large'>\r\n            {t('RemoveViews')}\r\n          </Button>\r\n          <Button onClick={() => dropTorrent()} variant='contained' color='primary' size='large'>\r\n            {t('DropTorrent')}\r\n          </Button>\r\n        </MainSectionButtonGroup>\r\n        <SmallLabel mb={10}>{t('Info')}</SmallLabel>\r\n        <MainSectionButtonGroup>\r\n          {(isOnlyOnePlayableFile || !viewedFileList?.length) && (\r\n            <a style={{ textDecoration: 'none' }} href={fullPlaylistLink}>\r\n              <Button style={{ width: '100%' }} variant='contained' color='primary' size='large'>\r\n                {t('DownloadPlaylist')}\r\n              </Button>\r\n            </a>\r\n          )}\r\n          <CopyToClipboard text={magnet}>\r\n            <Button variant='contained' color='primary' size='large'>\r\n              {t('CopyHash')}\r\n            </Button>\r\n          </CopyToClipboard>\r\n        </MainSectionButtonGroup>\r\n      </>\r\n    )\r\n  },\r\n  () => true,\r\n)\r\n\r\nexport default TorrentFunctions\r\n","const getExt = filename => {\r\n  const ext = filename.split('.').pop()\r\n  if (ext === filename) return ''\r\n  return ext.toLowerCase()\r\n}\r\nconst playableExtList = [\r\n  // video\r\n  '3g2',\r\n  '3gp',\r\n  'aaf',\r\n  'asf',\r\n  'avchd',\r\n  'avi',\r\n  'drc',\r\n  'dv',\r\n  'flv',\r\n  'iso',\r\n  'm2v',\r\n  'm2ts',\r\n  'm4p',\r\n  'm4v',\r\n  'mkv',\r\n  'mng',\r\n  'mov',\r\n  'mp2',\r\n  'mp4',\r\n  'mpe',\r\n  'mpeg',\r\n  'mpg',\r\n  'mpv',\r\n  'mts',\r\n  'mxf',\r\n  'nsv',\r\n  'ogv',\r\n  'ts',\r\n  'qt',\r\n  'rm',\r\n  'rmvb',\r\n  'roq',\r\n  'svi',\r\n  'vob',\r\n  'webm',\r\n  'wmv',\r\n  'yuv',\r\n  // audio\r\n  'aac',\r\n  'aiff',\r\n  'ape',\r\n  'au',\r\n  'dsd',\r\n  'dff',\r\n  'dsf',\r\n  'flac',\r\n  'gsm',\r\n  'it',\r\n  'm3u',\r\n  'm4a',\r\n  'mid',\r\n  'mod',\r\n  'mp3',\r\n  'mpa',\r\n  'oga',\r\n  'ogg',\r\n  'opus',\r\n  'pls',\r\n  'ra',\r\n  's3m',\r\n  'sid',\r\n  'wav',\r\n  'weba',\r\n  'wma',\r\n  'xm',\r\n]\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const isFilePlayable = fileName => playableExtList.includes(getExt(fileName))\r\n","import { NoImageIcon } from 'icons'\r\nimport { humanizeSize, removeRedundantCharacters } from 'utils/Utils'\r\nimport { useEffect, useState } from 'react'\r\nimport { Button, ButtonGroup } from '@material-ui/core'\r\nimport ptt from 'parse-torrent-title'\r\nimport axios from 'axios'\r\nimport { viewedHost } from 'utils/Hosts'\r\nimport { GETTING_INFO, IN_DB } from 'torrentStates'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport { useUpdateCache, useGetSettings } from './customHooks'\r\nimport DialogHeader from './DialogHeader'\r\nimport TorrentCache from './TorrentCache'\r\nimport Table from './Table'\r\nimport DetailedView from './DetailedView'\r\nimport {\r\n  DialogContentGrid,\r\n  MainSection,\r\n  Poster,\r\n  SectionTitle,\r\n  SectionSubName,\r\n  WidgetWrapper,\r\n  LoadingProgress,\r\n  SectionHeader,\r\n  CacheSection,\r\n  TorrentFilesSection,\r\n  Divider,\r\n} from './style'\r\nimport { DownlodSpeedWidget, UploadSpeedWidget, PeersWidget, SizeWidget, StatusWidget, CategoryWidget } from './widgets'\r\nimport TorrentFunctions from './TorrentFunctions'\r\nimport { isFilePlayable } from './helpers'\r\n\r\nconst Loader = () => (\r\n  <div style={{ minHeight: '80vh', display: 'grid', placeItems: 'center' }}>\r\n    <CircularProgress color='secondary' />\r\n  </div>\r\n)\r\n\r\nexport default function DialogTorrentDetailsContent({ closeDialog, torrent }) {\r\n  const { t } = useTranslation()\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [isDetailedCacheView, setIsDetailedCacheView] = useState(false)\r\n  const [viewedFileList, setViewedFileList] = useState()\r\n  const [playableFileList, setPlayableFileList] = useState()\r\n  const [seasonAmount, setSeasonAmount] = useState(null)\r\n  const [selectedSeason, setSelectedSeason] = useState()\r\n  const [isSnakeDebugMode] = useState(JSON.parse(localStorage.getItem('isSnakeDebugMode')) || false)\r\n\r\n  const {\r\n    poster,\r\n    hash,\r\n    title,\r\n    category,\r\n    name,\r\n    stat,\r\n    download_speed: downloadSpeed,\r\n    upload_speed: uploadSpeed,\r\n    torrent_size: torrentSize,\r\n    file_stats: torrentFileList,\r\n  } = torrent\r\n\r\n  const cache = useUpdateCache(hash)\r\n  const settings = useGetSettings(cache)\r\n\r\n  const { Capacity, PiecesCount, PiecesLength, Filled } = cache\r\n\r\n  useEffect(() => {\r\n    if (playableFileList && seasonAmount === null) {\r\n      const seasons = []\r\n      playableFileList.forEach(({ path }) => {\r\n        const currentSeason = ptt.parse(path).season\r\n        if (currentSeason) {\r\n          !seasons.includes(currentSeason) && seasons.push(currentSeason)\r\n        }\r\n      })\r\n      seasons.length && setSelectedSeason(seasons[0])\r\n      setSeasonAmount(seasons.sort((a, b) => a - b))\r\n    }\r\n  }, [playableFileList, seasonAmount])\r\n\r\n  useEffect(() => {\r\n    setPlayableFileList(torrentFileList?.filter(({ path }) => isFilePlayable(path)))\r\n  }, [torrentFileList])\r\n\r\n  useEffect(() => {\r\n    const cacheLoaded = !!Object.entries(cache).length\r\n    const torrentLoaded = stat !== GETTING_INFO && stat !== IN_DB\r\n\r\n    if (!cacheLoaded && !isLoading) setIsLoading(true)\r\n    if (cacheLoaded && isLoading && torrentLoaded) setIsLoading(false)\r\n  }, [stat, cache, isLoading])\r\n\r\n  useEffect(() => {\r\n    // getting viewed file list\r\n    axios.post(viewedHost(), { action: 'list', hash }).then(({ data }) => {\r\n      if (data) {\r\n        const lst = data.map(itm => itm.file_index).sort((a, b) => a - b)\r\n        setViewedFileList(lst)\r\n      } else setViewedFileList()\r\n    })\r\n  }, [hash])\r\n\r\n  const preloadPerc = settings?.PreloadCache\r\n  const preloadSize = (Capacity / 100) * preloadPerc\r\n  const bufferSize = preloadSize > 26214400 ? preloadSize : 26214400 // Not less than 25MB\r\n\r\n  const getParsedTitle = () => {\r\n    const newNameStringArr = []\r\n\r\n    const torrentParsedName = name && ptt.parse(name)\r\n\r\n    if (title !== name) {\r\n      newNameStringArr.push(removeRedundantCharacters(title))\r\n    } else if (torrentParsedName?.title) newNameStringArr.push(removeRedundantCharacters(torrentParsedName?.title))\r\n\r\n    // These 2 checks are needed to get year and resolution from torrent name if title does not have this info\r\n    if (torrentParsedName?.year && !newNameStringArr[0].includes(torrentParsedName?.year))\r\n      newNameStringArr.push(torrentParsedName?.year)\r\n    if (torrentParsedName?.resolution && !newNameStringArr[0].includes(torrentParsedName?.resolution))\r\n      newNameStringArr.push(torrentParsedName?.resolution)\r\n\r\n    const newNameString = newNameStringArr.join('. ')\r\n\r\n    // removeRedundantCharacters is returning \"..\" if it was \"...\"\r\n    const lastDotShouldBeAdded =\r\n      newNameString[newNameString.length - 1] === '.' && newNameString[newNameString.length - 2] === '.'\r\n\r\n    return lastDotShouldBeAdded ? `${newNameString}.` : newNameString\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <DialogHeader\r\n        onClose={closeDialog}\r\n        title={isDetailedCacheView ? t('DetailedCacheView.header') : t('TorrentDetails')}\r\n        {...(isDetailedCacheView && { onBack: () => setIsDetailedCacheView(false) })}\r\n      />\r\n\r\n      <div\r\n        style={{\r\n          minHeight: '80vh',\r\n          overflow: 'auto',\r\n          ...(isDetailedCacheView && { display: 'flex', flexDirection: 'column' }),\r\n        }}\r\n      >\r\n        {isLoading ? (\r\n          <Loader />\r\n        ) : isDetailedCacheView ? (\r\n          <DetailedView\r\n            downloadSpeed={downloadSpeed}\r\n            uploadSpeed={uploadSpeed}\r\n            torrent={torrent}\r\n            torrentSize={torrentSize}\r\n            PiecesCount={PiecesCount}\r\n            PiecesLength={PiecesLength}\r\n            stat={stat}\r\n            cache={cache}\r\n          />\r\n        ) : (\r\n          <DialogContentGrid>\r\n            <MainSection>\r\n              <Poster poster={poster}>{poster ? <img alt='poster' src={poster} /> : <NoImageIcon />}</Poster>\r\n\r\n              <div>\r\n                {title && name !== title ? (\r\n                  getParsedTitle().length > 90 ? (\r\n                    <>\r\n                      <SectionTitle>{ptt.parse(name).title}</SectionTitle>\r\n                      <SectionSubName mb={20}>{getParsedTitle()}</SectionSubName>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <SectionTitle>{getParsedTitle()}</SectionTitle>\r\n                      <SectionSubName mb={20}>{ptt.parse(name || '')?.title}</SectionSubName>\r\n                    </>\r\n                  )\r\n                ) : (\r\n                  <SectionTitle mb={20}>{getParsedTitle()}</SectionTitle>\r\n                )}\r\n\r\n                <WidgetWrapper>\r\n                  <DownlodSpeedWidget data={downloadSpeed} />\r\n                  <UploadSpeedWidget data={uploadSpeed} />\r\n                  <PeersWidget data={torrent} />\r\n                  <SizeWidget data={torrentSize} />\r\n                  <StatusWidget stat={stat} />\r\n                  <CategoryWidget data={category} />\r\n                </WidgetWrapper>\r\n\r\n                <Divider />\r\n\r\n                <TorrentFunctions\r\n                  hash={hash}\r\n                  viewedFileList={viewedFileList}\r\n                  playableFileList={playableFileList}\r\n                  name={name}\r\n                  title={title}\r\n                  setViewedFileList={setViewedFileList}\r\n                />\r\n              </div>\r\n            </MainSection>\r\n\r\n            <CacheSection>\r\n              <SectionHeader>\r\n                <SectionTitle mb={20}>{t('Buffer')}</SectionTitle>\r\n                {bufferSize <= 26214400 && <SectionSubName>{t('BufferNote')}</SectionSubName>}\r\n                <LoadingProgress\r\n                  value={Filled}\r\n                  style={{ marginTop: '5px' }}\r\n                  fullAmount={bufferSize}\r\n                  label={`${humanizeSize(bufferSize)} / ${humanizeSize(Filled) || `0 ${t('B')}`}`}\r\n                />\r\n              </SectionHeader>\r\n\r\n              <TorrentCache isMini cache={cache} isSnakeDebugMode={isSnakeDebugMode} />\r\n              <Button\r\n                style={{ marginTop: '30px' }}\r\n                variant='contained'\r\n                color='primary'\r\n                size='large'\r\n                onClick={() => setIsDetailedCacheView(true)}\r\n              >\r\n                {t('DetailedCacheView.button')}\r\n              </Button>\r\n            </CacheSection>\r\n\r\n            <TorrentFilesSection>\r\n              <SectionTitle mb={20}>{t('TorrentContent')}</SectionTitle>\r\n\r\n              {seasonAmount?.length > 1 && (\r\n                <>\r\n                  <SectionSubName mb={7}>{t('SelectSeason')}</SectionSubName>\r\n                  <ButtonGroup style={{ marginBottom: '30px' }} color='secondary'>\r\n                    {seasonAmount.map(season => (\r\n                      <Button\r\n                        key={season}\r\n                        variant={selectedSeason === season ? 'contained' : 'outlined'}\r\n                        onClick={() => setSelectedSeason(season)}\r\n                      >\r\n                        {season}\r\n                      </Button>\r\n                    ))}\r\n                  </ButtonGroup>\r\n\r\n                  <SectionTitle mb={20}>\r\n                    {t('Season')} {selectedSeason}\r\n                  </SectionTitle>\r\n                </>\r\n              )}\r\n\r\n              <Table\r\n                hash={hash}\r\n                playableFileList={playableFileList}\r\n                viewedFileList={viewedFileList}\r\n                selectedSeason={selectedSeason}\r\n                seasonAmount={seasonAmount}\r\n              />\r\n            </TorrentFilesSection>\r\n          </DialogContentGrid>\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import { useTranslation } from 'react-i18next'\r\n\r\nexport default () => {\r\n  const { i18n } = useTranslation()\r\n  const currentLanguage = i18n.language.substr(0, 2)\r\n\r\n  return [currentLanguage, lang => i18n.changeLanguage(lang)]\r\n}\r\n","import { useEffect, useRef } from 'react'\r\n\r\nexport default function usePreviousState(value) {\r\n  const ref = useRef(value)\r\n\r\n  useEffect(() => {\r\n    ref.current = value\r\n  }, [value])\r\n\r\n  return ref.current\r\n}\r\n","import { useEffect, useRef } from 'react'\r\nimport { isStandaloneApp } from 'utils/Utils'\r\n\r\nexport default function useOnStandaloneAppOutsideClick(onClickOutside) {\r\n  const ref = useRef()\r\n\r\n  useEffect(() => {\r\n    if (!isStandaloneApp) return\r\n\r\n    const handleClickOutside = event => {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        const { target, path, composedPath } = event\r\n        const eventPath = path || (composedPath && composedPath()) || []\r\n\r\n        const isWithinMuiMenu =\r\n          target.closest('[role=\"listbox\"]') ||\r\n          target.closest('[role=\"menu\"]') ||\r\n          target.closest('.MuiMenu-root') ||\r\n          target.closest('.MuiPopover-root') ||\r\n          target.closest('.MuiPaper-root[role=\"presentation\"]') ||\r\n          target.closest('.MuiSelect-root') ||\r\n          target.closest('[class*=\"MuiMenu\"]') ||\r\n          target.closest('[class*=\"MuiPopover\"]') ||\r\n          target.closest('[class*=\"MuiSelect-menu\"]') ||\r\n          target.closest('[class*=\"MuiMenuItem\"]') ||\r\n          eventPath.some(\r\n            el =>\r\n              el &&\r\n              (el.classList?.contains('MuiMenu-root') ||\r\n                el.classList?.contains('MuiPopover-root') ||\r\n                el.classList?.contains('MuiPaper-root') ||\r\n                el.classList?.contains('MuiMenuItem-root') ||\r\n                el.getAttribute?.('role') === 'listbox' ||\r\n                el.getAttribute?.('role') === 'menu'),\r\n          )\r\n\r\n        if (!isWithinMuiMenu) {\r\n          onClickOutside && onClickOutside()\r\n        }\r\n      }\r\n    }\r\n\r\n    document.addEventListener('click', handleClickOutside, true)\r\n\r\n    return () => {\r\n      document.removeEventListener('click', handleClickOutside, true)\r\n    }\r\n  })\r\n\r\n  return ref\r\n}\r\n","import axios from 'axios'\r\nimport parseTorrent from 'parse-torrent'\r\nimport ptt from 'parse-torrent-title'\r\n\r\nexport const getMoviePosters = (movieName, language = 'en') => {\r\n  const url = `${window.location.protocol}//api.themoviedb.org/3/search/multi`\r\n  const imgHost = `${window.location.protocol}//${language === 'ru' ? 'imagetmdb.com' : 'image.tmdb.org'}`\r\n\r\n  return axios\r\n    .get(url, {\r\n      params: {\r\n        api_key: process.env.REACT_APP_TMDB_API_KEY,\r\n        language,\r\n        include_image_language: `${language},null,en`,\r\n        query: movieName,\r\n      },\r\n    })\r\n    .then(({ data: { results } }) =>\r\n      results.filter(el => el.poster_path).map(el => `${imgHost}/t/p/w300${el.poster_path}`),\r\n    )\r\n    .catch(() => null)\r\n}\r\n\r\nexport const checkImageURL = async url => {\r\n  if (!url || !url.match(/.(\\.jpg|\\.jpeg|\\.png|\\.gif|\\.svg||\\.webp).*$/i)) return false\r\n  return true\r\n}\r\n\r\nconst magnetRegex = /^magnet:\\?xt=urn:[a-z0-9].*/i\r\nexport const hashRegex = /^\\b[0-9a-f]{32}\\b$|^\\b[0-9a-f]{40}\\b$|^\\b[0-9a-f]{64}\\b$/i\r\nconst torrentRegex = /^.*\\.(torrent)$/i\r\nconst linkRegex = /^(http(s?)):\\/\\/.*/i\r\nconst torrsRegex = /^(torrs):\\/\\/.*/i\r\n\r\nexport const checkTorrentSource = source =>\r\n  source.match(hashRegex) !== null ||\r\n  source.match(magnetRegex) !== null ||\r\n  source.match(torrentRegex) !== null ||\r\n  source.match(linkRegex) !== null ||\r\n  source.match(torrsRegex) !== null\r\n\r\nexport const parseTorrentTitle = (parsingSource, callback) => {\r\n  parseTorrent.remote(parsingSource, (err, { name, files } = {}) => {\r\n    if (!name || err) return callback({ parsedTitle: null, originalName: null })\r\n\r\n    const torrentName = ptt.parse(name).title\r\n    const nameOfFileInsideTorrent = files ? ptt.parse(files[0].name).title : null\r\n\r\n    let newTitle = torrentName\r\n    if (nameOfFileInsideTorrent) {\r\n      // taking shorter title because in most cases it is more accurate\r\n      newTitle = torrentName.length < nameOfFileInsideTorrent.length ? torrentName : nameOfFileInsideTorrent\r\n    }\r\n\r\n    callback({ parsedTitle: newTitle, originalName: name })\r\n  })\r\n}\r\n","import { Button } from '@material-ui/core'\r\nimport styled, { css } from 'styled-components'\r\n\r\nexport const Content = styled.div`\r\n  ${({\r\n    isEditMode,\r\n    theme: {\r\n      addDialog: { gradientStartColor, gradientEndColor, fontColor },\r\n    },\r\n  }) => css`\r\n    height: 550px;\r\n    background: linear-gradient(145deg, ${gradientStartColor}, ${gradientEndColor});\r\n    flex: 1;\r\n    display: grid;\r\n    grid-template-columns: repeat(${isEditMode ? '1' : '2'}, 1fr);\r\n    border-bottom: 1px solid rgba(0, 0, 0, 0.12);\r\n    overflow: auto;\r\n    color: ${fontColor};\r\n\r\n    @media (max-width: 540px) {\r\n      ${'' /* Just for bug fixing on small screens */}\r\n      overflow: scroll;\r\n    }\r\n\r\n    @media (max-width: 930px) {\r\n      grid-template-columns: 1fr;\r\n    }\r\n\r\n    @media (max-width: 500px) {\r\n      align-content: start;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const RightSide = styled.div`\r\n  padding: 0 20px 20px 20px;\r\n`\r\n\r\nexport const RightSideContainer = styled.div`\r\n  ${({\r\n    isHidden,\r\n    notificationMessage,\r\n    isError,\r\n    theme: {\r\n      addDialog: { notificationErrorBGColor, notificationSuccessBGColor },\r\n    },\r\n  }) => css`\r\n    height: 530px;\r\n\r\n    ${notificationMessage &&\r\n    css`\r\n      position: relative;\r\n      white-space: nowrap;\r\n\r\n      :before {\r\n        font-size: 20px;\r\n        font-weight: 300;\r\n        content: '${notificationMessage}';\r\n        display: grid;\r\n        place-items: center;\r\n        background: ${isError ? notificationErrorBGColor : notificationSuccessBGColor};\r\n        padding: 10px 15px;\r\n        position: absolute;\r\n        top: 52%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        border-radius: 5px;\r\n      }\r\n    `};\r\n\r\n    ${isHidden &&\r\n    css`\r\n      display: none;\r\n    `};\r\n\r\n    @media (max-width: 500px) {\r\n      height: 170px;\r\n    }\r\n  `}\r\n`\r\nexport const LeftSide = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-right: 1px solid rgba(0, 0, 0, 0.12);\r\n`\r\n\r\nexport const LeftSideBottomSectionBasicStyles = css`\r\n  transition: transform 0.3s;\r\n  padding: 20px;\r\n  height: 100%;\r\n  display: grid;\r\n`\r\n\r\nexport const LeftSideBottomSectionNoFile = styled.div`\r\n  ${LeftSideBottomSectionBasicStyles}\r\n  border: 4px dashed rgba(0,0,0,0.1);\r\n  text-align: center;\r\n  outline: none;\r\n\r\n  ${({ isDragActive }) => isDragActive && `border: 4px dashed green`};\r\n\r\n  justify-items: center;\r\n  grid-template-rows: 130px 1fr;\r\n  cursor: pointer;\r\n\r\n  :hover {\r\n    background-color: rgba(0, 0, 0, 0.04);\r\n    svg {\r\n      transform: translateY(-4%);\r\n    }\r\n  }\r\n\r\n  @media (max-width: 930px) {\r\n    border: 4px dashed transparent;\r\n    height: 400px;\r\n    place-items: center;\r\n    grid-template-rows: 40% 1fr;\r\n  }\r\n\r\n  @media (max-width: 500px) {\r\n    height: 170px;\r\n    grid-template-rows: 1fr;\r\n\r\n    > div:first-of-type {\r\n      display: none;\r\n    }\r\n  }\r\n`\r\n\r\nexport const LeftSideBottomSectionFileSelected = styled.div`\r\n  ${LeftSideBottomSectionBasicStyles}\r\n  place-items: center;\r\n\r\n  @media (max-width: 930px) {\r\n    height: 400px;\r\n  }\r\n\r\n  @media (max-width: 500px) {\r\n    height: 170px;\r\n  }\r\n`\r\n\r\nexport const TorrentIconWrapper = styled.div`\r\n  position: relative;\r\n`\r\n\r\nexport const CancelIconWrapper = styled.div`\r\n  position: absolute;\r\n  top: -9px;\r\n  left: 10px;\r\n  cursor: pointer;\r\n\r\n  > svg {\r\n    transition: all 0.3s;\r\n    fill: rgba(0, 0, 0, 0.7);\r\n\r\n    :hover {\r\n      fill: rgba(0, 0, 0, 0.6);\r\n    }\r\n  }\r\n`\r\n\r\nexport const IconWrapper = styled.div`\r\n  display: grid;\r\n  justify-items: center;\r\n  align-content: start;\r\n  gap: 10px;\r\n  align-self: start;\r\n\r\n  svg {\r\n    transition: all 0.3s;\r\n  }\r\n`\r\n\r\nexport const LeftSideTopSection = styled.div`\r\n  ${({\r\n    active,\r\n    theme: {\r\n      addDialog: { gradientStartColor },\r\n    },\r\n  }) => css`\r\n    background: ${gradientStartColor};\r\n    padding: 0 20px 20px 20px;\r\n    transition: all 0.3s;\r\n\r\n    ${active && 'box-shadow: 0 8px 10px -9px rgba(0, 0, 0, 0.5)'};\r\n  `}\r\n`\r\n\r\nexport const PosterWrapper = styled.div`\r\n  margin-top: 20px;\r\n  display: grid;\r\n  grid-template-columns: max-content 1fr;\r\n  grid-template-rows: 300px max-content;\r\n  column-gap: 5px;\r\n  position: relative;\r\n  margin-bottom: 20px;\r\n\r\n  grid-template-areas:\r\n    'poster suggestions'\r\n    'clear empty';\r\n\r\n  @media (max-width: 540px) {\r\n    grid-template-columns: 1fr;\r\n    gap: 5px 0;\r\n    justify-items: center;\r\n    grid-template-areas:\r\n      'poster'\r\n      'clear'\r\n      'suggestions';\r\n  }\r\n`\r\n\r\nexport const PosterSuggestions = styled.div`\r\n  display: grid;\r\n  grid-area: suggestions;\r\n  grid-auto-flow: column;\r\n  grid-template-columns: repeat(3, max-content);\r\n  grid-template-rows: repeat(4, max-content);\r\n  gap: 5px;\r\n\r\n  @media (max-width: 540px) {\r\n    grid-auto-flow: row;\r\n    grid-template-columns: repeat(5, max-content);\r\n  }\r\n  @media (max-width: 375px) {\r\n    grid-template-columns: repeat(4, max-content);\r\n  }\r\n`\r\n\r\nexport const PosterSuggestionsItem = styled.div`\r\n  cursor: pointer;\r\n  width: 71px;\r\n  height: 71px;\r\n\r\n  @media (max-width: 430px) {\r\n    width: 60px;\r\n    height: 60px;\r\n  }\r\n\r\n  @media (max-width: 375px) {\r\n    width: 71px;\r\n    height: 71px;\r\n  }\r\n\r\n  @media (max-width: 355px) {\r\n    width: 60px;\r\n    height: 60px;\r\n  }\r\n\r\n  img {\r\n    transition: all 0.3s;\r\n    border-radius: 5px;\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n\r\n    :hover {\r\n      filter: brightness(130%);\r\n    }\r\n  }\r\n`\r\n\r\nexport const Poster = styled.div`\r\n  ${({\r\n    poster,\r\n    theme: {\r\n      addDialog: { posterBGColor },\r\n    },\r\n  }) => css`\r\n    border-radius: 5px;\r\n    overflow: hidden;\r\n    width: 200px;\r\n    grid-area: poster;\r\n\r\n    ${poster\r\n      ? css`\r\n          img {\r\n            width: 200px;\r\n            object-fit: cover;\r\n            border-radius: 5px;\r\n            height: 100%;\r\n          }\r\n        `\r\n      : css`\r\n          display: grid;\r\n          place-items: center;\r\n          background: ${posterBGColor};\r\n\r\n          svg {\r\n            transform: scale(1.5) translateY(-3px);\r\n          }\r\n        `}\r\n  `}\r\n`\r\n\r\nexport const ClearPosterButton = styled(Button)`\r\n  grid-area: clear;\r\n  justify-self: flex-start;\r\n  transform: translateY(-50%);\r\n  position: absolute;\r\n  ${({ showbutton }) => !showbutton && 'display: none'};\r\n\r\n  @media (max-width: 540px) {\r\n    transform: translateY(-140%);\r\n  }\r\n`\r\n\r\nexport const UpdatePosterButton = styled(Button)`\r\n  grid-area: clear;\r\n  justify-self: flex-end;\r\n  transform: translateY(-50%);\r\n  position: absolute;\r\n\r\n  @media (max-width: 540px) {\r\n    transform: translateY(-140%);\r\n  }\r\n`\r\n\r\nexport const PosterLanguageSwitch = styled.div`\r\n  ${({\r\n    showbutton,\r\n    theme: {\r\n      addDialog: { languageSwitchBGColor, languageSwitchFontColor },\r\n    },\r\n  }) => css`\r\n    grid-area: poster;\r\n    z-index: 5;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 30px;\r\n    height: 30px;\r\n    background: ${languageSwitchBGColor};\r\n    border-radius: 50%;\r\n    display: grid;\r\n    place-items: center;\r\n    color: ${languageSwitchFontColor};\r\n    font-weight: 600;\r\n    cursor: pointer;\r\n    transition: all 0.3s;\r\n\r\n    ${!showbutton && 'display: none'};\r\n\r\n    :hover {\r\n      filter: brightness(1.1);\r\n    }\r\n  `}\r\n`\r\n\r\nexport const StyledPWAAddButton = styled.div`\r\n  border: 2px solid white;\r\n  border-radius: 50%;\r\n  height: 45px;\r\n  width: 45px;\r\n  position: relative;\r\n\r\n  :before,\r\n  :after {\r\n    content: '';\r\n    background: white;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n  }\r\n\r\n  :before {\r\n    width: 2px;\r\n    height: 25px;\r\n  }\r\n  :after {\r\n    width: 25px;\r\n    height: 2px;\r\n  }\r\n`\r\n","import { useTranslation } from 'react-i18next'\r\nimport { rgba } from 'polished'\r\nimport { NoImageIcon } from 'icons'\r\nimport {\r\n  FormControl,\r\n  FormHelperText,\r\n  IconButton,\r\n  InputAdornment,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  useTheme,\r\n} from '@material-ui/core'\r\nimport { HighlightOff as HighlightOffIcon } from '@material-ui/icons'\r\nimport { TORRENT_CATEGORIES } from 'components/categories'\r\n\r\nimport {\r\n  ClearPosterButton,\r\n  UpdatePosterButton,\r\n  PosterLanguageSwitch,\r\n  RightSide,\r\n  Poster,\r\n  PosterSuggestions,\r\n  PosterSuggestionsItem,\r\n  PosterWrapper,\r\n  RightSideContainer,\r\n} from './style'\r\nimport { checkImageURL } from './helpers'\r\n\r\nexport default function RightSideComponent({\r\n  setTitle,\r\n  setCategory,\r\n  setPosterUrl,\r\n  setIsPosterUrlCorrect,\r\n  setIsUserInteractedWithPoster,\r\n  setPosterList,\r\n  isTorrentSourceCorrect,\r\n  isHashAlreadyExists,\r\n  title,\r\n  category,\r\n  parsedTitle,\r\n  posterUrl,\r\n  isPosterUrlCorrect,\r\n  posterList,\r\n  currentLang,\r\n  posterSearchLanguage,\r\n  setPosterSearchLanguage,\r\n  posterSearch,\r\n  removePoster,\r\n  torrentSource,\r\n  originalTorrentTitle,\r\n  updateTitleFromSource,\r\n  isCustomTitleEnabled,\r\n  setIsCustomTitleEnabled,\r\n  isEditMode,\r\n}) {\r\n  const { t } = useTranslation()\r\n  const primary = useTheme().palette.primary.main\r\n\r\n  const handleTitleChange = ({ target: { value } }) => setTitle(value)\r\n  const handleCategoryChange = ({ target: { value } }) => setCategory(value)\r\n  const handlePosterUrlChange = ({ target: { value } }) => {\r\n    setPosterUrl(value)\r\n    checkImageURL(value).then(setIsPosterUrlCorrect)\r\n    setIsUserInteractedWithPoster(!!value)\r\n    setPosterList()\r\n  }\r\n  const userChangesPosterUrl = url => {\r\n    setPosterUrl(url)\r\n    checkImageURL(url).then(setIsPosterUrlCorrect)\r\n    setIsUserInteractedWithPoster(true)\r\n  }\r\n  // main categories\r\n  const catIndex = TORRENT_CATEGORIES.findIndex(e => e.key === category)\r\n  // const catArray = TORRENT_CATEGORIES.find(e => e.key === category)\r\n\r\n  return (\r\n    <RightSide>\r\n      <RightSideContainer isHidden={!isTorrentSourceCorrect || (isHashAlreadyExists && !isEditMode)}>\r\n        {originalTorrentTitle ? (\r\n          <>\r\n            <TextField\r\n              value={originalTorrentTitle}\r\n              margin='dense'\r\n              label={t('AddDialog.OriginalTorrentTitle')}\r\n              style={{ marginTop: '1em' }}\r\n              type='text'\r\n              variant='outlined'\r\n              fullWidth\r\n              disabled={isCustomTitleEnabled}\r\n              InputProps={{ readOnly: true }}\r\n            />\r\n            <TextField\r\n              onChange={handleTitleChange}\r\n              onFocus={() => setIsCustomTitleEnabled(true)}\r\n              onBlur={({ target: { value } }) => !value && setIsCustomTitleEnabled(false)}\r\n              value={title}\r\n              margin='dense'\r\n              label={t('AddDialog.CustomTorrentTitle')}\r\n              type='text'\r\n              variant='outlined'\r\n              fullWidth\r\n              helperText={t('AddDialog.CustomTorrentTitleHelperText')}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position='end'>\r\n                    <IconButton\r\n                      size='small'\r\n                      style={{ padding: '1px', marginRight: '-6px' }}\r\n                      onClick={() => {\r\n                        setTitle('')\r\n                        setIsCustomTitleEnabled(!isCustomTitleEnabled)\r\n                        updateTitleFromSource()\r\n                        setIsUserInteractedWithPoster(false)\r\n                      }}\r\n                    >\r\n                      <HighlightOffIcon style={{ color: isCustomTitleEnabled ? primary : rgba('#ccc', 0.25) }} />\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </>\r\n        ) : (\r\n          <TextField\r\n            onChange={handleTitleChange}\r\n            value={title}\r\n            margin='dense'\r\n            label={t('AddDialog.TitleBlank')}\r\n            style={{ marginTop: '1em' }}\r\n            type='text'\r\n            variant='outlined'\r\n            fullWidth\r\n            helperText={t('AddDialog.TitleBlankHelperText')}\r\n          />\r\n        )}\r\n        <TextField\r\n          onChange={handlePosterUrlChange}\r\n          value={posterUrl}\r\n          margin='dense'\r\n          label={t('AddDialog.AddPosterLinkInput')}\r\n          type='url'\r\n          variant='outlined'\r\n          fullWidth\r\n        />\r\n        <FormControl fullWidth>\r\n          <FormHelperText style={{ padding: '0.2em 1.2em 0.5em 1.2em' }}>\r\n            {t('AddDialog.CategoryHelperText')}\r\n          </FormHelperText>\r\n          <Select\r\n            labelId='torrent-category-select-label'\r\n            id='torrent-category-select'\r\n            value={category}\r\n            margin='dense'\r\n            onChange={handleCategoryChange}\r\n            variant='outlined'\r\n            fullWidth\r\n            defaultValue=''\r\n            IconComponent={\r\n              category.length > 1\r\n                ? () => (\r\n                    <IconButton\r\n                      size='small'\r\n                      style={{ padding: '1px', marginLeft: '6px', marginRight: '8px' }}\r\n                      onClick={() => {\r\n                        setCategory('')\r\n                      }}\r\n                    >\r\n                      <HighlightOffIcon style={{ color: primary }} />\r\n                    </IconButton>\r\n                  )\r\n                : undefined\r\n            }\r\n          >\r\n            {category.length > 1 && catIndex < 0 ? (\r\n              <MenuItem key={category} value={category}>\r\n                {category}\r\n              </MenuItem>\r\n            ) : (\r\n              ''\r\n            )}\r\n\r\n            {TORRENT_CATEGORIES.map(category => (\r\n              <MenuItem key={category.key} value={category.key}>\r\n                {t(category.name)}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n\r\n        <PosterWrapper>\r\n          <Poster poster={+isPosterUrlCorrect}>\r\n            {isPosterUrlCorrect ? <img src={posterUrl} alt='poster' /> : <NoImageIcon />}\r\n          </Poster>\r\n\r\n          <PosterSuggestions>\r\n            {posterList\r\n              ?.filter(url => url !== posterUrl)\r\n              .slice(0, 12)\r\n              .map(url => (\r\n                <PosterSuggestionsItem onClick={() => userChangesPosterUrl(url)} key={url}>\r\n                  <img src={url} alt='poster' />\r\n                </PosterSuggestionsItem>\r\n              ))}\r\n          </PosterSuggestions>\r\n\r\n          {currentLang !== 'en' && (\r\n            <PosterLanguageSwitch\r\n              onClick={() => {\r\n                const newLanguage = posterSearchLanguage === 'en' ? 'ru' : 'en'\r\n                setPosterSearchLanguage(newLanguage)\r\n                posterSearch(isCustomTitleEnabled ? title : originalTorrentTitle ? parsedTitle : title, newLanguage, {\r\n                  shouldRefreshMainPoster: true,\r\n                })\r\n              }}\r\n              showbutton={+isPosterUrlCorrect}\r\n              color='primary'\r\n              variant='contained'\r\n              size='small'\r\n            >\r\n              {posterSearchLanguage === 'en' ? 'EN' : 'RU'}\r\n            </PosterLanguageSwitch>\r\n          )}\r\n\r\n          <ClearPosterButton\r\n            showbutton={+isPosterUrlCorrect}\r\n            onClick={() => {\r\n              removePoster()\r\n              setIsUserInteractedWithPoster(true)\r\n            }}\r\n            color='primary'\r\n            variant='contained'\r\n            size='small'\r\n          >\r\n            {t('Clear')}\r\n          </ClearPosterButton>\r\n\r\n          <UpdatePosterButton\r\n            onClick={() => {\r\n              let fixedTitle = isCustomTitleEnabled ? title : originalTorrentTitle ? parsedTitle : title\r\n              const titleFixedMatch = fixedTitle.replaceAll(/\\./g, ' ').match(/^([\\w -]+)/)\r\n              if (titleFixedMatch?.length && titleFixedMatch[0].length > 0) {\r\n                ;[fixedTitle] = titleFixedMatch\r\n              }\r\n\r\n              posterSearch(fixedTitle, posterSearchLanguage)\r\n            }}\r\n            color='primary'\r\n            variant='contained'\r\n            size='small'\r\n          >\r\n            {t('Update')}\r\n          </UpdatePosterButton>\r\n        </PosterWrapper>\r\n      </RightSideContainer>\r\n\r\n      <RightSideContainer\r\n        isError={torrentSource && (!isTorrentSourceCorrect || isHashAlreadyExists)}\r\n        notificationMessage={\r\n          !torrentSource\r\n            ? t('AddDialog.AddTorrentSourceNotification')\r\n            : !isTorrentSourceCorrect\r\n            ? t('AddDialog.WrongTorrentSource')\r\n            : isHashAlreadyExists && t('AddDialog.HashExists')\r\n        }\r\n        isHidden={isEditMode || (isTorrentSourceCorrect && !isHashAlreadyExists)}\r\n      />\r\n    </RightSide>\r\n  )\r\n}\r\n","import { useTranslation } from 'react-i18next'\r\nimport { useDropzone } from 'react-dropzone'\r\nimport { AddItemIcon, TorrentIcon } from 'icons'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport { Cancel as CancelIcon } from '@material-ui/icons'\r\nimport { useState } from 'react'\r\n\r\nimport {\r\n  CancelIconWrapper,\r\n  IconWrapper,\r\n  LeftSide,\r\n  LeftSideBottomSectionFileSelected,\r\n  LeftSideBottomSectionNoFile,\r\n  LeftSideTopSection,\r\n  TorrentIconWrapper,\r\n} from './style'\r\n\r\nexport default function LeftSideComponent({\r\n  setIsUserInteractedWithPoster,\r\n  setSelectedFile,\r\n  torrentSource,\r\n  setTorrentSource,\r\n  selectedFile,\r\n}) {\r\n  const { t } = useTranslation()\r\n\r\n  const handleCapture = files => {\r\n    const [file] = files\r\n    if (!file) return\r\n\r\n    setIsUserInteractedWithPoster(false)\r\n    setSelectedFile(file)\r\n    setTorrentSource(file.name)\r\n  }\r\n\r\n  const clearSelectedFile = () => {\r\n    setSelectedFile()\r\n    setTorrentSource('')\r\n  }\r\n\r\n  const [isTorrentSourceActive, setIsTorrentSourceActive] = useState(false)\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n    onDrop: handleCapture,\r\n    accept: '.torrent',\r\n    multiple: false,\r\n  })\r\n\r\n  const handleTorrentSourceChange = ({ target: { value } }) => setTorrentSource(value)\r\n\r\n  return (\r\n    <LeftSide>\r\n      <LeftSideTopSection active={isTorrentSourceActive}>\r\n        <TextField\r\n          onChange={handleTorrentSourceChange}\r\n          value={torrentSource}\r\n          margin='dense'\r\n          label={t('AddDialog.TorrentSourceLink')}\r\n          helperText={t('AddDialog.TorrentSourceOptions')}\r\n          style={{ marginTop: '1em' }}\r\n          type='text'\r\n          fullWidth\r\n          variant='outlined'\r\n          onFocus={() => setIsTorrentSourceActive(true)}\r\n          onBlur={() => setIsTorrentSourceActive(false)}\r\n          inputProps={{ autoComplete: 'off' }}\r\n          disabled={!!selectedFile}\r\n        />\r\n      </LeftSideTopSection>\r\n\r\n      {selectedFile ? (\r\n        <LeftSideBottomSectionFileSelected>\r\n          <TorrentIconWrapper>\r\n            <TorrentIcon />\r\n\r\n            <CancelIconWrapper onClick={clearSelectedFile}>\r\n              <CancelIcon />\r\n            </CancelIconWrapper>\r\n          </TorrentIconWrapper>\r\n        </LeftSideBottomSectionFileSelected>\r\n      ) : (\r\n        <LeftSideBottomSectionNoFile isDragActive={isDragActive} {...getRootProps()}>\r\n          <input {...getInputProps()} />\r\n          <div>{t('AddDialog.AppendFile.Or')}</div>\r\n\r\n          <IconWrapper>\r\n            <AddItemIcon color='primary' />\r\n            <div>{t('AddDialog.AppendFile.ClickOrDrag')}</div>\r\n          </IconWrapper>\r\n        </LeftSideBottomSectionNoFile>\r\n      )}\r\n    </LeftSide>\r\n  )\r\n}\r\n","import { useCallback, useEffect, useMemo, useState } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport { torrentsHost, torrentUploadHost } from 'utils/Hosts'\r\nimport axios from 'axios'\r\nimport { useTranslation } from 'react-i18next'\r\nimport debounce from 'lodash/debounce'\r\nimport useChangeLanguage from 'utils/useChangeLanguage'\r\nimport { useMediaQuery } from '@material-ui/core'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport usePreviousState from 'utils/usePreviousState'\r\nimport { useQuery } from 'react-query'\r\nimport { getTorrents } from 'utils/Utils'\r\nimport parseTorrent from 'parse-torrent'\r\nimport { ButtonWrapper } from 'style/DialogStyles'\r\nimport { StyledDialog, StyledHeader } from 'style/CustomMaterialUiStyles'\r\nimport useOnStandaloneAppOutsideClick from 'utils/useOnStandaloneAppOutsideClick'\r\n\r\nimport { checkImageURL, getMoviePosters, checkTorrentSource, parseTorrentTitle } from './helpers'\r\nimport { Content } from './style'\r\nimport RightSideComponent from './RightSideComponent'\r\nimport LeftSideComponent from './LeftSideComponent'\r\n\r\nexport default function AddDialog({\r\n  handleClose,\r\n  hash: originalHash,\r\n  title: originalTitle,\r\n  name: originalName,\r\n  poster: originalPoster,\r\n  category: originalCategory,\r\n}) {\r\n  const { t } = useTranslation()\r\n  const isEditMode = !!originalHash\r\n  const [torrentSource, setTorrentSource] = useState(originalHash || '')\r\n  const [title, setTitle] = useState(originalTitle || '')\r\n  const [category, setCategory] = useState(originalCategory || '')\r\n  const [originalTorrentTitle, setOriginalTorrentTitle] = useState('')\r\n  const [parsedTitle, setParsedTitle] = useState('')\r\n  const [posterUrl, setPosterUrl] = useState(originalPoster || '')\r\n  const [isPosterUrlCorrect, setIsPosterUrlCorrect] = useState(false)\r\n  const [isTorrentSourceCorrect, setIsTorrentSourceCorrect] = useState(false)\r\n  const [isHashAlreadyExists, setIsHashAlreadyExists] = useState(false)\r\n  const [posterList, setPosterList] = useState()\r\n  const [isUserInteractedWithPoster, setIsUserInteractedWithPoster] = useState(isEditMode)\r\n  const [currentLang] = useChangeLanguage()\r\n  const [selectedFile, setSelectedFile] = useState()\r\n  const [posterSearchLanguage, setPosterSearchLanguage] = useState(currentLang === 'ru' ? 'ru' : 'en')\r\n  const [isSaving, setIsSaving] = useState(false)\r\n  const [skipDebounce, setSkipDebounce] = useState(false)\r\n  const [isCustomTitleEnabled, setIsCustomTitleEnabled] = useState(false)\r\n  const [currentSourceHash, setCurrentSourceHash] = useState()\r\n\r\n  const ref = useOnStandaloneAppOutsideClick(handleClose)\r\n\r\n  const { data: torrents } = useQuery('torrents', getTorrents, { retry: 1, refetchInterval: 1000 })\r\n\r\n  useEffect(() => {\r\n    // getting hash from added torrent source\r\n    parseTorrent.remote(selectedFile || torrentSource, (_, { infoHash } = {}) => setCurrentSourceHash(infoHash))\r\n  }, [selectedFile, torrentSource])\r\n\r\n  useEffect(() => {\r\n    // checking if torrent already exists in DB\r\n    if (!setCurrentSourceHash) return\r\n\r\n    const allHashes = torrents.map(({ hash }) => hash)\r\n    setIsHashAlreadyExists(allHashes.includes(currentSourceHash))\r\n  }, [currentSourceHash, torrents])\r\n\r\n  useEffect(() => {\r\n    // closing dialog when torrent successfully added in DB\r\n    if (!isSaving) return\r\n\r\n    const allHashes = torrents.map(({ hash }) => hash)\r\n    allHashes.includes(currentSourceHash) && handleClose()\r\n    // FIXME! check api reply on add links\r\n    const linkRegex = /^(http(s?)):\\/\\/.*/i\r\n    torrentSource.match(linkRegex) !== null && handleClose()\r\n  }, [isSaving, torrents, torrentSource, currentSourceHash, handleClose])\r\n\r\n  const fullScreen = useMediaQuery('@media (max-width:930px)')\r\n\r\n  const updateTitleFromSource = useCallback(() => {\r\n    parseTorrentTitle(selectedFile || torrentSource, ({ parsedTitle, originalName }) => {\r\n      if (!originalName) return\r\n\r\n      setSkipDebounce(true)\r\n      setTitle('')\r\n      setIsCustomTitleEnabled(false)\r\n      setOriginalTorrentTitle(originalName)\r\n      setParsedTitle(parsedTitle)\r\n    })\r\n  }, [selectedFile, torrentSource])\r\n\r\n  useEffect(() => {\r\n    if (!selectedFile && !torrentSource) {\r\n      setTitle('')\r\n      setOriginalTorrentTitle('')\r\n      setParsedTitle('')\r\n      setIsCustomTitleEnabled(false)\r\n      setPosterList()\r\n      removePoster()\r\n      setIsUserInteractedWithPoster(false)\r\n    }\r\n  }, [selectedFile, torrentSource])\r\n\r\n  const removePoster = () => {\r\n    setIsPosterUrlCorrect(false)\r\n    setPosterUrl('')\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (originalHash) {\r\n      checkImageURL(posterUrl).then(correctImage => {\r\n        correctImage ? setIsPosterUrlCorrect(true) : removePoster()\r\n      })\r\n    }\r\n    // This is needed only on mount. Do not remove line below\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  const posterSearch = useMemo(\r\n    () =>\r\n      (movieName, language, { shouldRefreshMainPoster = false } = {}) => {\r\n        if (!movieName) {\r\n          setPosterList()\r\n          removePoster()\r\n          return\r\n        }\r\n\r\n        getMoviePosters(movieName, language).then(urlList => {\r\n          if (urlList) {\r\n            setPosterList(urlList)\r\n            if (!shouldRefreshMainPoster && isUserInteractedWithPoster) return\r\n\r\n            const [firstPoster] = urlList\r\n            checkImageURL(firstPoster).then(correctImage => {\r\n              if (correctImage) {\r\n                setIsPosterUrlCorrect(true)\r\n                setPosterUrl(firstPoster)\r\n              } else removePoster()\r\n            })\r\n          } else {\r\n            setPosterList()\r\n            if (isUserInteractedWithPoster) return\r\n\r\n            removePoster()\r\n          }\r\n        })\r\n      },\r\n    [isUserInteractedWithPoster],\r\n  )\r\n\r\n  const delayedPosterSearch = useMemo(() => debounce(posterSearch, 700), [posterSearch])\r\n\r\n  const prevTorrentSourceState = usePreviousState(torrentSource)\r\n\r\n  useEffect(() => {\r\n    const isCorrectSource = checkTorrentSource(torrentSource)\r\n    if (!isCorrectSource) return setIsTorrentSourceCorrect(false)\r\n\r\n    setIsTorrentSourceCorrect(true)\r\n\r\n    // if torrentSource is updated then we are getting title from the source\r\n    const torrentSourceChanged = torrentSource !== prevTorrentSourceState\r\n    if (!torrentSourceChanged) return\r\n\r\n    updateTitleFromSource()\r\n  }, [prevTorrentSourceState, selectedFile, torrentSource, updateTitleFromSource])\r\n\r\n  const prevTitleState = usePreviousState(title)\r\n\r\n  useEffect(() => {\r\n    // if title exists and title was changed then search poster.\r\n    const titleChanged = title !== prevTitleState\r\n    if (!titleChanged && !parsedTitle) return\r\n\r\n    if (skipDebounce) {\r\n      posterSearch(title || parsedTitle, posterSearchLanguage)\r\n      setSkipDebounce(false)\r\n    } else if (!title) {\r\n      delayedPosterSearch.cancel()\r\n\r\n      if (parsedTitle) {\r\n        posterSearch(parsedTitle, posterSearchLanguage)\r\n      } else {\r\n        !isUserInteractedWithPoster && removePoster()\r\n      }\r\n    } else {\r\n      delayedPosterSearch(title, posterSearchLanguage)\r\n    }\r\n  }, [\r\n    title,\r\n    parsedTitle,\r\n    prevTitleState,\r\n    delayedPosterSearch,\r\n    posterSearch,\r\n    posterSearchLanguage,\r\n    skipDebounce,\r\n    isUserInteractedWithPoster,\r\n  ])\r\n\r\n  const handleSave = () => {\r\n    setIsSaving(true)\r\n\r\n    if (isEditMode) {\r\n      axios\r\n        .post(torrentsHost(), {\r\n          action: 'set',\r\n          hash: originalHash,\r\n          title: title || originalName,\r\n          poster: posterUrl,\r\n          category,\r\n        })\r\n        .finally(handleClose)\r\n    } else if (selectedFile) {\r\n      // file save\r\n      const data = new FormData()\r\n      data.append('save', 'true')\r\n      data.append('file', selectedFile)\r\n      title && data.append('title', title)\r\n      category && data.append('category', category)\r\n      posterUrl && data.append('poster', posterUrl)\r\n      axios.post(torrentUploadHost(), data).catch(handleClose)\r\n    } else {\r\n      // link save\r\n      axios\r\n        .post(torrentsHost(), {\r\n          action: 'add',\r\n          link: torrentSource,\r\n          title,\r\n          category,\r\n          poster: posterUrl,\r\n          save_to_db: true,\r\n        })\r\n        .catch(handleClose)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <StyledDialog open onClose={handleClose} fullScreen={fullScreen} fullWidth maxWidth='md' ref={ref}>\r\n      <StyledHeader>{t(isEditMode ? 'EditTorrent' : 'AddNewTorrent')}</StyledHeader>\r\n\r\n      <Content isEditMode={isEditMode}>\r\n        {!isEditMode && (\r\n          <LeftSideComponent\r\n            setIsUserInteractedWithPoster={setIsUserInteractedWithPoster}\r\n            selectedFile={selectedFile}\r\n            setSelectedFile={setSelectedFile}\r\n            torrentSource={torrentSource}\r\n            setTorrentSource={setTorrentSource}\r\n          />\r\n        )}\r\n        <RightSideComponent\r\n          originalTorrentTitle={originalTorrentTitle}\r\n          setTitle={setTitle}\r\n          setCategory={setCategory}\r\n          setPosterUrl={setPosterUrl}\r\n          setIsPosterUrlCorrect={setIsPosterUrlCorrect}\r\n          setIsUserInteractedWithPoster={setIsUserInteractedWithPoster}\r\n          setPosterList={setPosterList}\r\n          isTorrentSourceCorrect={isTorrentSourceCorrect}\r\n          isHashAlreadyExists={isHashAlreadyExists}\r\n          title={title}\r\n          category={category}\r\n          parsedTitle={parsedTitle}\r\n          posterUrl={posterUrl}\r\n          isPosterUrlCorrect={isPosterUrlCorrect}\r\n          posterList={posterList}\r\n          currentLang={currentLang}\r\n          posterSearchLanguage={posterSearchLanguage}\r\n          setPosterSearchLanguage={setPosterSearchLanguage}\r\n          posterSearch={posterSearch}\r\n          removePoster={removePoster}\r\n          updateTitleFromSource={updateTitleFromSource}\r\n          torrentSource={torrentSource}\r\n          isCustomTitleEnabled={isCustomTitleEnabled}\r\n          setIsCustomTitleEnabled={setIsCustomTitleEnabled}\r\n          isEditMode={isEditMode}\r\n        />\r\n      </Content>\r\n\r\n      <ButtonWrapper>\r\n        <Button onClick={handleClose} color='secondary' variant='outlined'>\r\n          {t('Cancel')}\r\n        </Button>\r\n\r\n        <Button\r\n          variant='contained'\r\n          style={{ minWidth: '110px' }}\r\n          disabled={!torrentSource || (isHashAlreadyExists && !isEditMode) || !isTorrentSourceCorrect}\r\n          onClick={handleSave}\r\n          color='secondary'\r\n        >\r\n          {isSaving ? <CircularProgress style={{ color: 'white' }} size={20} /> : t(isEditMode ? 'Save' : 'Add')}\r\n        </Button>\r\n      </ButtonWrapper>\r\n    </StyledDialog>\r\n  )\r\n}\r\n","import { forwardRef, memo, useState, useEffect } from 'react'\r\nimport {\r\n  UnfoldMore as UnfoldMoreIcon,\r\n  PlayArrow as PlayArrowIcon,\r\n  Close as CloseIcon,\r\n  Delete as DeleteIcon,\r\n} from '@material-ui/icons'\r\nimport { getPeerString, humanizeSize, humanizeSpeed, removeRedundantCharacters } from 'utils/Utils'\r\nimport { playlistTorrHost, streamHost, torrentsHost } from 'utils/Hosts'\r\nimport { NoImageIcon } from 'icons'\r\nimport DialogTorrentDetailsContent from 'components/DialogTorrentDetailsContent'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport { Button, DialogActions, DialogTitle, useMediaQuery, useTheme } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport ptt from 'parse-torrent-title'\r\nimport { useTranslation } from 'react-i18next'\r\nimport AddDialog from 'components/Add/AddDialog'\r\nimport { StyledDialog } from 'style/CustomMaterialUiStyles'\r\nimport useOnStandaloneAppOutsideClick from 'utils/useOnStandaloneAppOutsideClick'\r\nimport { GETTING_INFO, IN_DB, CLOSED, PRELOAD, WORKING } from 'torrentStates'\r\nimport { TORRENT_CATEGORIES } from 'components/categories'\r\nimport VideoPlayer from 'components/VideoPlayer'\r\nimport { isFilePlayable } from 'components/DialogTorrentDetailsContent/helpers'\r\n\r\nimport {\r\n  StatusIndicators,\r\n  StyledButton,\r\n  TorrentCard,\r\n  TorrentCardButtons,\r\n  TorrentCardDescription,\r\n  TorrentCardPoster,\r\n} from './style'\r\n\r\nconst Transition = forwardRef((props, ref) => <Slide direction='up' ref={ref} {...props} />)\r\n\r\nconst Torrent = ({ torrent }) => {\r\n  const { t } = useTranslation()\r\n  const [isDetailedInfoOpened, setIsDetailedInfoOpened] = useState(false)\r\n  const [isDeleteTorrentOpened, setIsDeleteTorrentOpened] = useState(false)\r\n  const [isSupported, setIsSupported] = useState(true)\r\n\r\n  const theme = useTheme()\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('md'))\r\n\r\n  const openDetailedInfo = () => setIsDetailedInfoOpened(true)\r\n  const closeDetailedInfo = () => setIsDetailedInfoOpened(false)\r\n  const openDeleteTorrentAlert = () => setIsDeleteTorrentOpened(true)\r\n  const closeDeleteTorrentAlert = () => setIsDeleteTorrentOpened(false)\r\n\r\n  const {\r\n    title,\r\n    name,\r\n    category,\r\n    poster,\r\n    torrent_size: torrentSize,\r\n    download_speed: downloadSpeed,\r\n    hash,\r\n    stat,\r\n    data,\r\n    time_until_delete: timeUntilDelete,\r\n    file_extensions: fileExtensions,\r\n  } = torrent\r\n\r\n  const dropTorrent = () => axios.post(torrentsHost(), { action: 'drop', hash })\r\n  const deleteTorrent = () => axios.post(torrentsHost(), { action: 'rem', hash })\r\n\r\n  const getParsedTitle = () => {\r\n    const parse = key => ptt.parse(title || '')?.[key] || ptt.parse(name || '')?.[key]\r\n\r\n    const titleStrings = []\r\n\r\n    let parsedTitle = removeRedundantCharacters(parse('title'))\r\n    const parsedYear = parse('year')\r\n    const parsedResolution = parse('resolution')\r\n    if (parsedTitle) titleStrings.push(parsedTitle)\r\n    if (parsedYear) titleStrings.push(`(${parsedYear})`)\r\n    if (parsedResolution) titleStrings.push(`[${parsedResolution}]`)\r\n    parsedTitle = titleStrings.join(' ')\r\n    return { parsedTitle }\r\n  }\r\n  const { parsedTitle } = getParsedTitle()\r\n\r\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false)\r\n  const handleClickOpenEditDialog = () => setIsEditDialogOpen(true)\r\n  const handleCloseEditDialog = () => setIsEditDialogOpen(false)\r\n\r\n  const fullPlaylistLink = `${playlistTorrHost()}/${encodeURIComponent(parsedTitle || 'file')}.m3u?link=${hash}&m3u`\r\n\r\n  const detailedInfoDialogRef = useOnStandaloneAppOutsideClick(closeDetailedInfo)\r\n  // main categories\r\n  const catIndex = TORRENT_CATEGORIES.findIndex(e => e.key === category)\r\n  const catArray = TORRENT_CATEGORIES.find(e => e.key === category)\r\n  const getFileLink = (path, id) =>\r\n    `${streamHost()}/${encodeURIComponent(path.split('\\\\').pop().split('/').pop())}?link=${hash}&index=${id}&play`\r\n\r\n  const fileList = (data && JSON.parse(data).TorrServer?.Files) || []\r\n  const playableVideoList = fileList.filter(({ path }) => isFilePlayable(path))\r\n  const getVideoCaption = path => {\r\n    // Get base name without extension\r\n    const baseName = path.replace(/\\.[^/.]+$/, '')\r\n    // Find a file with the same base name and a subtitle extension\r\n    const captionFile = fileList.find(file => file.path.startsWith(baseName) && /\\.(srt|vtt)$/i.test(file.path))\r\n    return captionFile ? getFileLink(captionFile.path, captionFile.id) : ''\r\n  }\r\n\r\n  // Countdown timer for auto-delete\r\n  const [timeLeft, setTimeLeft] = useState(timeUntilDelete || 0)\r\n\r\n  useEffect(() => {\r\n    if (!timeUntilDelete || timeUntilDelete <= 0) {\r\n      setTimeLeft(0)\r\n      return\r\n    }\r\n\r\n    setTimeLeft(timeUntilDelete)\r\n    const interval = setInterval(() => {\r\n      setTimeLeft(prev => {\r\n        if (prev <= 1) {\r\n          clearInterval(interval)\r\n          return 0\r\n        }\r\n        return prev - 1\r\n      })\r\n    }, 1000)\r\n\r\n    return () => clearInterval(interval)\r\n  }, [timeUntilDelete])\r\n\r\n  const formatCountdown = seconds => {\r\n    if (!seconds || seconds <= 0) return '---'\r\n    const hours = Math.floor(seconds / 3600)\r\n    const minutes = Math.floor((seconds % 3600) / 60)\r\n    return `${hours}:${minutes.toString().padStart(2, '0')}`\r\n  }\r\n  return (\r\n    <>\r\n      <TorrentCard>\r\n        <TorrentCardPoster isPoster={poster} onClick={handleClickOpenEditDialog}>\r\n          {poster ? <img src={poster} alt='poster' /> : <NoImageIcon />}\r\n        </TorrentCardPoster>\r\n\r\n        <TorrentCardButtons>\r\n          <StyledButton onClick={openDetailedInfo}>\r\n            <UnfoldMoreIcon />\r\n            <span>{t('Details')}</span>\r\n          </StyledButton>\r\n\r\n          {playableVideoList?.length === 1 && isSupported ? (\r\n            <VideoPlayer\r\n              title={title}\r\n              videoSrc={getFileLink(playableVideoList[0].path, playableVideoList[0].id)}\r\n              captionSrc={getVideoCaption(playableVideoList[0].path)}\r\n              onNotSupported={() => setIsSupported(false)}\r\n            />\r\n          ) : (\r\n            <StyledButton\r\n              onClick={() => {\r\n                window.open(fullPlaylistLink, '_blank')\r\n              }}\r\n            >\r\n              <PlayArrowIcon />\r\n              <span>{t('Playlist')}</span>\r\n            </StyledButton>\r\n          )}\r\n\r\n          <StyledButton onClick={() => dropTorrent(torrent)}>\r\n            <CloseIcon />\r\n            <span>{t('Drop')}</span>\r\n          </StyledButton>\r\n\r\n          <StyledButton onClick={openDeleteTorrentAlert}>\r\n            <DeleteIcon />\r\n            <span>{t('Delete')}</span>\r\n          </StyledButton>\r\n        </TorrentCardButtons>\r\n\r\n        <TorrentCardDescription>\r\n          <div className='description-title-wrapper'>\r\n            <div className='description-section-name'>\r\n              {category ? (catIndex >= 0 ? t(catArray.name) : category) : t('Name')}\r\n            </div>\r\n            <div className='description-torrent-title'>{parsedTitle}</div>\r\n          </div>\r\n\r\n          <div className='description-statistics-wrapper'>\r\n            <div className='description-statistics-element-wrapper'>\r\n              <div className='description-section-name'>\r\n                <StatusIndicator stat={stat} />\r\n                {t('Size')}\r\n              </div>\r\n              <div className='description-statistics-element-value'>{torrentSize > 0 && humanizeSize(torrentSize)}</div>\r\n            </div>\r\n\r\n            <div className='description-statistics-element-wrapper'>\r\n              <div className='description-section-name'>{t('Speed')}</div>\r\n              <div className='description-statistics-element-value'>\r\n                {downloadSpeed > 0 ? humanizeSpeed(downloadSpeed) : '---'}\r\n              </div>\r\n            </div>\r\n\r\n            <div className='description-statistics-element-wrapper'>\r\n              <div className='description-section-name'>{t('Peers')}</div>\r\n              <div className='description-statistics-element-value'>{getPeerString(torrent) || '---'}</div>\r\n            </div>\r\n\r\n            {fileExtensions && fileExtensions.length > 0 && (\r\n              <div className='description-statistics-element-wrapper'>\r\n                <div className='description-section-name'>{t('Format')}</div>\r\n                <div className='description-statistics-element-value'>{fileExtensions.join(', ')}</div>\r\n              </div>\r\n            )}\r\n\r\n            {timeUntilDelete > 0 && (\r\n              <div className='description-statistics-element-wrapper'>\r\n                <div className='description-section-name'>{t('AutoDelete')}</div>\r\n                <div className='description-statistics-element-value'>{formatCountdown(timeLeft)}</div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </TorrentCardDescription>\r\n      </TorrentCard>\r\n\r\n      <StyledDialog\r\n        open={isDetailedInfoOpened}\r\n        onClose={closeDetailedInfo}\r\n        fullScreen={fullScreen}\r\n        fullWidth\r\n        maxWidth='xl'\r\n        TransitionComponent={Transition}\r\n        ref={detailedInfoDialogRef}\r\n      >\r\n        <DialogTorrentDetailsContent closeDialog={closeDetailedInfo} torrent={torrent} />\r\n      </StyledDialog>\r\n\r\n      <Dialog open={isDeleteTorrentOpened} onClose={closeDeleteTorrentAlert}>\r\n        <DialogTitle>{t('DeleteTorrent?')}</DialogTitle>\r\n        <DialogActions>\r\n          <Button variant='outlined' onClick={closeDeleteTorrentAlert} color='secondary'>\r\n            {t('Cancel')}\r\n          </Button>\r\n\r\n          <Button\r\n            variant='contained'\r\n            onClick={() => {\r\n              deleteTorrent(torrent)\r\n              closeDeleteTorrentAlert()\r\n            }}\r\n            color='secondary'\r\n            autoFocus\r\n          >\r\n            {t('OK')}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {isEditDialogOpen && (\r\n        <AddDialog\r\n          hash={hash}\r\n          title={title}\r\n          name={name}\r\n          poster={poster}\r\n          handleClose={handleCloseEditDialog}\r\n          category={category}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport const StatusIndicator = ({ stat }) => {\r\n  const { t } = useTranslation()\r\n\r\n  const values = {\r\n    [GETTING_INFO]: t('TorrentGettingInfo'),\r\n    [PRELOAD]: t('TorrentPreload'),\r\n    [WORKING]: t('TorrentWorking'),\r\n    [CLOSED]: t('TorrentClosed'),\r\n    [IN_DB]: t('TorrentInDb'),\r\n  }\r\n\r\n  const colors = {\r\n    [GETTING_INFO]: '#2196F3',\r\n    [PRELOAD]: '#FFC107',\r\n    [WORKING]: '#CDDC39',\r\n    [CLOSED]: '#E57373',\r\n    [IN_DB]: '#9E9E9E',\r\n  }\r\n\r\n  return (\r\n    <span className='description-status-wrapper'>\r\n      <StatusIndicators color={colors[stat]} title={values[stat]} />\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default memo(Torrent)\r\n","import { IconButton } from '@material-ui/core'\r\nimport { rgba } from 'polished'\r\nimport { standaloneMedia } from 'style/standaloneMedia'\r\nimport styled, { css } from 'styled-components'\r\n\r\nimport { pwaFooterHeight } from './PWAFooter/style'\r\n\r\nexport const AppWrapper = styled.div`\r\n  ${({\r\n    theme: {\r\n      app: { appSecondaryColor },\r\n    },\r\n  }) => css`\r\n    height: 100%;\r\n    background: ${rgba(appSecondaryColor, 0.8)};\r\n    display: grid;\r\n    grid-template-columns: 60px 1fr;\r\n    grid-template-rows: 60px 1fr;\r\n    grid-template-areas:\r\n      'head head'\r\n      'side content';\r\n\r\n    ${standaloneMedia(css`\r\n      grid-template-columns: 0 1fr;\r\n      grid-template-rows: ${pwaFooterHeight}px 1fr ${pwaFooterHeight}px;\r\n      height: 100vh;\r\n    `)}\r\n  `}\r\n`\r\n\r\nexport const CenteredGrid = styled.div`\r\n  display: grid;\r\n  place-items: center;\r\n\r\n  ${standaloneMedia(css`\r\n    height: 100vh;\r\n    width: 100vw;\r\n  `)}\r\n`\r\n\r\nexport const AppHeader = styled.div`\r\n  ${({ theme: { primary } }) => css`\r\n    background: ${primary};\r\n    color: #fff;\r\n    grid-area: head;\r\n    display: grid;\r\n    grid-auto-flow: column;\r\n    align-items: center;\r\n    grid-template-columns: repeat(2, max-content) 1fr;\r\n    box-shadow: 0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%);\r\n    padding: 0 16px;\r\n    z-index: 3;\r\n\r\n    ${standaloneMedia(css`\r\n      grid-template-columns: max-content 1fr;\r\n      align-items: end;\r\n      padding: 7px 16px;\r\n      position: fixed;\r\n      width: 100%;\r\n      height: ${pwaFooterHeight}px;\r\n    `)}\r\n  `}\r\n`\r\nexport const AppSidebarStyle = styled.div`\r\n  ${({\r\n    isDrawerOpen,\r\n    theme: {\r\n      app: { appSecondaryColor, sidebarBGColor, sidebarFillColor },\r\n    },\r\n  }) => css`\r\n    grid-area: side;\r\n    width: ${isDrawerOpen ? '400%' : '100%'};\r\n    z-index: 2;\r\n    overflow-x: hidden;\r\n    transition: width 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms;\r\n    border-right: 1px solid ${rgba(appSecondaryColor, 0.12)};\r\n    background: ${sidebarBGColor};\r\n    color: ${sidebarFillColor};\r\n    white-space: nowrap;\r\n    /* hide scrollbars */\r\n    overflow-y: scroll;\r\n    scrollbar-width: none; /* Firefox */\r\n    -ms-overflow-style: none; /* Internet Explorer 10+ */\r\n    ::-webkit-scrollbar {\r\n      display: none; /* Safari and Chrome */\r\n      width: 0; /* Remove scrollbar space */\r\n      background: transparent;\r\n    }\r\n\r\n    svg {\r\n      fill: ${sidebarFillColor};\r\n    }\r\n\r\n    ${standaloneMedia(css`\r\n      display: none;\r\n    `)}\r\n  `}\r\n`\r\nexport const TorrentListWrapper = styled.div`\r\n  grid-area: content;\r\n  padding: 20px;\r\n  overflow: auto;\r\n\r\n  display: grid;\r\n  place-content: start;\r\n  grid-template-columns: repeat(auto-fit, minmax(max-content, 570px));\r\n  gap: 20px;\r\n\r\n  @media (max-width: 1260px), (max-height: 500px) {\r\n    padding: 10px;\r\n    gap: 15px;\r\n    grid-template-columns: repeat(3, 1fr);\r\n  }\r\n\r\n  @media (max-width: 1100px) {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  @media (max-width: 700px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  ${standaloneMedia(css`\r\n    height: calc(100vh - ${pwaFooterHeight}px);\r\n    padding-bottom: 105px;\r\n  `)}\r\n`\r\n\r\nexport const HeaderToggle = styled.div`\r\n  ${({\r\n    theme: {\r\n      app: { headerToggleColor },\r\n    },\r\n  }) => css`\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n    background: ${headerToggleColor};\r\n    height: 35px;\r\n    width: 35px;\r\n    transition: all 0.2s;\r\n    font-weight: 600;\r\n    display: grid;\r\n    place-items: center;\r\n    color: #fff;\r\n\r\n    :hover {\r\n      background: ${rgba(headerToggleColor, 0.7)};\r\n    }\r\n\r\n    @media (max-width: 700px) {\r\n      height: 28px;\r\n      width: 28px;\r\n      font-size: 12px;\r\n\r\n      svg {\r\n        width: 17px;\r\n      }\r\n    }\r\n  `}\r\n`\r\n\r\nexport const StyledIconButton = styled(IconButton)`\r\n  margin-right: 6px;\r\n\r\n  ${standaloneMedia(css`\r\n    display: none;\r\n  `)}\r\n`\r\n","import styled, { css } from 'styled-components'\r\n\r\nexport default styled.div`\r\n  ${({\r\n    isButton,\r\n    theme: {\r\n      addDialog: { notificationSuccessBGColor, languageSwitchBGColor },\r\n    },\r\n  }) => css`\r\n    display: grid;\r\n    place-items: center;\r\n    padding: 20px 40px;\r\n    border-radius: 5px;\r\n\r\n    ${isButton &&\r\n    css`\r\n      background: ${notificationSuccessBGColor};\r\n      transition: 0.2s;\r\n      cursor: pointer;\r\n\r\n      :hover {\r\n        background: ${languageSwitchBGColor};\r\n      }\r\n    `}\r\n\r\n    lord-icon {\r\n      width: 200px;\r\n      height: 200px;\r\n    }\r\n\r\n    .icon-label {\r\n      font-size: 20px;\r\n    }\r\n  `}\r\n`\r\n","import { useTheme } from '@material-ui/core'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport IconWrapper from './style'\r\n\r\nexport default function NoServerConnection() {\r\n  const { t } = useTranslation()\r\n  const primary = useTheme().palette.primary.main\r\n\r\n  return (\r\n    <IconWrapper>\r\n      <lord-icon\r\n        src='https://cdn.lordicon.com/wrprwmwt.json'\r\n        trigger='loop'\r\n        colors={`primary:#121331,secondary:${primary}`}\r\n        stroke='26'\r\n        scale='60'\r\n      />\r\n      <div className='icon-label'>{t('Offline')}</div>\r\n    </IconWrapper>\r\n  )\r\n}\r\n","import { useTheme } from '@material-ui/core'\r\nimport { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport AddDialog from '../Add/AddDialog'\r\nimport IconWrapper from './style'\r\n\r\nexport default function AddFirstTorrent() {\r\n  const { t } = useTranslation()\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n  const handleClickOpen = () => setIsDialogOpen(true)\r\n  const handleClose = () => setIsDialogOpen(false)\r\n  const primary = useTheme().palette.primary.main\r\n\r\n  return (\r\n    <>\r\n      <IconWrapper onClick={() => handleClickOpen(true)} isButton>\r\n        <lord-icon\r\n          src='https://cdn.lordicon.com/jkzgajyr.json'\r\n          trigger='loop'\r\n          delay='2000'\r\n          colors={`primary:#575757,secondary:${primary}`}\r\n          stroke='light'\r\n          scale='60'\r\n        />\r\n        <div className='icon-label'>{t('NoTorrentsAdded')}</div>\r\n      </IconWrapper>\r\n\r\n      {isDialogOpen && <AddDialog handleClose={handleClose} />}\r\n    </>\r\n  )\r\n}\r\n","import TorrentCard from 'components/TorrentCard'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { TorrentListWrapper, CenteredGrid } from 'components/App/style'\r\n// import { useTranslation } from 'react-i18next'\r\n\r\nimport NoServerConnection from './NoServerConnection'\r\nimport AddFirstTorrent from './AddFirstTorrent'\r\n\r\nexport default function TorrentList({ isOffline, isLoading, sortABC, torrents, sortCategory }) {\r\n  // const { t } = useTranslation()\r\n  if (isLoading || isOffline || !torrents.length) {\r\n    return (\r\n      <CenteredGrid>\r\n        {isOffline ? (\r\n          <NoServerConnection />\r\n        ) : isLoading ? (\r\n          <CircularProgress color='secondary' />\r\n        ) : (\r\n          !torrents.length && <AddFirstTorrent />\r\n        )}\r\n      </CenteredGrid>\r\n    )\r\n  }\r\n\r\n  const filteredTorrents = torrents.filter(torrent => sortCategory === 'all' || torrent.category === sortCategory)\r\n\r\n  return sortABC ? (\r\n    <TorrentListWrapper>\r\n      {filteredTorrents\r\n        .sort((a, b) => a.title > b.title)\r\n        .map(torrent => (\r\n          <TorrentCard key={torrent.hash} torrent={torrent} />\r\n        ))}\r\n    </TorrentListWrapper>\r\n  ) : (\r\n    <TorrentListWrapper>\r\n      {filteredTorrents.map(torrent => (\r\n        <TorrentCard key={torrent.hash} torrent={torrent} />\r\n      ))}\r\n    </TorrentListWrapper>\r\n  )\r\n}\r\n","// import ListItem from '@material-ui/core/ListItem'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\n// import List from '@material-ui/core/List'\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\r\nimport Button from '@material-ui/core/Button'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { StyledDialog } from 'style/CustomMaterialUiStyles'\r\nimport useOnStandaloneAppOutsideClick from 'utils/useOnStandaloneAppOutsideClick'\r\n\r\n// const donateFrame = '<iframe src=\"https://yoomoney.ru/quickpay/shop-widget?writer=seller&targets=TorrServer Donate&targets-hint=&default-sum=200&button-text=14&payment-type-choice=on&mobile-payment-type-choice=on&comment=on&hint=&successURL=&quickpay=shop&account=410013733697114\" width=\"320\" height=\"320\" frameborder=\"0\" allowtransparency=\"true\" scrolling=\"no\"></iframe>'\r\n\r\nexport default function DonateDialog({ onClose }) {\r\n  const { t } = useTranslation()\r\n  const ref = useOnStandaloneAppOutsideClick(onClose)\r\n\r\n  return (\r\n    <StyledDialog open onClose={onClose} aria-labelledby='form-dialog-title' fullWidth maxWidth='xs' ref={ref}>\r\n      <DialogTitle id='form-dialog-title'>{t('Donate')}</DialogTitle>\r\n      <DialogContent>\r\n        {/* <List> */}\r\n        {/* <ListItem key='DonateLinks'> */}\r\n        <ButtonGroup variant='outlined' color='secondary' aria-label='contained primary button group'>\r\n          <Button onClick={() => window.open('https://boosty.to/yourok', '_blank')}>Boosty</Button>\r\n          <Button onClick={() => window.open('https://yoomoney.ru/to/410013733697114', '_blank')}>IO.Money</Button>\r\n          <Button onClick={() => window.open('https://www.tbank.ru/cf/742qEMhKhKn', '_blank')}>TBank</Button>\r\n          {/* <Button onClick={() => window.open('https://qiwi.com/n/YOUROK85', '_blank')}>QIWI</Button> */}\r\n          {/* <Button onClick={() => window.open('https://www.paypal.com/paypalme/yourok', '_blank')}>PayPal</Button> */}\r\n        </ButtonGroup>\r\n        {/* </ListItem> */}\r\n        {/* <ListItem key='DonateForm'> */}\r\n        {/* eslint-disable-next-line react/no-danger */}\r\n        {/* <div dangerouslySetInnerHTML={{ __html: donateFrame }} /> */}\r\n        {/* </ListItem> */}\r\n        {/* </List> */}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onClose} color='secondary' variant='contained'>\r\n          Ok\r\n        </Button>\r\n      </DialogActions>\r\n    </StyledDialog>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CreditCardIcon from '@material-ui/icons/CreditCard'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { useTranslation } from 'react-i18next'\r\nimport styled from 'styled-components'\r\nimport { standaloneMedia } from 'style/standaloneMedia'\r\n\r\nimport DonateDialog from './DonateDialog'\r\n\r\nconst StyledSnackbar = styled(Snackbar)`\r\n  ${standaloneMedia('margin-bottom: 90px')};\r\n`\r\n\r\nexport default function DonateSnackbar() {\r\n  const { t } = useTranslation()\r\n  const [open, setOpen] = useState(false)\r\n  const [snackbarOpen, setSnackbarOpen] = useState(true)\r\n\r\n  const disableSnackbar = () => {\r\n    setSnackbarOpen(false)\r\n    localStorage.setItem('snackbarIsClosed', true)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {open && <DonateDialog onClose={() => setOpen(false)} />}\r\n\r\n      <StyledSnackbar\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n        open={snackbarOpen}\r\n        onClose={disableSnackbar}\r\n        message={t('Donate?')}\r\n        action={\r\n          <>\r\n            <Button\r\n              style={{ marginRight: '10px' }}\r\n              color='secondary'\r\n              size='small'\r\n              onClick={() => {\r\n                setOpen(true)\r\n                disableSnackbar()\r\n              }}\r\n            >\r\n              <CreditCardIcon style={{ marginRight: '10px' }} fontSize='small' />\r\n              {t('Support')}\r\n            </Button>\r\n\r\n            <IconButton size='small' aria-label='close' color='inherit' onClick={disableSnackbar}>\r\n              <CloseIcon fontSize='small' />\r\n            </IconButton>\r\n          </>\r\n        }\r\n      />\r\n    </>\r\n  )\r\n}\r\n","import { createGlobalStyle, css } from 'styled-components'\r\n\r\nimport { standaloneMedia } from './standaloneMedia'\r\n\r\nexport default createGlobalStyle`\r\n  *,\r\n  *::before,\r\n  *::after {  \r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: inherit;\r\n  }\r\n\r\n  body {  \r\n    font-family: \"Open Sans\", sans-serif;\r\n    box-sizing: border-box;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    letter-spacing: -0.1px;\r\n    -webkit-tap-highlight-color: transparent;\r\n\r\n\r\n    ${standaloneMedia(css`\r\n      height: 100vh;\r\n    `)}\r\n  }\r\n\r\n  button {\r\n    font-family: \"Open Sans\", sans-serif;\r\n    letter-spacing: -0.1px;\r\n  }\r\n`\r\n","import styled, { css } from 'styled-components'\r\n\r\nexport const Content = styled.div`\r\n  ${({\r\n    isLoading,\r\n    theme: {\r\n      settingsDialog: { contentBG },\r\n    },\r\n  }) => css`\r\n    background: ${contentBG};\r\n    overflow: auto;\r\n    flex: 1;\r\n\r\n    ${isLoading &&\r\n    css`\r\n      min-height: 500px;\r\n      display: grid;\r\n      place-items: center;\r\n    `}\r\n  `}\r\n`\r\n","import { useState, useEffect, useMemo } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport axios from 'axios'\r\nimport {\r\n  TextField,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  CircularProgress,\r\n  Typography,\r\n  Divider,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n  Snackbar,\r\n  useMediaQuery,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel,\r\n} from '@material-ui/core'\r\nimport { CloudDownload as DownloadIcon, ArrowUpward, ArrowDownward } from '@material-ui/icons'\r\nimport { torznabSearchHost, torrentsHost, settingsHost, searchHost } from 'utils/Hosts'\r\nimport useOnStandaloneAppOutsideClick from 'utils/useOnStandaloneAppOutsideClick'\r\nimport { StyledDialog, StyledHeader } from 'style/CustomMaterialUiStyles'\r\nimport { parseSizeToBytes, formatSizeToClassicUnits } from 'utils/Utils'\r\n\r\nimport { Content } from './style'\r\n\r\nexport default function SearchDialog({ handleClose }) {\r\n  const { t } = useTranslation()\r\n  const [query, setQuery] = useState('')\r\n  const [results, setResults] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [searched, setSearched] = useState(false)\r\n  const [adding, setAdding] = useState(false)\r\n  const [successMsg, setSuccessMsg] = useState('')\r\n  const [errorMsg, setErrorMsg] = useState('')\r\n  const [trackers, setTrackers] = useState([])\r\n  const [enableRutor, setEnableRutor] = useState(false)\r\n  const [selectedTracker, setSelectedTracker] = useState(-1)\r\n  const [sortField, setSortField] = useState('') // '', 'size', 'seeds', 'peers'\r\n  const [sortDirection, setSortDirection] = useState('desc') // 'asc' or 'desc'\r\n  const fullScreen = useMediaQuery('@media (max-width:930px)')\r\n  const isMobile = useMediaQuery('(max-width:600px)')\r\n  const ref = useOnStandaloneAppOutsideClick(handleClose)\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(settingsHost(), { action: 'get' })\r\n      .then(({ data }) => {\r\n        if (data) {\r\n          if (data.TorznabUrls) {\r\n            setTrackers(data.TorznabUrls)\r\n          }\r\n          setEnableRutor(!!data.EnableRutorSearch)\r\n        }\r\n      })\r\n      .catch(console.error)\r\n  }, [])\r\n\r\n  const handleSearch = async () => {\r\n    if (!query) return\r\n    setLoading(true)\r\n    setSearched(true)\r\n    setResults([])\r\n    try {\r\n      let url = torznabSearchHost()\r\n      const params = { query }\r\n\r\n      if (selectedTracker === 'rutor') {\r\n        url = searchHost()\r\n      } else if (selectedTracker !== -1) {\r\n        params.index = selectedTracker\r\n      }\r\n\r\n      const { data } = await axios.get(url, { params })\r\n      setResults(data || [])\r\n    } catch (error) {\r\n      console.error(error)\r\n      setErrorMsg(t('Torznab.SearchFailed'))\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.key === 'Enter') {\r\n      handleSearch()\r\n    }\r\n  }\r\n\r\n  const handleAdd = async item => {\r\n    setAdding(true)\r\n    try {\r\n      const link = item.Magnet || item.Link\r\n      if (!link) {\r\n        setErrorMsg(t('Torznab.NoLinkFound'))\r\n        return\r\n      }\r\n      await axios.post(torrentsHost(), {\r\n        action: 'add',\r\n        link,\r\n        title: item.Title,\r\n        save_to_db: true,\r\n        poster: item.Poster,\r\n      })\r\n      setSuccessMsg(t('Torznab.TorrentAddedSuccessfully'))\r\n    } catch (error) {\r\n      console.error(error)\r\n      setErrorMsg(t('Torznab.FailedToAddTorrent'))\r\n    } finally {\r\n      setAdding(false)\r\n    }\r\n  }\r\n\r\n  const handleAlertClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return\r\n    }\r\n    setSuccessMsg('')\r\n    setErrorMsg('')\r\n  }\r\n\r\n  const toggleSortDirection = () => {\r\n    setSortDirection(prev => (prev === 'asc' ? 'desc' : 'asc'))\r\n  }\r\n\r\n  const sortedResults = useMemo(() => {\r\n    if (!sortField || results.length === 0) return results\r\n\r\n    const sorted = [...results].sort((a, b) => {\r\n      let aVal\r\n      let bVal\r\n\r\n      switch (sortField) {\r\n        case 'size':\r\n          aVal = parseSizeToBytes(a.Size || '0')\r\n          bVal = parseSizeToBytes(b.Size || '0')\r\n          break\r\n        case 'seeds':\r\n          aVal = a.Seed || 0\r\n          bVal = b.Seed || 0\r\n          break\r\n        case 'peers':\r\n          aVal = a.Peer || 0\r\n          bVal = b.Peer || 0\r\n          break\r\n        default:\r\n          return 0\r\n      }\r\n\r\n      if (aVal === bVal) return 0\r\n      return sortDirection === 'asc' ? (aVal < bVal ? -1 : 1) : aVal > bVal ? -1 : 1\r\n    })\r\n\r\n    return sorted\r\n  }, [results, sortField, sortDirection])\r\n\r\n  return (\r\n    <StyledDialog open onClose={handleClose} fullScreen={fullScreen} fullWidth maxWidth='md' ref={ref}>\r\n      <StyledHeader>{t('Torznab.SearchTorrents')}</StyledHeader>\r\n      <Content>\r\n        <div style={{ padding: '20px' }}>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              gap: '8px',\r\n              marginBottom: '20px',\r\n              alignItems: 'flex-start',\r\n              flexWrap: fullScreen ? 'wrap' : 'nowrap',\r\n            }}\r\n          >\r\n            <FormControl\r\n              variant='outlined'\r\n              size='small'\r\n              style={{\r\n                minWidth: 150,\r\n                flex: fullScreen ? '1 1 100%' : '0 0 auto',\r\n              }}\r\n            >\r\n              <InputLabel>{t('Tracker')}</InputLabel>\r\n              <Select value={selectedTracker} onChange={e => setSelectedTracker(e.target.value)} label={t('Tracker')}>\r\n                <MenuItem value={-1}>{t('AllTrackers')}</MenuItem>\r\n                {enableRutor && <MenuItem value='rutor'>{t('Rutor')}</MenuItem>}\r\n                {trackers.map((tracker, index) => (\r\n                  <MenuItem key={`${tracker.Host}-${tracker.Key}`} value={index}>\r\n                    {tracker.Name || tracker.Host}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <TextField\r\n              label={t('Torznab.SearchTorznab')}\r\n              value={query}\r\n              onChange={e => setQuery(e.target.value)}\r\n              onKeyDown={handleKeyDown}\r\n              variant='outlined'\r\n              size='small'\r\n              fullWidth\r\n              placeholder={t('Torznab.SearchMoviesShows')}\r\n              autoFocus\r\n            />\r\n            <Button\r\n              variant='contained'\r\n              color='primary'\r\n              onClick={handleSearch}\r\n              disabled={loading}\r\n              style={{\r\n                minWidth: fullScreen ? '80px' : '100px',\r\n                height: '40px',\r\n              }}\r\n            >\r\n              {loading ? <CircularProgress size={24} color='inherit' /> : t('Search')}\r\n            </Button>\r\n          </div>\r\n\r\n          {searched && results.length > 0 && (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                gap: isMobile ? '8px' : '4px',\r\n                marginBottom: '16px',\r\n                alignItems: 'center',\r\n                padding: isMobile ? '12px 8px' : '8px 12px',\r\n                backgroundColor: 'rgba(0, 0, 0, 0.02)',\r\n                borderRadius: '4px',\r\n                border: '1px solid rgba(0, 0, 0, 0.08)',\r\n                flexWrap: isMobile ? 'wrap' : 'nowrap',\r\n              }}\r\n            >\r\n              <FormControl\r\n                variant='outlined'\r\n                size='small'\r\n                style={{\r\n                  minWidth: isMobile ? '100%' : 140,\r\n                  flexShrink: 0,\r\n                  flex: isMobile ? '1 1 100%' : '0 0 auto',\r\n                }}\r\n              >\r\n                <InputLabel>{t('Torznab.SortBy')}</InputLabel>\r\n                <Select value={sortField} onChange={e => setSortField(e.target.value)} label={t('Torznab.SortBy')}>\r\n                  <MenuItem value=''>{t('Torznab.SortByNone')}</MenuItem>\r\n                  <MenuItem value='size'>{t('Torznab.SortBySize')}</MenuItem>\r\n                  <MenuItem value='seeds'>{t('Torznab.SortBySeeds')}</MenuItem>\r\n                  <MenuItem value='peers'>{t('Torznab.SortByPeers')}</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n              {sortField && (\r\n                <IconButton\r\n                  size='small'\r\n                  onClick={toggleSortDirection}\r\n                  title={sortDirection === 'asc' ? t('Torznab.SortAscending') : t('Torznab.SortDescending')}\r\n                  style={{\r\n                    marginLeft: isMobile ? 'auto' : '4px',\r\n                    padding: '8px',\r\n                  }}\r\n                >\r\n                  {sortDirection === 'asc' ? <ArrowUpward /> : <ArrowDownward />}\r\n                </IconButton>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ overflowY: 'auto', maxHeight: 'calc(100vh - 200px)' }}>\r\n            {searched && results.length === 0 && !loading && (\r\n              <Typography align='center' variant='body1' color='textSecondary'>\r\n                {t('Torznab.NoResultsFound')}\r\n              </Typography>\r\n            )}\r\n\r\n            <List>\r\n              {sortedResults.map((item, index) => {\r\n                const sizeBytes = parseSizeToBytes(item.Size || '0')\r\n                const formattedSize = formatSizeToClassicUnits(sizeBytes)\r\n                return (\r\n                  <div key={item.Hash || item.Link || index}>\r\n                    <ListItem button onClick={() => handleAdd(item)}>\r\n                      <ListItemText\r\n                        primary={item.Title}\r\n                        secondary={\r\n                          <>\r\n                            <Typography component='span' variant='body2' color='textPrimary'>\r\n                              {formattedSize}\r\n                            </Typography>\r\n                            {`  S: ${item.Seed || 0} P: ${item.Peer || 0}`}\r\n                          </>\r\n                        }\r\n                        primaryTypographyProps={{\r\n                          style: {\r\n                            whiteSpace: isMobile ? 'normal' : 'inherit',\r\n                            fontSize: isMobile ? '0.9rem' : 'inherit',\r\n                          },\r\n                        }}\r\n                        secondaryTypographyProps={{\r\n                          style: {\r\n                            fontSize: isMobile ? '0.75rem' : 'inherit',\r\n                          },\r\n                        }}\r\n                      />\r\n                      <ListItemSecondaryAction>\r\n                        <IconButton\r\n                          edge='end'\r\n                          aria-label='add'\r\n                          onClick={() => handleAdd(item)}\r\n                          disabled={adding}\r\n                          size={isMobile ? 'small' : 'medium'}\r\n                        >\r\n                          <DownloadIcon color='secondary' />\r\n                        </IconButton>\r\n                      </ListItemSecondaryAction>\r\n                    </ListItem>\r\n                    <Divider component='li' />\r\n                  </div>\r\n                )\r\n              })}\r\n            </List>\r\n          </div>\r\n        </div>\r\n      </Content>\r\n\r\n      <Snackbar open={!!successMsg} autoHideDuration={1500} onClose={handleAlertClose} message={successMsg} />\r\n      <Snackbar open={!!errorMsg} autoHideDuration={1500} onClose={handleAlertClose} message={errorMsg} />\r\n\r\n      <div\r\n        style={{\r\n          padding: '16px',\r\n          display: 'flex',\r\n          justifyContent: 'flex-end',\r\n          borderTop: '1px solid rgba(0,0,0,0.12)',\r\n        }}\r\n      >\r\n        <Button onClick={handleClose} color='secondary' variant='outlined'>\r\n          {t('Close')}\r\n        </Button>\r\n      </div>\r\n    </StyledDialog>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport LibraryAddIcon from '@material-ui/icons/LibraryAdd'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { StyledMenuButtonWrapper } from 'style/CustomMaterialUiStyles'\r\nimport { isStandaloneApp } from 'utils/Utils'\r\n\r\nimport AddDialog from './AddDialog'\r\nimport { StyledPWAAddButton } from './style'\r\n\r\nexport default function AddDialogButton({ isOffline, isLoading }) {\r\n  const { t } = useTranslation()\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n  const handleClickOpen = () => setIsDialogOpen(true)\r\n  const handleClose = () => setIsDialogOpen(false)\r\n\r\n  return (\r\n    <div>\r\n      <StyledMenuButtonWrapper disabled={isOffline || isLoading} button onClick={handleClickOpen}>\r\n        {isStandaloneApp ? (\r\n          <StyledPWAAddButton />\r\n        ) : (\r\n          <>\r\n            <ListItemIcon>\r\n              <LibraryAddIcon />\r\n            </ListItemIcon>\r\n\r\n            <ListItemText primary={t('AddFromLink')} />\r\n          </>\r\n        )}\r\n      </StyledMenuButtonWrapper>\r\n\r\n      {isDialogOpen && <AddDialog handleClose={handleClose} />}\r\n    </div>\r\n  )\r\n}\r\n","import styled, { css } from 'styled-components'\r\nimport { mainColors } from 'style/colors'\r\nimport { StyledHeader } from 'style/CustomMaterialUiStyles'\r\n\r\nexport const cacheBeforeReaderColor = '#b3dfc9'\r\nexport const cacheAfterReaderColor = mainColors.light.primary\r\n\r\nexport const SettingsHeader = styled(StyledHeader)`\r\n  display: grid;\r\n  grid-auto-flow: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n\r\n  @media (max-width: 340px) {\r\n    grid-auto-flow: row;\r\n  }\r\n`\r\n\r\nexport const FooterSection = styled.div`\r\n  ${({\r\n    theme: {\r\n      settingsDialog: { footerBG },\r\n    },\r\n  }) => css`\r\n    padding: 20px;\r\n    display: grid;\r\n    grid-auto-flow: column;\r\n    justify-content: end;\r\n    gap: 10px;\r\n    align-items: center;\r\n    background: ${footerBG};\r\n\r\n    @media (max-width: 500px) {\r\n      grid-auto-flow: row;\r\n      justify-content: stretch;\r\n    }\r\n  `}\r\n`\r\nexport const Divider = styled.div`\r\n  height: 1px;\r\n  background-color: rgba(0, 0, 0, 0.12);\r\n  margin: 30px 0;\r\n`\r\n\r\nexport const Content = styled.div`\r\n  ${({\r\n    isLoading,\r\n    theme: {\r\n      settingsDialog: { contentBG },\r\n    },\r\n  }) => css`\r\n    background: ${contentBG};\r\n    overflow: auto;\r\n    flex: 1;\r\n\r\n    ${isLoading &&\r\n    css`\r\n      min-height: 500px;\r\n      display: grid;\r\n      place-items: center;\r\n    `}\r\n  `}\r\n`\r\n\r\nexport const PreloadCacheValue = styled.div`\r\n  ${({ color }) => css`\r\n    display: grid;\r\n    grid-template-columns: max-content 100px 1fr;\r\n    gap: 10px;\r\n    align-items: flex-start;\r\n\r\n    :not(:last-child) {\r\n      margin-bottom: 5px;\r\n    }\r\n\r\n    :before {\r\n      content: '';\r\n      background: ${color};\r\n      width: 16px;\r\n      height: 16px;\r\n      border-radius: 50%;\r\n      margin-top: 2px;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const MainSettingsContent = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 40px;\r\n  padding: 20px;\r\n\r\n  @media (max-width: 930px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`\r\nexport const SecondarySettingsContent = styled.div`\r\n  padding: 20px;\r\n`\r\nexport const StorageButton = styled.div`\r\n  ${({ small, selected }) => css`\r\n    transition: 0.2s;\r\n    cursor: default;\r\n    text-align: center;\r\n\r\n    ${!selected &&\r\n    css`\r\n      cursor: pointer;\r\n\r\n      :hover {\r\n        filter: brightness(0.8);\r\n      }\r\n    `}\r\n\r\n    ${small\r\n      ? css`\r\n          display: grid;\r\n          grid-template-columns: max-content 1fr;\r\n          gap: 20px;\r\n          align-items: center;\r\n          justify-items: start;\r\n          margin-bottom: 20px;\r\n        `\r\n      : css`\r\n          display: grid;\r\n          place-items: center;\r\n          gap: 10px;\r\n        `}\r\n  `}\r\n`\r\n\r\nexport const StorageIconWrapper = styled.div`\r\n  ${({ selected, small }) => css`\r\n    width: ${small ? '60px' : '150px'};\r\n    height: ${small ? '60px' : '150px'};\r\n    border-radius: 50%;\r\n    background: ${selected ? '#323637' : '#dee3e5'};\r\n\r\n    svg {\r\n      transform: rotate(-45deg) scale(0.75);\r\n    }\r\n\r\n    @media (max-width: 930px) {\r\n      width: ${small ? '50px' : '90px'};\r\n      height: ${small ? '50px' : '90px'};\r\n    }\r\n  `}\r\n`\r\n\r\nexport const CacheStorageSelector = styled.div`\r\n  display: grid;\r\n  grid-template-rows: max-content 1fr;\r\n  grid-template-areas: 'label label';\r\n  place-items: center;\r\n\r\n  @media (max-width: 930px) {\r\n    justify-content: start;\r\n    column-gap: 30px;\r\n  }\r\n`\r\n\r\nexport const SettingSectionLabel = styled.div`\r\n  font-size: 25px;\r\n  padding-bottom: 20px;\r\n\r\n  small {\r\n    display: block;\r\n    font-size: 11px;\r\n  }\r\n`\r\n\r\nexport const PreloadCachePercentage = styled.div.attrs(({ value }) => ({\r\n  // this block is here according to styled-components recomendation about fast changable components\r\n  style: {\r\n    background: `linear-gradient(to right, ${cacheBeforeReaderColor} 0%, ${cacheBeforeReaderColor} ${value}%, ${cacheAfterReaderColor} ${value}%, ${cacheAfterReaderColor} 100%)`,\r\n  },\r\n}))`\r\n  ${({ label, preloadCachePercentage }) => css`\r\n    border: 1px solid #323637;\r\n    padding: 10px 20px;\r\n    border-radius: 5px;\r\n    color: #000;\r\n    margin-bottom: 10px;\r\n    position: relative;\r\n\r\n    :before {\r\n      content: '${label}';\r\n      display: grid;\r\n      place-items: center;\r\n      font-size: 20px;\r\n    }\r\n\r\n    :after {\r\n      content: '';\r\n      width: ${preloadCachePercentage}%;\r\n      height: 100%;\r\n      background: #323637;\r\n      position: absolute;\r\n      bottom: 0;\r\n      left: 0;\r\n      border-radius: 4px;\r\n      filter: opacity(0.15);\r\n    }\r\n  `}\r\n`\r\n","export default {\r\n  CacheSize: 64,\r\n  ReaderReadAHead: 95,\r\n  PreloadCache: 40,\r\n  UseDisk: false,\r\n  TorrentsSavePath: '',\r\n  RemoveCacheOnDrop: false,\r\n  ForceEncrypt: false,\r\n  RetrackersMode: 1,\r\n  TorrentDisconnectTimeout: 30,\r\n  EnableDebug: false,\r\n  EnableDLNA: false,\r\n  FriendlyName: '',\r\n  EnableRutorSearch: false,\r\n  EnableIPv6: false,\r\n  DisableTCP: false,\r\n  DisableUTP: false,\r\n  DisableUPNP: false,\r\n  DisableDHT: false,\r\n  DisablePEX: false,\r\n  DisableUpload: false,\r\n  DownloadRateLimit: 0,\r\n  UploadRateLimit: 0,\r\n  ConnectionsLimit: 25,\r\n  PeersListenPort: 0,\r\n  ResponsiveMode: true,\r\n  SslPort: 0,\r\n  SslCert: '',\r\n  SslKey: '',\r\n  ShowFSActiveTorr: true,\r\n  StoreSettingsInJson: true,\r\n}\r\n","export const a11yProps = index => ({\r\n  id: `full-width-tab-${index}`,\r\n  'aria-controls': `full-width-tabpanel-${index}`,\r\n})\r\n\r\nexport const TabPanel = ({ children, value, index, ...other }) => (\r\n  <div role='tabpanel' hidden={value !== index} id={`full-width-tabpanel-${index}`} {...other}>\r\n    {value === index && <>{children}</>}\r\n  </div>\r\n)\r\n","import { Grid, OutlinedInput, Slider } from '@material-ui/core'\r\n\r\nexport default function SliderInput({\r\n  isProMode,\r\n  title,\r\n  value,\r\n  setValue,\r\n  sliderMin,\r\n  sliderMax,\r\n  inputMin,\r\n  inputMax,\r\n  step = 1,\r\n  onBlurCallback,\r\n}) {\r\n  const onBlur = ({ target: { value } }) => {\r\n    if (value < inputMin) return setValue(inputMin)\r\n    if (value > inputMax) return setValue(inputMax)\r\n\r\n    onBlurCallback && onBlurCallback(value)\r\n  }\r\n\r\n  const onInputChange = ({ target: { value } }) => setValue(value === '' ? '' : Number(value))\r\n  const onSliderChange = (_, newValue) => setValue(newValue)\r\n\r\n  return (\r\n    <>\r\n      <div>{title}</div>\r\n\r\n      <Grid container spacing={2} alignItems='center'>\r\n        <Grid item xs>\r\n          <Slider\r\n            min={sliderMin}\r\n            max={sliderMax}\r\n            value={value}\r\n            onChange={onSliderChange}\r\n            step={step}\r\n            color='secondary'\r\n          />\r\n        </Grid>\r\n\r\n        {isProMode && (\r\n          <Grid item>\r\n            <OutlinedInput\r\n              value={value}\r\n              margin='dense'\r\n              onChange={onInputChange}\r\n              onBlur={onBlur}\r\n              style={{ width: '91px', marginTop: '-6px' }}\r\n              inputProps={{ step, min: inputMin, max: inputMax, type: 'number' }}\r\n            />\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    </>\r\n  )\r\n}\r\n","import { useTranslation } from 'react-i18next'\r\nimport { USBIcon, RAMIcon } from 'icons'\r\nimport { FormControlLabel, Switch } from '@material-ui/core'\r\nimport TextField from '@material-ui/core/TextField'\r\n\r\nimport {\r\n  PreloadCacheValue,\r\n  MainSettingsContent,\r\n  StorageButton,\r\n  StorageIconWrapper,\r\n  CacheStorageSelector,\r\n  SettingSectionLabel,\r\n  PreloadCachePercentage,\r\n  cacheBeforeReaderColor,\r\n  cacheAfterReaderColor,\r\n} from './style'\r\nimport SliderInput from './SliderInput'\r\n\r\nconst CacheStorageLocationLabel = ({ style }) => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <SettingSectionLabel style={style}>\r\n      {t('SettingsDialog.CacheStorageLocation')}\r\n      <small>{t('SettingsDialog.UseDiskDesc')}</small>\r\n    </SettingSectionLabel>\r\n  )\r\n}\r\n\r\nexport default function PrimarySettingsComponent({\r\n  settings,\r\n  inputForm,\r\n  cachePercentage,\r\n  preloadCachePercentage,\r\n  cacheSize,\r\n  isProMode,\r\n  setCacheSize,\r\n  setCachePercentage,\r\n  setPreloadCachePercentage,\r\n  updateSettings,\r\n}) {\r\n  const { t } = useTranslation()\r\n  const { UseDisk, TorrentsSavePath, RemoveCacheOnDrop } = settings || {}\r\n  const preloadCacheSize = Math.round((cacheSize / 100) * preloadCachePercentage)\r\n\r\n  // Minimum 25MB for PreloadCache\r\n  const minPreloadMB = 25\r\n  const minPreloadPercent = Math.min(100, Math.ceil((minPreloadMB / cacheSize) * 100))\r\n\r\n  return (\r\n    <MainSettingsContent>\r\n      <div>\r\n        <SettingSectionLabel>{t('SettingsDialog.CacheSettings')}</SettingSectionLabel>\r\n\r\n        <PreloadCachePercentage\r\n          value={100 - cachePercentage}\r\n          label={`${t('Cache')} ${cacheSize} ${t('MB')}`}\r\n          preloadCachePercentage={preloadCachePercentage}\r\n        />\r\n\r\n        <PreloadCacheValue color={cacheBeforeReaderColor}>\r\n          <div>\r\n            {100 - cachePercentage}% ({Math.round((cacheSize / 100) * (100 - cachePercentage))} {t('MB')})\r\n          </div>\r\n\r\n          <div>{t('SettingsDialog.CacheBeforeReaderDesc')}</div>\r\n        </PreloadCacheValue>\r\n\r\n        <PreloadCacheValue color={cacheAfterReaderColor}>\r\n          <div>\r\n            {cachePercentage}% ({Math.round((cacheSize / 100) * cachePercentage)} {t('MB')})\r\n          </div>\r\n\r\n          <div>{t('SettingsDialog.CacheAfterReaderDesc')}</div>\r\n        </PreloadCacheValue>\r\n\r\n        <br />\r\n\r\n        <SliderInput\r\n          isProMode={isProMode}\r\n          title={t('SettingsDialog.CacheSize')}\r\n          value={cacheSize}\r\n          setValue={setCacheSize}\r\n          sliderMin={25}\r\n          sliderMax={1024}\r\n          inputMin={25}\r\n          inputMax={999999}\r\n          step={4}\r\n          onBlurCallback={value => setCacheSize(Math.round(value / 4) * 4)}\r\n        />\r\n\r\n        <SliderInput\r\n          isProMode={isProMode}\r\n          title={t('SettingsDialog.ReaderReadAHead')}\r\n          value={cachePercentage}\r\n          setValue={setCachePercentage}\r\n          sliderMin={40}\r\n          sliderMax={95}\r\n          inputMin={0}\r\n          inputMax={100}\r\n        />\r\n\r\n        <SliderInput\r\n          isProMode={isProMode}\r\n          title={`${t('SettingsDialog.PreloadCache')} - ${preloadCachePercentage}% (${preloadCacheSize} ${t('MB')})`}\r\n          value={preloadCachePercentage}\r\n          setValue={setPreloadCachePercentage}\r\n          sliderMin={minPreloadPercent}\r\n          sliderMax={100}\r\n          inputMin={minPreloadPercent}\r\n          inputMax={100}\r\n        />\r\n      </div>\r\n\r\n      {UseDisk ? (\r\n        <div>\r\n          <CacheStorageLocationLabel />\r\n\r\n          <div style={{ display: 'grid', gridAutoFlow: 'column' }}>\r\n            <StorageButton small onClick={() => updateSettings({ UseDisk: false })}>\r\n              <StorageIconWrapper small>\r\n                <RAMIcon color='#323637' />\r\n              </StorageIconWrapper>\r\n\r\n              <div>{t('SettingsDialog.RAM')}</div>\r\n            </StorageButton>\r\n\r\n            <StorageButton small selected>\r\n              <StorageIconWrapper small selected>\r\n                <USBIcon color='#dee3e5' />\r\n              </StorageIconWrapper>\r\n\r\n              <div>{t('SettingsDialog.Disk')}</div>\r\n            </StorageButton>\r\n          </div>\r\n\r\n          <FormControlLabel\r\n            control={\r\n              <Switch checked={RemoveCacheOnDrop} onChange={inputForm} id='RemoveCacheOnDrop' color='secondary' />\r\n            }\r\n            label={t('SettingsDialog.RemoveCacheOnDrop')}\r\n            labelPlacement='start'\r\n          />\r\n          <div>\r\n            <small>{t('SettingsDialog.RemoveCacheOnDropDesc')}</small>\r\n          </div>\r\n          <br />\r\n          <TextField\r\n            onChange={inputForm}\r\n            margin='normal'\r\n            id='TorrentsSavePath'\r\n            label={t('SettingsDialog.TorrentsSavePath')}\r\n            value={TorrentsSavePath}\r\n            type='url'\r\n            variant='outlined'\r\n            fullWidth\r\n          />\r\n        </div>\r\n      ) : (\r\n        <CacheStorageSelector>\r\n          <CacheStorageLocationLabel style={{ placeSelf: 'start', gridArea: 'label' }} />\r\n\r\n          <StorageButton selected>\r\n            <StorageIconWrapper selected>\r\n              <RAMIcon color='#dee3e5' />\r\n            </StorageIconWrapper>\r\n\r\n            <div>{t('SettingsDialog.RAM')}</div>\r\n          </StorageButton>\r\n\r\n          <StorageButton onClick={() => updateSettings({ UseDisk: true })}>\r\n            <StorageIconWrapper>\r\n              <USBIcon color='#323637' />\r\n            </StorageIconWrapper>\r\n\r\n            <div>{t('SettingsDialog.Disk')}</div>\r\n          </StorageButton>\r\n        </CacheStorageSelector>\r\n      )}\r\n    </MainSettingsContent>\r\n  )\r\n}\r\n","import { useTranslation } from 'react-i18next'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport {\r\n  FormControlLabel,\r\n  FormGroup,\r\n  FormHelperText,\r\n  InputAdornment,\r\n  InputLabel,\r\n  Select,\r\n  Switch,\r\n  MenuItem,\r\n  Button,\r\n  Box,\r\n  CircularProgress,\r\n} from '@material-ui/core'\r\nimport { styled } from '@material-ui/core/styles'\r\nimport { useState, useEffect, useMemo } from 'react'\r\n\r\nimport { SecondarySettingsContent, SettingSectionLabel } from './style'\r\n\r\n// Create a styled status message component\r\nconst StatusMessage = styled('div')(({ theme, severity }) => ({\r\n  padding: theme.spacing(1.5, 2),\r\n  marginTop: theme.spacing(1),\r\n  borderRadius: theme.shape.borderRadius,\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n  backgroundColor:\r\n    severity === 'error' ? '#f44336' : severity === 'success' ? '#4caf50' : severity === 'info' ? '#2196f3' : '#ff9800',\r\n  color: 'white',\r\n  '& button': {\r\n    color: 'white',\r\n    minWidth: 'auto',\r\n    padding: '4px 8px',\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n}))\r\n\r\nexport default function SecondarySettingsComponent({ settings, inputForm }) {\r\n  const { t } = useTranslation()\r\n  const [storageSettings, setStorageSettings] = useState({\r\n    settings: 'json',\r\n    viewed: 'bbolt',\r\n  })\r\n  const [storageStatus, setStorageStatus] = useState({ message: '', type: '' })\r\n  const [loading, setLoading] = useState(false)\r\n  const {\r\n    RetrackersMode,\r\n    TorrentDisconnectTimeout,\r\n    EnableDebug,\r\n    EnableDLNA,\r\n    EnableIPv6,\r\n    FriendlyName,\r\n    ForceEncrypt,\r\n    DisableTCP,\r\n    DisableUTP,\r\n    DisableUPNP,\r\n    DisableDHT,\r\n    DisablePEX,\r\n    DisableUpload,\r\n    DownloadRateLimit,\r\n    UploadRateLimit,\r\n    ConnectionsLimit,\r\n    PeersListenPort,\r\n    ResponsiveMode,\r\n    SslPort,\r\n    SslCert,\r\n    SslKey,\r\n    ShowFSActiveTorr,\r\n  } = settings || {}\r\n\r\n  // Use useMemo to compute basePath once\r\n  const basePath = useMemo(() => {\r\n    if (typeof window !== 'undefined') {\r\n      return window.location.pathname.split('/')[1] || ''\r\n    }\r\n    return ''\r\n  }, [])\r\n\r\n  // Helper function to build API URL\r\n  const getApiUrl = useMemo(\r\n    () => endpoint => {\r\n      const prefix = basePath ? `/${basePath}` : ''\r\n      return `${prefix}${endpoint}`\r\n    },\r\n    [basePath],\r\n  )\r\n\r\n  useEffect(() => {\r\n    const loadStorageSettings = async () => {\r\n      try {\r\n        const response = await fetch(getApiUrl('/storage/settings')) // /api/storage/settings\r\n        if (response.ok) {\r\n          const prefs = await response.json()\r\n          setStorageSettings(prefs)\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to load storage settings:', error)\r\n      }\r\n    }\r\n    loadStorageSettings()\r\n  }, [getApiUrl])\r\n\r\n  // Handle storage settings change\r\n  const handleStorageChange = event => {\r\n    const { name, value } = event.target\r\n    setStorageSettings(prev => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }))\r\n  }\r\n\r\n  // Save storage settings - add better error handling\r\n  const saveStorageSettings = async () => {\r\n    setLoading(true)\r\n    setStorageStatus({ message: t('SettingsDialog.Saving'), type: 'info' })\r\n\r\n    try {\r\n      const response = await fetch(getApiUrl('/storage/settings'), {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(storageSettings),\r\n      })\r\n\r\n      const result = await response.json()\r\n\r\n      if (!response.ok) {\r\n        throw new Error(result.error || 'Failed to save settings')\r\n      }\r\n\r\n      if (result.status === 'ok') {\r\n        setStorageStatus({\r\n          message: t('SettingsDialog.StorageSettingsSaved'),\r\n          type: 'success',\r\n        })\r\n      } else {\r\n        setStorageStatus({\r\n          message: t('SettingsDialog.SaveError') + (result.error || 'Unknown error'),\r\n          type: 'error',\r\n        })\r\n      }\r\n    } catch (error) {\r\n      setStorageStatus({\r\n        message: t('SettingsDialog.SaveError') + error.message,\r\n        type: 'error',\r\n      })\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <SecondarySettingsContent>\r\n      <SettingSectionLabel>{t('SettingsDialog.AdditionalSettings')}</SettingSectionLabel>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={EnableIPv6} onChange={inputForm} id='EnableIPv6' color='secondary' />}\r\n          label='IPv6'\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.EnableIPv6Hint')}</FormHelperText>\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={!DisableTCP} onChange={inputForm} id='DisableTCP' color='secondary' />}\r\n          label='TCP (Transmission Control Protocol)'\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.DisableTCPHint')}</FormHelperText>\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={!DisableUTP} onChange={inputForm} id='DisableUTP' color='secondary' />}\r\n          label='TP (Micro Transport Protocol)'\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.DisableUTPHint')}</FormHelperText>\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={!DisablePEX} onChange={inputForm} id='DisablePEX' color='secondary' />}\r\n          label='PEX (Peer Exchange)'\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.DisablePEXHint')}</FormHelperText>\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={ForceEncrypt} onChange={inputForm} id='ForceEncrypt' color='secondary' />}\r\n          label={t('SettingsDialog.ForceEncrypt')}\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.ForceEncryptHint')}</FormHelperText>\r\n      </FormGroup>\r\n      <TextField\r\n        onChange={inputForm}\r\n        margin='normal'\r\n        id='TorrentDisconnectTimeout'\r\n        label={t('SettingsDialog.TorrentDisconnectTimeout')}\r\n        InputProps={{\r\n          endAdornment: <InputAdornment position='end'>{t('Seconds')}</InputAdornment>,\r\n        }}\r\n        value={TorrentDisconnectTimeout}\r\n        type='number'\r\n        variant='outlined'\r\n        fullWidth\r\n      />\r\n      <br />\r\n      <TextField\r\n        onChange={inputForm}\r\n        margin='normal'\r\n        id='ConnectionsLimit'\r\n        label={t('SettingsDialog.ConnectionsLimit')}\r\n        helperText={t('SettingsDialog.ConnectionsLimitHint')}\r\n        value={ConnectionsLimit}\r\n        type='number'\r\n        variant='outlined'\r\n        fullWidth\r\n      />\r\n      <br />\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={!DisableDHT} onChange={inputForm} id='DisableDHT' color='secondary' />}\r\n          label={t('SettingsDialog.DHT')}\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.DisableDHTHint')}</FormHelperText>\r\n      </FormGroup>\r\n      <TextField\r\n        onChange={inputForm}\r\n        margin='normal'\r\n        id='DownloadRateLimit'\r\n        label={t('SettingsDialog.DownloadRateLimit')}\r\n        InputProps={{\r\n          endAdornment: <InputAdornment position='end'>{t('Kilobytes')}</InputAdornment>,\r\n        }}\r\n        value={DownloadRateLimit}\r\n        type='number'\r\n        variant='outlined'\r\n        fullWidth\r\n      />\r\n      <br />\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={!DisableUpload} onChange={inputForm} id='DisableUpload' color='secondary' />}\r\n          label={t('SettingsDialog.Upload')}\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.UploadHint')}</FormHelperText>\r\n      </FormGroup>\r\n      <TextField\r\n        onChange={inputForm}\r\n        margin='normal'\r\n        id='UploadRateLimit'\r\n        label={t('SettingsDialog.UploadRateLimit')}\r\n        InputProps={{\r\n          endAdornment: <InputAdornment position='end'>{t('Kilobytes')}</InputAdornment>,\r\n        }}\r\n        value={UploadRateLimit}\r\n        type='number'\r\n        variant='outlined'\r\n        fullWidth\r\n      />\r\n      <br />\r\n      <TextField\r\n        onChange={inputForm}\r\n        margin='normal'\r\n        id='PeersListenPort'\r\n        label={t('SettingsDialog.PeersListenPort')}\r\n        helperText={t('SettingsDialog.PeersListenPortHint')}\r\n        value={PeersListenPort}\r\n        type='number'\r\n        variant='outlined'\r\n        fullWidth\r\n      />\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={!DisableUPNP} onChange={inputForm} id='DisableUPNP' color='secondary' />}\r\n          label='UPnP (Universal Plug and Play)'\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.DisableUPNPHint')}</FormHelperText>\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={EnableDebug} onChange={inputForm} id='EnableDebug' color='secondary' />}\r\n          label={t('SettingsDialog.EnableDebug')}\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.EnableDebugHint')}</FormHelperText>\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={ResponsiveMode} onChange={inputForm} id='ResponsiveMode' color='secondary' />}\r\n          label={t('SettingsDialog.ResponsiveMode')}\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.ResponsiveModeHint')}</FormHelperText>\r\n      </FormGroup>\r\n      <br />\r\n      <FormGroup style={{ marginBottom: '20px' }}>\r\n        <InputLabel htmlFor='RetrackersMode'>{t('SettingsDialog.RetrackersMode')}</InputLabel>\r\n        <Select\r\n          native\r\n          type='number'\r\n          id='RetrackersMode'\r\n          name='RetrackersMode'\r\n          value={RetrackersMode}\r\n          onChange={inputForm}\r\n          variant='outlined'\r\n          margin='dense'\r\n        >\r\n          <option value={0}>{t('SettingsDialog.DontAddRetrackers')}</option>\r\n          <option value={1}>{t('SettingsDialog.AddRetrackers')}</option>\r\n          <option value={2}>{t('SettingsDialog.RemoveRetrackers')}</option>\r\n          <option value={3}>{t('SettingsDialog.ReplaceRetrackers')}</option>\r\n        </Select>\r\n        <FormHelperText style={{ marginTop: '8px' }}>{t('SettingsDialog.RetrackersModeHint')}</FormHelperText>\r\n      </FormGroup>\r\n      {/* DLNA Section */}\r\n      <SettingSectionLabel style={{ marginTop: '20px' }}>{t('DLNA')}</SettingSectionLabel>\r\n      <FormControlLabel\r\n        control={<Switch checked={EnableDLNA} onChange={inputForm} id='EnableDLNA' color='secondary' />}\r\n        label={t('SettingsDialog.DLNA')}\r\n        labelPlacement='start'\r\n      />\r\n      <TextField\r\n        onChange={inputForm}\r\n        margin='normal'\r\n        id='FriendlyName'\r\n        label={t('SettingsDialog.FriendlyName')}\r\n        helperText={t('SettingsDialog.FriendlyNameHint')}\r\n        value={FriendlyName}\r\n        type='text'\r\n        variant='outlined'\r\n        fullWidth\r\n      />\r\n      {/* HTTPS Section */}\r\n      <SettingSectionLabel style={{ marginTop: '20px' }}>{t('HTTPS')}</SettingSectionLabel>\r\n      <TextField\r\n        onChange={inputForm}\r\n        margin='normal'\r\n        id='SslPort'\r\n        label={t('SettingsDialog.SslPort')}\r\n        helperText={t('SettingsDialog.SslPortHint')}\r\n        value={SslPort}\r\n        type='number'\r\n        variant='outlined'\r\n        fullWidth\r\n      />\r\n      <br />\r\n      <TextField\r\n        onChange={inputForm}\r\n        margin='normal'\r\n        id='SslCert'\r\n        label={t('SettingsDialog.SslCert')}\r\n        helperText={t('SettingsDialog.SslCertHint')}\r\n        value={SslCert}\r\n        type='url'\r\n        variant='outlined'\r\n        fullWidth\r\n      />\r\n      <br />\r\n      <TextField\r\n        onChange={inputForm}\r\n        margin='normal'\r\n        id='SslKey'\r\n        label={t('SettingsDialog.SslKey')}\r\n        helperText={t('SettingsDialog.SslKeyHint')}\r\n        value={SslKey}\r\n        type='url'\r\n        variant='outlined'\r\n        fullWidth\r\n      />\r\n      <br />\r\n      {/* TorrFS */}\r\n      <SettingSectionLabel style={{ marginTop: '20px' }}>{t('TorrFS')}</SettingSectionLabel>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={ShowFSActiveTorr} onChange={inputForm} id='ShowFSActiveTorr' color='secondary' />}\r\n          label={t('SettingsDialog.ShowFSActiveTorr')}\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.ShowFSActiveTorrHint')}</FormHelperText>\r\n      </FormGroup>\r\n      {/* Storage Settings Section */}\r\n      <Box mt={4} mb={2}>\r\n        <SettingSectionLabel>{t('SettingsDialog.StorageConfiguration')}</SettingSectionLabel>\r\n\r\n        <FormGroup>\r\n          <InputLabel htmlFor='settings'>{t('SettingsDialog.SettingsStorage')}</InputLabel>\r\n          <Select\r\n            id='settings'\r\n            name='settings'\r\n            value={storageSettings.settings || 'json'}\r\n            onChange={handleStorageChange}\r\n            variant='outlined'\r\n            margin='dense'\r\n          >\r\n            <MenuItem value='json'>{t('SettingsDialog.JsonFile')} (settings.json)</MenuItem>\r\n            <MenuItem value='bbolt'>{t('SettingsDialog.BBoltDatabase')} (config.db)</MenuItem>\r\n          </Select>\r\n          <FormHelperText style={{ marginTop: '8px' }}>{t('SettingsDialog.SettingsStorageHint')}</FormHelperText>\r\n        </FormGroup>\r\n\r\n        <FormGroup style={{ marginTop: '16px' }}>\r\n          <InputLabel htmlFor='viewed'>{t('SettingsDialog.ViewedHistoryStorage')}</InputLabel>\r\n          <Select\r\n            id='viewed'\r\n            name='viewed'\r\n            value={storageSettings.viewed || 'bbolt'}\r\n            onChange={handleStorageChange}\r\n            variant='outlined'\r\n            margin='dense'\r\n          >\r\n            <MenuItem value='bbolt'>{t('SettingsDialog.BBoltDatabase')} (config.db)</MenuItem>\r\n            <MenuItem value='json'>{t('SettingsDialog.JsonFile')} (viewed.json)</MenuItem>\r\n          </Select>\r\n          <FormHelperText style={{ marginTop: '8px' }}>{t('SettingsDialog.ViewedStorageHint')}</FormHelperText>\r\n        </FormGroup>\r\n\r\n        <Box mt={2} mb={2}>\r\n          <Button\r\n            variant='contained'\r\n            color='primary'\r\n            onClick={saveStorageSettings}\r\n            disabled={loading}\r\n            startIcon={loading ? <CircularProgress size={20} /> : null}\r\n          >\r\n            {t('SettingsDialog.SaveStorageSettings')}\r\n          </Button>\r\n        </Box>\r\n\r\n        {storageStatus.message && (\r\n          <StatusMessage severity={storageStatus.type}>\r\n            <span>{storageStatus.message}</span>\r\n            <Button onClick={() => setStorageStatus({ message: '', type: '' })} size='small'>\r\n              \r\n            </Button>\r\n          </StatusMessage>\r\n        )}\r\n      </Box>\r\n    </SecondarySettingsContent>\r\n  )\r\n}\r\n","import { FormControlLabel, FormGroup, FormHelperText, Switch } from '@material-ui/core'\r\nimport { isMacOS, isAppleDevice } from 'utils/Utils'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport { SecondarySettingsContent, SettingSectionLabel } from './style'\r\n\r\nexport default function MobileAppSettings({\r\n  isVlcUsed,\r\n  setIsVlcUsed,\r\n  isInfuseUsed,\r\n  setIsInfuseUsed,\r\n  isIinaUsed,\r\n  setIsIinaUsed,\r\n}) {\r\n  const { t } = useTranslation()\r\n  const isMac = isMacOS()\r\n  const isApple = isAppleDevice()\r\n\r\n  return (\r\n    <SecondarySettingsContent>\r\n      <SettingSectionLabel>{t('SettingsDialog.MobileAppSettings')}</SettingSectionLabel>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={isVlcUsed} onChange={() => setIsVlcUsed(prev => !prev)} color='secondary' />}\r\n          label={t('SettingsDialog.UseVLC')}\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.UseVLCHint')}</FormHelperText>\r\n        {isApple && (\r\n          <>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch checked={isInfuseUsed} onChange={() => setIsInfuseUsed(prev => !prev)} color='secondary' />\r\n              }\r\n              label={t('SettingsDialog.UseInfuse')}\r\n              labelPlacement='start'\r\n            />\r\n            <FormHelperText margin='none'>{t('SettingsDialog.UseInfuseHint')}</FormHelperText>\r\n          </>\r\n        )}\r\n        {isMac && (\r\n          <>\r\n            <FormControlLabel\r\n              control={<Switch checked={isIinaUsed} onChange={() => setIsIinaUsed(prev => !prev)} color='secondary' />}\r\n              label={t('SettingsDialog.UseIINA')}\r\n              labelPlacement='start'\r\n            />\r\n            <FormHelperText margin='none'>{t('SettingsDialog.UseIINAHint')}</FormHelperText>\r\n          </>\r\n        )}\r\n      </FormGroup>\r\n    </SecondarySettingsContent>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport {\r\n  FormControlLabel,\r\n  FormGroup,\r\n  FormHelperText,\r\n  Switch,\r\n  TextField,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemSecondaryAction,\r\n  IconButton,\r\n  Typography,\r\n} from '@material-ui/core'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport axios from 'axios'\r\nimport { torznabTestHost } from 'utils/Hosts'\r\n\r\nimport { SecondarySettingsContent, SettingSectionLabel } from './style'\r\n\r\nexport default function TorznabSettings({ settings, inputForm, updateSettings }) {\r\n  const { t } = useTranslation()\r\n  const { EnableRutorSearch, EnableTorznabSearch, TorznabUrls } = settings || {}\r\n  const [newHost, setNewHost] = useState('')\r\n  const [newKey, setNewKey] = useState('')\r\n  const [newName, setNewName] = useState('')\r\n  const [testing, setTesting] = useState(false)\r\n  const [testResult, setTestResult] = useState(null)\r\n\r\n  const handleAdd = () => {\r\n    if (newHost && newKey) {\r\n      const currentUrls = TorznabUrls || []\r\n      updateSettings({ TorznabUrls: [...currentUrls, { Host: newHost, Key: newKey, Name: newName }] })\r\n      setNewHost('')\r\n      setNewKey('')\r\n      setNewName('')\r\n    }\r\n  }\r\n\r\n  const handleDelete = index => {\r\n    const currentUrls = TorznabUrls || []\r\n    const newUrls = [...currentUrls]\r\n    newUrls.splice(index, 1)\r\n    updateSettings({ TorznabUrls: newUrls })\r\n  }\r\n\r\n  const handleTest = async () => {\r\n    setTesting(true)\r\n    setTestResult(null)\r\n    try {\r\n      const { data } = await axios.post(torznabTestHost(), {\r\n        host: newHost,\r\n        key: newKey,\r\n      })\r\n      if (data.success) {\r\n        setTestResult({ success: true, msg: t('Torznab.ConnectionSuccessful') })\r\n      } else {\r\n        setTestResult({ success: false, msg: data.error })\r\n      }\r\n    } catch (e) {\r\n      setTestResult({ success: false, msg: e.message })\r\n    }\r\n    setTesting(false)\r\n  }\r\n\r\n  return (\r\n    <SecondarySettingsContent>\r\n      <SettingSectionLabel>{t('Search')}</SettingSectionLabel>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={<Switch checked={EnableRutorSearch} onChange={inputForm} id='EnableRutorSearch' color='secondary' />}\r\n          label={t('SettingsDialog.EnableRutorSearch')}\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('SettingsDialog.EnableRutorSearchHint')}</FormHelperText>\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <FormControlLabel\r\n          control={\r\n            <Switch\r\n              checked={EnableTorznabSearch || false}\r\n              onChange={inputForm}\r\n              id='EnableTorznabSearch'\r\n              color='secondary'\r\n            />\r\n          }\r\n          label={t('Torznab.EnableTorznabSearch')}\r\n          labelPlacement='start'\r\n        />\r\n        <FormHelperText margin='none'>{t('Torznab.EnableSearchViaTorznab')}</FormHelperText>\r\n      </FormGroup>\r\n\r\n      <div\r\n        style={{\r\n          padding: 20,\r\n          opacity: EnableTorznabSearch ? 1 : 0.5,\r\n          pointerEvents: EnableTorznabSearch ? 'auto' : 'none',\r\n        }}\r\n      >\r\n        <List dense>\r\n          {(TorznabUrls || []).map((url, index) => (\r\n            <ListItem key={`${url.Host}-${url.Key}`}>\r\n              <ListItemText\r\n                primary={url.Name || url.Host}\r\n                secondary={\r\n                  <>\r\n                    {url.Name && (\r\n                      <Typography component='span' variant='body2' display='block' color='textSecondary'>\r\n                        {url.Host}\r\n                      </Typography>\r\n                    )}\r\n                    {`Key: ${url.Key.substring(0, 5)}...`}\r\n                  </>\r\n                }\r\n              />\r\n              <ListItemSecondaryAction>\r\n                <IconButton edge='end' aria-label='delete' onClick={() => handleDelete(index)}>\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: 10,\r\n            marginTop: 10,\r\n          }}\r\n        >\r\n          <TextField\r\n            label={t('Torznab.NameOptional')}\r\n            value={newName}\r\n            onChange={e => setNewName(e.target.value)}\r\n            placeholder='My Tracker'\r\n            variant='outlined'\r\n            size='small'\r\n          />\r\n          <TextField\r\n            label={t('Torznab.TorznabHostURL')}\r\n            value={newHost}\r\n            onChange={e => setNewHost(e.target.value)}\r\n            placeholder='http://localhost:9117'\r\n            variant='outlined'\r\n            size='small'\r\n          />\r\n          <TextField\r\n            label={t('Torznab.APIKey')}\r\n            value={newKey}\r\n            onChange={e => setNewKey(e.target.value)}\r\n            variant='outlined'\r\n            size='small'\r\n          />\r\n          <div style={{ display: 'flex', marginTop: 10 }}>\r\n            <Button\r\n              variant='outlined'\r\n              color='secondary'\r\n              onClick={handleTest}\r\n              disabled={!newHost || !newKey || testing}\r\n              style={{ marginRight: 10 }}\r\n            >\r\n              {testing ? <CircularProgress size={24} color='inherit' /> : t('Torznab.Test')}\r\n            </Button>\r\n            <Button variant='contained' color='secondary' onClick={handleAdd} disabled={!newHost || !newKey}>\r\n              {t('Torznab.AddServer')}\r\n            </Button>\r\n          </div>\r\n          {testResult && (\r\n            <Typography variant='caption' style={{ color: testResult.success ? 'green' : 'red' }}>\r\n              {testResult.msg}\r\n            </Typography>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <br />\r\n    </SecondarySettingsContent>\r\n  )\r\n}\r\n","import axios from 'axios'\r\nimport Button from '@material-ui/core/Button'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport { FormControlLabel, useMediaQuery, useTheme } from '@material-ui/core'\r\nimport { settingsHost } from 'utils/Hosts'\r\nimport { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport SwipeableViews from 'react-swipeable-views'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport { StyledDialog } from 'style/CustomMaterialUiStyles'\r\nimport useOnStandaloneAppOutsideClick from 'utils/useOnStandaloneAppOutsideClick'\r\nimport { isStandaloneApp } from 'utils/Utils'\r\n\r\nimport { SettingsHeader, FooterSection, Content } from './style'\r\nimport defaultSettings from './defaultSettings'\r\nimport { a11yProps, TabPanel } from './tabComponents'\r\nimport PrimarySettingsComponent from './PrimarySettingsComponent'\r\nimport SecondarySettingsComponent from './SecondarySettingsComponent'\r\nimport MobileAppSettings from './MobileAppSettings'\r\nimport TorznabSettings from './TorznabSettings'\r\n\r\nexport default function SettingsDialog({ handleClose }) {\r\n  const { t } = useTranslation()\r\n  const fullScreen = useMediaQuery('@media (max-width:930px)')\r\n  const { direction } = useTheme()\r\n\r\n  const [settings, setSettings] = useState()\r\n  const [selectedTab, setSelectedTab] = useState(0)\r\n  const [cacheSize, setCacheSize] = useState(32)\r\n  const [cachePercentage, setCachePercentage] = useState(40)\r\n  const [preloadCachePercentage, setPreloadCachePercentage] = useState(0)\r\n  const [isProMode, setIsProMode] = useState(JSON.parse(localStorage.getItem('isProMode')) || false)\r\n  const [isVlcUsed, setIsVlcUsed] = useState(JSON.parse(localStorage.getItem('isVlcUsed')) ?? false)\r\n  const [isInfuseUsed, setIsInfuseUsed] = useState(JSON.parse(localStorage.getItem('isInfuseUsed')) ?? false)\r\n  const [isIinaUsed, setIsIinaUsed] = useState(JSON.parse(localStorage.getItem('isIinaUsed')) ?? false)\r\n\r\n  useEffect(() => {\r\n    axios.post(settingsHost(), { action: 'get' }).then(({ data }) => {\r\n      setSettings({ ...data, CacheSize: data.CacheSize / (1024 * 1024) })\r\n    })\r\n  }, [])\r\n\r\n  const ref = useOnStandaloneAppOutsideClick(handleClose)\r\n\r\n  const handleSave = () => {\r\n    handleClose()\r\n    const sets = JSON.parse(JSON.stringify(settings))\r\n    sets.CacheSize = cacheSize * 1024 * 1024\r\n    sets.ReaderReadAHead = cachePercentage\r\n    sets.PreloadCache = preloadCachePercentage\r\n    axios.post(settingsHost(), { action: 'set', sets })\r\n    localStorage.setItem('isVlcUsed', isVlcUsed)\r\n    localStorage.setItem('isInfuseUsed', isInfuseUsed)\r\n    localStorage.setItem('isIinaUsed', isIinaUsed)\r\n  }\r\n\r\n  const inputForm = ({ target: { type, value, checked, id } }) => {\r\n    const sets = JSON.parse(JSON.stringify(settings))\r\n\r\n    if (type === 'number' || type === 'select-one') {\r\n      sets[id] = Number(value)\r\n    } else if (type === 'checkbox') {\r\n      if (\r\n        id === 'DisableTCP' ||\r\n        id === 'DisableUTP' ||\r\n        id === 'DisableUPNP' ||\r\n        id === 'DisableDHT' ||\r\n        id === 'DisablePEX' ||\r\n        id === 'DisableUpload'\r\n      )\r\n        sets[id] = Boolean(!checked)\r\n      else sets[id] = Boolean(checked)\r\n    } else if (type === 'url' || type === 'text') {\r\n      sets[id] = value\r\n    }\r\n    setSettings(sets)\r\n  }\r\n\r\n  const { CacheSize, ReaderReadAHead, PreloadCache } = settings || {}\r\n\r\n  // Minimum 25MB for PreloadCache\r\n  const minPreloadMB = 25\r\n\r\n  useEffect(() => {\r\n    if (isNaN(CacheSize) || isNaN(ReaderReadAHead) || isNaN(PreloadCache)) return\r\n\r\n    setCacheSize(CacheSize)\r\n    setCachePercentage(ReaderReadAHead)\r\n\r\n    // Ensure minimum 25MB for PreloadCache\r\n    const minPreloadPercent = Math.min(100, Math.ceil((minPreloadMB / CacheSize) * 100))\r\n    setPreloadCachePercentage(Math.max(PreloadCache, minPreloadPercent))\r\n  }, [CacheSize, ReaderReadAHead, PreloadCache])\r\n\r\n  // Adjust preloadCachePercentage when cacheSize changes to ensure minimum 25MB\r\n  useEffect(() => {\r\n    const minPreloadPercent = Math.min(100, Math.ceil((minPreloadMB / cacheSize) * 100))\r\n    if (preloadCachePercentage < minPreloadPercent) {\r\n      setPreloadCachePercentage(minPreloadPercent)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [cacheSize])\r\n\r\n  const updateSettings = newProps => setSettings({ ...settings, ...newProps })\r\n  const handleChange = (_, newValue) => setSelectedTab(newValue)\r\n  const handleChangeIndex = index => setSelectedTab(index)\r\n\r\n  return (\r\n    <StyledDialog open onClose={handleClose} fullScreen={fullScreen} fullWidth maxWidth='md' ref={ref}>\r\n      <SettingsHeader>\r\n        <div>{t('SettingsDialog.Settings')}</div>\r\n        <FormControlLabel\r\n          control={\r\n            <Switch\r\n              checked={isProMode}\r\n              onChange={({ target: { checked } }) => {\r\n                setIsProMode(checked)\r\n                localStorage.setItem('isProMode', checked)\r\n                if (!checked) setSelectedTab(0)\r\n              }}\r\n              style={{ color: 'white' }}\r\n            />\r\n          }\r\n          label={t('SettingsDialog.ProMode')}\r\n          labelPlacement='start'\r\n        />\r\n      </SettingsHeader>\r\n\r\n      <AppBar position='static' color='default'>\r\n        <Tabs\r\n          value={selectedTab}\r\n          onChange={handleChange}\r\n          indicatorColor='secondary'\r\n          textColor='secondary'\r\n          variant='fullWidth'\r\n        >\r\n          <Tab label={t('SettingsDialog.Tabs.Main')} {...a11yProps(0)} />\r\n\r\n          <Tab\r\n            disabled={!isProMode}\r\n            label={\r\n              <>\r\n                <div>{t('SettingsDialog.Tabs.Additional')}</div>\r\n                {!isProMode && <div style={{ fontSize: '9px' }}>{t('SettingsDialog.Tabs.AdditionalDisabled')}</div>}\r\n              </>\r\n            }\r\n            {...a11yProps(1)}\r\n          />\r\n\r\n          <Tab label={t('Search')} {...a11yProps(2)} />\r\n\r\n          <Tab label={t('SettingsDialog.Tabs.App')} {...a11yProps(3)} />\r\n        </Tabs>\r\n      </AppBar>\r\n\r\n      <Content isLoading={!settings}>\r\n        {settings ? (\r\n          <>\r\n            <SwipeableViews\r\n              axis={direction === 'rtl' ? 'x-reverse' : 'x'}\r\n              index={selectedTab}\r\n              onChangeIndex={handleChangeIndex}\r\n            >\r\n              <TabPanel value={selectedTab} index={0} dir={direction}>\r\n                <PrimarySettingsComponent\r\n                  settings={settings}\r\n                  inputForm={inputForm}\r\n                  cachePercentage={cachePercentage}\r\n                  preloadCachePercentage={preloadCachePercentage}\r\n                  cacheSize={cacheSize}\r\n                  isProMode={isProMode}\r\n                  setCacheSize={setCacheSize}\r\n                  setCachePercentage={setCachePercentage}\r\n                  setPreloadCachePercentage={setPreloadCachePercentage}\r\n                  updateSettings={updateSettings}\r\n                />\r\n              </TabPanel>\r\n\r\n              <TabPanel value={selectedTab} index={1} dir={direction}>\r\n                <SecondarySettingsComponent settings={settings} inputForm={inputForm} updateSettings={updateSettings} />\r\n              </TabPanel>\r\n\r\n              <TabPanel value={selectedTab} index={2} dir={direction}>\r\n                <TorznabSettings settings={settings} inputForm={inputForm} updateSettings={updateSettings} />\r\n              </TabPanel>\r\n\r\n              <TabPanel value={selectedTab} index={3} dir={direction}>\r\n                <MobileAppSettings\r\n                  isVlcUsed={isVlcUsed}\r\n                  setIsVlcUsed={setIsVlcUsed}\r\n                  isInfuseUsed={isInfuseUsed}\r\n                  setIsInfuseUsed={setIsInfuseUsed}\r\n                  isIinaUsed={isIinaUsed}\r\n                  setIsIinaUsed={setIsIinaUsed}\r\n                />\r\n              </TabPanel>\r\n            </SwipeableViews>\r\n          </>\r\n        ) : (\r\n          <CircularProgress color='secondary' />\r\n        )}\r\n      </Content>\r\n\r\n      <FooterSection>\r\n        <Button onClick={handleClose} color='secondary' variant='outlined'>\r\n          {t('Cancel')}\r\n        </Button>\r\n\r\n        <Button\r\n          onClick={() => {\r\n            setCacheSize(defaultSettings.CacheSize)\r\n            setCachePercentage(defaultSettings.ReaderReadAHead)\r\n            setPreloadCachePercentage(defaultSettings.PreloadCache)\r\n            updateSettings(defaultSettings)\r\n          }}\r\n          color='secondary'\r\n          variant='outlined'\r\n        >\r\n          {t('SettingsDialog.ResetToDefault')}\r\n        </Button>\r\n\r\n        <Button variant='contained' onClick={handleSave} color='secondary'>\r\n          {t('Save')}\r\n        </Button>\r\n      </FooterSection>\r\n    </StyledDialog>\r\n  )\r\n}\r\n","import ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { useState } from 'react'\r\nimport SettingsIcon from '@material-ui/icons/Settings'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { StyledMenuButtonWrapper } from 'style/CustomMaterialUiStyles'\r\nimport { isStandaloneApp } from 'utils/Utils'\r\n\r\nimport SettingsDialog from './SettingsDialog'\r\n\r\nexport default function SettingsDialogButton({ isOffline, isLoading }) {\r\n  const { t } = useTranslation()\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n\r\n  const handleClickOpen = () => setIsDialogOpen(true)\r\n  const handleClose = () => setIsDialogOpen(false)\r\n\r\n  return (\r\n    <div>\r\n      <StyledMenuButtonWrapper disabled={isOffline || isLoading} button onClick={handleClickOpen}>\r\n        {isStandaloneApp ? (\r\n          <>\r\n            <SettingsIcon />\r\n            <div>{t('SettingsDialog.Settings')}</div>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <ListItemIcon>\r\n              <SettingsIcon />\r\n            </ListItemIcon>\r\n\r\n            <ListItemText primary={t('SettingsDialog.Settings')} />\r\n          </>\r\n        )}\r\n      </StyledMenuButtonWrapper>\r\n\r\n      {isDialogOpen && <SettingsDialog handleClose={handleClose} />}\r\n    </div>\r\n  )\r\n}\r\n","import { Button } from '@material-ui/core'\r\nimport { useEffect, useState } from 'react'\r\n\r\nexport default function UnsafeButton({ timeout, children, disabled, ...props }) {\r\n  const [timeLeft, setTimeLeft] = useState(timeout || 7)\r\n  const [buttonDisabled, setButtonDisabled] = useState(disabled || timeLeft > 0)\r\n  const handleTimerTick = () => {\r\n    const newTimeLeft = timeLeft - 1\r\n    setTimeLeft(newTimeLeft)\r\n    if (newTimeLeft <= 0) {\r\n      setButtonDisabled(disabled)\r\n    }\r\n  }\r\n  const getTimerText = () => (!disabled && timeLeft > 0 ? ` (${timeLeft})` : '')\r\n  useEffect(() => {\r\n    if (disabled || !timeLeft) {\r\n      return\r\n    }\r\n    const intervalId = setInterval(handleTimerTick, 1000)\r\n    return () => clearInterval(intervalId)\r\n    // eslint-disable-next-line\r\n  }, [timeLeft])\r\n\r\n  return (\r\n    <Button disabled={buttonDisabled} {...props}>\r\n      {children} {getTimerText()}\r\n    </Button>\r\n  )\r\n}\r\n","import { Button, Dialog, DialogActions, DialogTitle } from '@material-ui/core'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport { useState } from 'react'\r\nimport { torrentsHost } from 'utils/Hosts'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport UnsafeButton from './UnsafeButton'\r\n\r\nconst fnRemoveAll = () => {\r\n  fetch(torrentsHost(), {\r\n    method: 'post',\r\n    body: JSON.stringify({ action: 'wipe' }),\r\n    headers: {\r\n      Accept: 'application/json, text/plain, */*',\r\n      'Content-Type': 'application/json',\r\n    },\r\n  })\r\n}\r\n\r\nexport default function RemoveAll({ isOffline, isLoading }) {\r\n  const { t } = useTranslation()\r\n  const [open, setOpen] = useState(false)\r\n  const closeDialog = () => setOpen(false)\r\n  const openDialog = () => setOpen(true)\r\n\r\n  return (\r\n    <>\r\n      <ListItem disabled={isOffline || isLoading} button key={t('RemoveAll')} onClick={openDialog}>\r\n        <ListItemIcon>\r\n          <DeleteIcon />\r\n        </ListItemIcon>\r\n\r\n        <ListItemText primary={t('RemoveAll')} />\r\n      </ListItem>\r\n\r\n      <Dialog open={open} onClose={closeDialog}>\r\n        <DialogTitle>{t('DeleteTorrents?')}</DialogTitle>\r\n        <DialogActions>\r\n          <Button variant='outlined' onClick={closeDialog} color='secondary'>\r\n            {t('Cancel')}\r\n          </Button>\r\n\r\n          <UnsafeButton\r\n            timeout={5}\r\n            startIcon={<DeleteIcon />}\r\n            variant='contained'\r\n            onClick={() => {\r\n              fnRemoveAll()\r\n              closeDialog()\r\n            }}\r\n            color='secondary'\r\n            autoFocus\r\n          >\r\n            {t('OK')}\r\n          </UnsafeButton>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  )\r\n}\r\n","import styled, { css } from 'styled-components'\r\nimport { standaloneMedia } from 'style/standaloneMedia'\r\n\r\nexport const DialogWrapper = styled.div`\r\n  height: 100%;\r\n  display: grid;\r\n  grid-template-rows: max-content 1fr max-content;\r\n`\r\n\r\nexport const HeaderSection = styled.section`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-size: 36px;\r\n  font-weight: 300;\r\n  padding: 20px;\r\n\r\n  img {\r\n    width: 64px;\r\n  }\r\n\r\n  @media (max-width: 930px) {\r\n    font-size: 22px;\r\n    padding: 10px 20px;\r\n\r\n    img {\r\n      width: 60px;\r\n    }\r\n  }\r\n\r\n  ${standaloneMedia(css`\r\n    padding-top: 30px;\r\n  `)}\r\n`\r\n\r\nexport const ThanksSection = styled.section`\r\n  padding: 20px;\r\n  text-align: center;\r\n  font-size: 24px;\r\n  font-weight: 300;\r\n  background: #e8e5eb;\r\n  color: #323637;\r\n\r\n  @media (max-width: 930px) {\r\n    font-size: 20px;\r\n    padding: 30px 20px;\r\n  }\r\n`\r\n\r\nexport const Section = styled.section`\r\n  padding: 20px;\r\n\r\n  > span {\r\n    font-size: 22px;\r\n    display: block;\r\n    margin-bottom: 15px;\r\n  }\r\n\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n\r\n  > div {\r\n    display: grid;\r\n    gap: 10px;\r\n    grid-template-columns: repeat(4, max-content);\r\n\r\n    @media (max-width: 930px) {\r\n      grid-template-columns: repeat(3, 1fr);\r\n    }\r\n\r\n    @media (max-width: 780px) {\r\n      grid-template-columns: repeat(2, 1fr);\r\n    }\r\n\r\n    @media (max-width: 550px) {\r\n      grid-template-columns: 1fr;\r\n    }\r\n  }\r\n`\r\n\r\nexport const FooterSection = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  background: #e8e5eb;\r\n`\r\n\r\nexport const LinkWrapper = styled.a`\r\n  ${({ isLink }) => css`\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: start;\r\n    border: 1px solid;\r\n    padding: 7px 10px;\r\n    border-radius: 5px;\r\n    text-transform: uppercase;\r\n    text-decoration: none;\r\n    background: #545a5e;\r\n    color: #f1eff3;\r\n    transition: 0.2s;\r\n\r\n    > * {\r\n      transition: 0.2s;\r\n    }\r\n\r\n    ${isLink\r\n      ? css`\r\n          :hover {\r\n            filter: brightness(1.1);\r\n\r\n            > * {\r\n              transform: translateY(0px);\r\n            }\r\n          }\r\n        `\r\n      : css`\r\n          cursor: default;\r\n        `}\r\n  `}\r\n`\r\n\r\nexport const LinkIcon = styled.div`\r\n  display: grid;\r\n  margin-right: 10px;\r\n`\r\n","import { GitHub as GitHubIcon } from '@material-ui/icons'\r\n\r\nimport { LinkWrapper, LinkIcon } from './style'\r\n\r\nexport default function LinkComponent({ name, link }) {\r\n  return (\r\n    <LinkWrapper isLink={!!link} href={link} target='_blank' rel='noreferrer'>\r\n      {link && (\r\n        <LinkIcon>\r\n          <GitHubIcon />\r\n        </LinkIcon>\r\n      )}\r\n\r\n      <div>{name}</div>\r\n    </LinkWrapper>\r\n  )\r\n}\r\n","import axios from 'axios'\r\nimport { useEffect, useState, useMemo } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useMediaQuery } from '@material-ui/core'\r\nimport { echoHost } from 'utils/Hosts'\r\nimport { StyledDialog, StyledMenuButtonWrapper } from 'style/CustomMaterialUiStyles'\r\nimport { isStandaloneApp } from 'utils/Utils'\r\nimport useOnStandaloneAppOutsideClick from 'utils/useOnStandaloneAppOutsideClick'\r\n\r\nimport LinkComponent from './LinkComponent'\r\nimport { DialogWrapper, HeaderSection, ThanksSection, Section, FooterSection } from './style'\r\n\r\nexport default function AboutDialog() {\r\n  const { t } = useTranslation()\r\n  const [open, setOpen] = useState(false)\r\n  const [torrServerVersion, setTorrServerVersion] = useState('')\r\n  const fullScreen = useMediaQuery('@media (max-width:930px)')\r\n  useEffect(() => {\r\n    axios.get(echoHost()).then(({ data }) => setTorrServerVersion(data))\r\n  }, [])\r\n\r\n  const onClose = () => setOpen(false)\r\n  const ref = useOnStandaloneAppOutsideClick(onClose)\r\n  const basePath = useMemo(() => {\r\n    if (typeof window !== 'undefined') {\r\n      return window.location.pathname.split('/')[1] || ''\r\n    }\r\n    return ''\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <StyledMenuButtonWrapper button key='Settings' onClick={() => setOpen(true)}>\r\n        {isStandaloneApp ? (\r\n          <>\r\n            <InfoIcon />\r\n            <div>{t('Details')}</div>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <ListItemIcon>\r\n              <InfoIcon />\r\n            </ListItemIcon>\r\n\r\n            <ListItemText primary={t('About')} />\r\n          </>\r\n        )}\r\n      </StyledMenuButtonWrapper>\r\n\r\n      <StyledDialog\r\n        open={open}\r\n        onClose={onClose}\r\n        aria-labelledby='form-dialog-title'\r\n        fullScreen={fullScreen}\r\n        maxWidth='xl'\r\n        ref={ref}\r\n      >\r\n        <DialogWrapper>\r\n          <HeaderSection>\r\n            <div>{t('About')}</div>\r\n            {torrServerVersion}\r\n            <img src={`${basePath ? `/${basePath}` : ''}/icon.png`} alt='ts-icon' />\r\n          </HeaderSection>\r\n\r\n          <div style={{ overflow: 'auto' }}>\r\n            <ThanksSection>{t('ThanksToEveryone')}</ThanksSection>\r\n\r\n            <Section>\r\n              <span>{t('Links')}</span>\r\n\r\n              <div>\r\n                <LinkComponent name={t('ProjectSource')} link='https://github.com/9000000/TorrServer' />\r\n                <LinkComponent name={t('Releases')} link='https://github.com/9000000/TorrServer/releases' />\r\n                <LinkComponent name={t('NasReleases')} link='https://github.com/vladlenas' />\r\n                <LinkComponent name={t('ApiDocs')} link='swagger/index.html' />\r\n              </div>\r\n            </Section>\r\n\r\n            <Section>\r\n              <span>{t('SpecialThanks')}</span>\r\n\r\n              <div>\r\n                <LinkComponent name='Matt Joiner' link='https://github.com/anacrolix' />\r\n                <LinkComponent name='Daniel Shleifman' link='https://github.com/dancheskus' />\r\n                <LinkComponent name='nikk' link='https://github.com/tsynik' />\r\n                <LinkComponent name='kolsys' link='https://github.com/kolsys' />\r\n                <LinkComponent name='tw1cker' link='https://github.com/Nemiroff' />\r\n                <LinkComponent name='SpAwN_LMG' link='https://github.com/spawnlmg' />\r\n                <LinkComponent name='damiva' link='https://github.com/damiva' />\r\n                <LinkComponent name='Vladlenas' link='https://github.com/vladlenas' />\r\n                <LinkComponent name='Pavel Pikta' link='https://github.com/pavelpikta' />\r\n                <LinkComponent name='Anton Potekhin' link='https://github.com/Anton111111' />\r\n                <LinkComponent name='FaintGhost' link='https://github.com/FaintGhost' />\r\n                <LinkComponent name='TopperBG' link='https://github.com/TopperBG' />\r\n                <LinkComponent name='Evgeni' link='https://github.com/lieranderl' />\r\n                <LinkComponent name='cocool97' link='https://github.com/cocool97' />\r\n                <LinkComponent name='shadeov' link='https://github.com/shadeov' />\r\n                <LinkComponent name='Pavel' link='https://github.com/butaford' />\r\n                <LinkComponent name='Alexey Filimonov' link='https://github.com/filimonic' />\r\n                <LinkComponent name='Viacheslav Evseev' link='https://github.com/leporel' />\r\n              </div>\r\n            </Section>\r\n          </div>\r\n\r\n          <FooterSection>\r\n            <Button onClick={onClose} color='primary' variant='contained'>\r\n              {t('Close')}\r\n            </Button>\r\n          </FooterSection>\r\n        </DialogWrapper>\r\n      </StyledDialog>\r\n    </>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { Button, DialogActions, DialogTitle, ListItemIcon, ListItemText } from '@material-ui/core'\r\nimport { StyledDialog, StyledMenuButtonWrapper } from 'style/CustomMaterialUiStyles'\r\nimport { PowerSettingsNew as PowerSettingsNewIcon, PowerOff as PowerOffIcon } from '@material-ui/icons'\r\nimport { shutdownHost } from 'utils/Hosts'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { isStandaloneApp } from 'utils/Utils'\r\nimport useOnStandaloneAppOutsideClick from 'utils/useOnStandaloneAppOutsideClick'\r\n\r\nimport UnsafeButton from './UnsafeButton'\r\n\r\nexport default function CloseServer({ isOffline, isLoading }) {\r\n  const { t } = useTranslation()\r\n  const [open, setOpen] = useState(false)\r\n  const closeDialog = () => setOpen(false)\r\n  const openDialog = () => setOpen(true)\r\n\r\n  const ref = useOnStandaloneAppOutsideClick(closeDialog)\r\n\r\n  return (\r\n    <>\r\n      <StyledMenuButtonWrapper disabled={isOffline || isLoading} button key={t('CloseServer')} onClick={openDialog}>\r\n        {isStandaloneApp ? (\r\n          <>\r\n            <PowerSettingsNewIcon />\r\n            <div>{t('TurnOff')}</div>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <ListItemIcon>\r\n              <PowerSettingsNewIcon />\r\n            </ListItemIcon>\r\n\r\n            <ListItemText primary={t('CloseServer')} />\r\n          </>\r\n        )}\r\n      </StyledMenuButtonWrapper>\r\n\r\n      <StyledDialog open={open} onClose={closeDialog} ref={ref}>\r\n        <DialogTitle>{t('CloseServer?')}</DialogTitle>\r\n        <DialogActions>\r\n          <Button variant='outlined' onClick={closeDialog} color='secondary'>\r\n            {t('Cancel')}\r\n          </Button>\r\n\r\n          <UnsafeButton\r\n            timeout={5}\r\n            startIcon={<PowerOffIcon />}\r\n            variant='contained'\r\n            onClick={() => {\r\n              fetch(shutdownHost())\r\n              closeDialog()\r\n            }}\r\n            color='secondary'\r\n            autoFocus\r\n          >\r\n            {t('TurnOff')}\r\n          </UnsafeButton>\r\n        </DialogActions>\r\n      </StyledDialog>\r\n    </>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItem from '@material-ui/core/ListItem'\r\n\r\nimport SearchDialog from './SearchDialog'\r\n\r\nexport default function SearchDialogButton({ isOffline, isLoading }) {\r\n  const { t } = useTranslation()\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false)\r\n  const handleClickOpen = () => setIsDialogOpen(true)\r\n  const handleClose = () => setIsDialogOpen(false)\r\n\r\n  return (\r\n    <>\r\n      <ListItem button onClick={handleClickOpen} disabled={isOffline || isLoading}>\r\n        <ListItemIcon>\r\n          <SearchIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary={t('Search')} />\r\n      </ListItem>\r\n\r\n      {isDialogOpen && <SearchDialog handleClose={handleClose} />}\r\n    </>\r\n  )\r\n}\r\n","import ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nexport default function FilterByCategory({ categoryKey, categoryName, setGlobalFilterCategory, icon }) {\r\n  const onClick = () => {\r\n    setGlobalFilterCategory(categoryKey)\r\n  }\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <>\r\n      <ListItem button key={categoryKey} onClick={onClick}>\r\n        <ListItemIcon>{icon}</ListItemIcon>\r\n        <ListItemText primary={t(categoryName)} />\r\n      </ListItem>\r\n    </>\r\n  )\r\n}\r\n","import Divider from '@material-ui/core/Divider'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport { CreditCard as CreditCardIcon } from '@material-ui/icons'\r\nimport List from '@material-ui/core/List'\r\nimport { useTranslation } from 'react-i18next'\r\nimport AddDialogButton from 'components/Add'\r\nimport SettingsDialog from 'components/Settings'\r\nimport RemoveAll from 'components/RemoveAll'\r\nimport AboutDialog from 'components/About'\r\nimport CloseServer from 'components/CloseServer'\r\nimport SearchDialogButton from 'components/Search'\r\nimport { memo } from 'react'\r\nimport CheckIcon from '@material-ui/icons/Check'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport { TORRENT_CATEGORIES } from 'components/categories'\r\nimport FilterByCategory from 'components/FilterByCategory'\r\n\r\nimport { AppSidebarStyle } from './style'\r\n\r\nconst Sidebar = ({ isDrawerOpen, setIsDonationDialogOpen, isOffline, isLoading, setGlobalFilterCategory }) => {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <AppSidebarStyle isDrawerOpen={isDrawerOpen}>\r\n      <List>\r\n        <AddDialogButton isOffline={isOffline} isLoading={isLoading} />\r\n        <SearchDialogButton isOffline={isOffline} isLoading={isLoading} />\r\n\r\n        <RemoveAll isOffline={isOffline} isLoading={isLoading} />\r\n      </List>\r\n\r\n      <Divider />\r\n\r\n      <List>\r\n        <FilterByCategory\r\n          key='all'\r\n          categoryKey='all'\r\n          categoryName={t('All')}\r\n          icon={<CheckIcon />}\r\n          setGlobalFilterCategory={setGlobalFilterCategory}\r\n        />\r\n        {TORRENT_CATEGORIES.map(category => (\r\n          <FilterByCategory\r\n            key={category.key}\r\n            categoryKey={category.key}\r\n            categoryName={t(category.name)}\r\n            icon={category.icon}\r\n            setGlobalFilterCategory={setGlobalFilterCategory}\r\n          />\r\n        ))}\r\n        <FilterByCategory\r\n          key='uncategorized'\r\n          categoryKey=''\r\n          categoryName={t('Uncategorized')}\r\n          icon={<ClearIcon />}\r\n          setGlobalFilterCategory={setGlobalFilterCategory}\r\n        />\r\n      </List>\r\n\r\n      <Divider />\r\n\r\n      <List>\r\n        <SettingsDialog isOffline={isOffline} isLoading={isLoading} />\r\n\r\n        <AboutDialog />\r\n\r\n        <ListItem button onClick={() => setIsDonationDialogOpen(true)}>\r\n          <ListItemIcon>\r\n            <CreditCardIcon />\r\n          </ListItemIcon>\r\n\r\n          <ListItemText primary={t('Donate')} />\r\n        </ListItem>\r\n\r\n        <CloseServer isOffline={isOffline} isLoading={isLoading} />\r\n      </List>\r\n    </AppSidebarStyle>\r\n  )\r\n}\r\n\r\nexport default memo(Sidebar)\r\n","import { CreditCard as CreditCardIcon } from '@material-ui/icons'\r\nimport { useTranslation } from 'react-i18next'\r\nimport CloseServer from 'components/CloseServer'\r\nimport { StyledMenuButtonWrapper } from 'style/CustomMaterialUiStyles'\r\nimport AddDialogButton from 'components/Add'\r\nimport AboutDialog from 'components/About'\r\nimport SettingsDialogButton from 'components/Settings'\r\n\r\nimport StyledPWAFooter from './style'\r\n\r\nexport default function PWAFooter({ setIsDonationDialogOpen, isOffline, isLoading }) {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <StyledPWAFooter>\r\n      <CloseServer isOffline={isOffline} isLoading={isLoading} />\r\n\r\n      <StyledMenuButtonWrapper onClick={() => setIsDonationDialogOpen(true)}>\r\n        <CreditCardIcon />\r\n\r\n        <div>{t('Donate')}</div>\r\n      </StyledMenuButtonWrapper>\r\n\r\n      <AddDialogButton isOffline={isOffline} isLoading={isLoading} />\r\n\r\n      <AboutDialog />\r\n\r\n      <SettingsDialogButton isOffline={isOffline} isLoading={isLoading} />\r\n    </StyledPWAFooter>\r\n  )\r\n}\r\n","export default function IOSShareIcon() {\r\n  return (\r\n    <svg\r\n      version='1.1'\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      xmlnsXlink='http://www.w3.org/1999/xlink'\r\n      width={23}\r\n      x='0px'\r\n      y='0px'\r\n      viewBox='0 0 1000 1000'\r\n      enableBackground='new 0 0 1000 1000'\r\n      xmlSpace='preserve'\r\n      fill='#005FF2'\r\n    >\r\n      <metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata>\r\n      <g>\r\n        <path d='M780,290H640v35h140c19.3,0,35,15.7,35,35v560c0,19.3-15.7,35-35,35H220c-19.2,0-35-15.7-35-35V360c0-19.2,15.7-35,35-35h140v-35H220c-38.7,0-70,31.3-70,70v560c0,38.7,31.3,70,70,70h560c38.7,0,70-31.3,70-70V360C850,321.3,818.7,290,780,290z M372.5,180l110-110.2v552.7c0,9.6,7.9,17.5,17.5,17.5c9.6,0,17.5-7.9,17.5-17.5V69.8l110,110c3.5,3.5,7.9,5,12.5,5s9-1.7,12.5-5c6.8-6.8,6.8-17.9,0-24.7l-140-140c-6.8-6.8-17.9-6.8-24.7,0l-140,140c-6.8,6.8-6.8,17.9,0,24.7C354.5,186.8,365.5,186.8,372.5,180z' />\r\n      </g>\r\n    </svg>\r\n  )\r\n}\r\n","import styled, { css } from 'styled-components'\r\n\r\nexport const StyledWrapper = styled.div`\r\n  ${({ isOpen }) => css`\r\n    position: absolute;\r\n    bottom: 10px;\r\n    left: 50%;\r\n    background: #eeeef0;\r\n    width: calc(100% - 20px);\r\n    z-index: 9999;\r\n    border-radius: 10px;\r\n    transition: all 0.3s;\r\n    color: #000;\r\n\r\n    ${isOpen\r\n      ? css`\r\n          opacity: 1;\r\n          transform: translate(-50%, 0);\r\n        `\r\n      : css`\r\n          transform: translate(-50%, 150%);\r\n          opacity: 0;\r\n          pointer-events: none;\r\n        `}\r\n\r\n    > :not(:last-child) {\r\n      border-bottom: 1px solid #dadadc;\r\n    }\r\n\r\n    > * {\r\n      padding: 20px;\r\n    }\r\n  `}\r\n`\r\n\r\nexport const StyledHeader = styled.div`\r\n  display: grid;\r\n  grid-auto-flow: column;\r\n  grid-template-columns: min-content 1fr;\r\n  gap: 20px;\r\n  align-items: center;\r\n  font-weight: 700;\r\n\r\n  img {\r\n    border-radius: 5px;\r\n  }\r\n`\r\n\r\nexport const StyledContent = styled.div`\r\n  > :not(:last-child) {\r\n    margin-bottom: 25px;\r\n  }\r\n\r\n  span {\r\n    background: #fefcfd;\r\n    padding: 5px;\r\n    border-radius: 5px;\r\n  }\r\n`\r\n","import IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nimport IOSShareIcon from './IOSShareIcon'\r\nimport { StyledWrapper, StyledHeader, StyledContent } from './style'\r\n\r\nexport function PWAInstallationGuide() {\r\n  const pwaNotificationIsClosed = JSON.parse(localStorage.getItem('pwaNotificationIsClosed'))\r\n  const [isOpen, setIsOpen] = useState(!pwaNotificationIsClosed)\r\n  const [shouldBeOpened, setShouldBeOpened] = useState(!pwaNotificationIsClosed)\r\n\r\n  const { t } = useTranslation()\r\n\r\n  if (!isOpen) return null\r\n\r\n  return (\r\n    <StyledWrapper isOpen={shouldBeOpened}>\r\n      <StyledHeader>\r\n        <img src='/icon.png' width={50} alt='ts-icon' />\r\n\r\n        {t('PWAGuide.Header')}\r\n\r\n        <IconButton\r\n          size='small'\r\n          aria-label='close'\r\n          color='inherit'\r\n          onClick={() => {\r\n            setShouldBeOpened(false)\r\n\r\n            setTimeout(() => {\r\n              setIsOpen(false)\r\n              localStorage.setItem('pwaNotificationIsClosed', true)\r\n            }, 300)\r\n          }}\r\n        >\r\n          <CloseIcon fontSize='small' />\r\n        </IconButton>\r\n      </StyledHeader>\r\n\r\n      <StyledContent>\r\n        <p>{t('PWAGuide.Description')}</p>\r\n\r\n        <p>{t('PWAGuide.PlayerButtons')}</p>\r\n\r\n        <p>\r\n          1. {t('PWAGuide.FirstStep')} <IOSShareIcon />\r\n        </p>\r\n\r\n        <p>\r\n          2. {t('PWAGuide.SecondStep.Select')} <span>{t('PWAGuide.SecondStep.AddToHomeScreen')}</span>\r\n        </p>\r\n      </StyledContent>\r\n    </StyledWrapper>\r\n  )\r\n}\r\n","import CssBaseline from '@material-ui/core/CssBaseline'\r\nimport { createContext, useEffect, useState } from 'react'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport {\r\n  Menu as MenuIcon,\r\n  Close as CloseIcon,\r\n  Brightness4 as Brightness4Icon,\r\n  Brightness5 as Brightness5Icon,\r\n  BrightnessAuto as BrightnessAutoIcon,\r\n  Sort as SortIcon,\r\n  SortByAlpha as SortByAlphaIcon,\r\n  Search as SearchIcon,\r\n} from '@material-ui/icons'\r\nimport { echoHost } from 'utils/Hosts'\r\nimport Div100vh from 'react-div-100vh'\r\nimport axios from 'axios'\r\nimport TorrentList from 'components/TorrentList'\r\nimport DonateSnackbar from 'components/Donate'\r\nimport DonateDialog from 'components/Donate/DonateDialog'\r\nimport useChangeLanguage from 'utils/useChangeLanguage'\r\nimport { ThemeProvider as MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { ThemeProvider as StyledComponentsThemeProvider } from 'styled-components'\r\nimport { useQuery } from 'react-query'\r\nimport { getTorrents, isStandaloneApp } from 'utils/Utils'\r\nimport GlobalStyle from 'style/GlobalStyle'\r\nimport { /* lightTheme, */ THEME_MODES, useMaterialUITheme } from 'style/materialUISetup'\r\nimport getStyledComponentsTheme from 'style/getStyledComponentsTheme'\r\nimport checkIsIOS from 'utils/checkIsIOS'\r\nimport SearchDialog from 'components/Search/SearchDialog'\r\n\r\nimport { AppWrapper, AppHeader, HeaderToggle, StyledIconButton } from './style'\r\nimport Sidebar from './Sidebar'\r\nimport PWAFooter from './PWAFooter'\r\nimport { PWAInstallationGuide } from './PWAInstallationGuide'\r\n\r\nconst snackbarIsClosed = JSON.parse(localStorage.getItem('snackbarIsClosed'))\r\n\r\nexport const DarkModeContext = createContext()\r\n\r\nexport default function App() {\r\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false)\r\n  const [isDonationDialogOpen, setIsDonationDialogOpen] = useState(false)\r\n  const [isSearchDialogOpen, setIsSearchDialogOpen] = useState(false)\r\n  const [torrServerVersion, setTorrServerVersion] = useState('')\r\n\r\n  const [isDarkMode, currentThemeMode, updateThemeMode, muiTheme] = useMaterialUITheme()\r\n  const [currentLang, changeLang] = useChangeLanguage()\r\n  const [isOffline, setIsOffline] = useState(false)\r\n  const [globalCategoryFilter, setGlobalFilterCategory] = useState('all')\r\n  const { data: torrents, isLoading } = useQuery('torrents', getTorrents, {\r\n    retry: 1,\r\n    refetchInterval: 1000,\r\n    onError: () => setIsOffline(true),\r\n    onSuccess: () => setIsOffline(false),\r\n  })\r\n  const [sortABC, setSortABC] = useState(false)\r\n  const handleClickSortABC = () => setSortABC(true)\r\n  const handleClickSortDate = () => setSortABC(false)\r\n\r\n  useEffect(() => {\r\n    axios.get(echoHost()).then(({ data }) => setTorrServerVersion(data))\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <GlobalStyle />\r\n\r\n      <DarkModeContext.Provider value={{ isDarkMode }}>\r\n        <MuiThemeProvider theme={muiTheme}>\r\n          <StyledComponentsThemeProvider\r\n            theme={getStyledComponentsTheme(isDarkMode ? THEME_MODES.DARK : THEME_MODES.LIGHT)}\r\n          >\r\n            <CssBaseline />\r\n\r\n            {/* Div100vh - iOS WebKit fix  */}\r\n            <Div100vh>\r\n              <AppWrapper>\r\n                <AppHeader>\r\n                  <StyledIconButton edge='start' color='inherit' onClick={() => setIsDrawerOpen(!isDrawerOpen)}>\r\n                    {isDrawerOpen ? <CloseIcon /> : <MenuIcon />}\r\n                  </StyledIconButton>\r\n\r\n                  <Typography variant='h6' noWrap>\r\n                    TorrServer {torrServerVersion}\r\n                  </Typography>\r\n\r\n                  <div\r\n                    style={{\r\n                      justifySelf: 'end',\r\n                      display: 'grid',\r\n                      gridTemplateColumns: isStandaloneApp ? 'repeat(4, 1fr)' : 'repeat(3, 1fr)',\r\n                      gap: '10px',\r\n                    }}\r\n                  >\r\n                    {isStandaloneApp && (\r\n                      <HeaderToggle onClick={() => setIsSearchDialogOpen(true)}>\r\n                        <SearchIcon />\r\n                      </HeaderToggle>\r\n                    )}\r\n\r\n                    <HeaderToggle onClick={() => (sortABC === true ? handleClickSortDate() : handleClickSortABC())}>\r\n                      {sortABC === true ? <SortByAlphaIcon /> : <SortIcon />}\r\n                    </HeaderToggle>\r\n\r\n                    <HeaderToggle\r\n                      onClick={() => {\r\n                        if (currentThemeMode === THEME_MODES.LIGHT) updateThemeMode(THEME_MODES.DARK)\r\n                        if (currentThemeMode === THEME_MODES.DARK) updateThemeMode(THEME_MODES.AUTO)\r\n                        if (currentThemeMode === THEME_MODES.AUTO) updateThemeMode(THEME_MODES.LIGHT)\r\n                      }}\r\n                    >\r\n                      {currentThemeMode === THEME_MODES.LIGHT ? (\r\n                        <Brightness5Icon />\r\n                      ) : currentThemeMode === THEME_MODES.DARK ? (\r\n                        <Brightness4Icon />\r\n                      ) : (\r\n                        <BrightnessAutoIcon />\r\n                      )}\r\n                    </HeaderToggle>\r\n\r\n                    <HeaderToggle\r\n                      onClick={() =>\r\n                        currentLang === 'en'\r\n                          ? changeLang('ru')\r\n                          : currentLang === 'ru'\r\n                          ? changeLang('ua')\r\n                          : currentLang === 'ua'\r\n                          ? changeLang('zh')\r\n                          : currentLang === 'zh'\r\n                          ? changeLang('bg')\r\n                          : currentLang === 'bg'\r\n                          ? changeLang('fr')\r\n                          : currentLang === 'fr'\r\n                          ? changeLang('ro')\r\n                          : changeLang('en')\r\n                      }\r\n                    >\r\n                      {currentLang.toUpperCase()}\r\n                    </HeaderToggle>\r\n                  </div>\r\n                </AppHeader>\r\n\r\n                <Sidebar\r\n                  isOffline={isOffline}\r\n                  isLoading={isLoading}\r\n                  isDrawerOpen={isDrawerOpen}\r\n                  setIsDonationDialogOpen={setIsDonationDialogOpen}\r\n                  setGlobalFilterCategory={setGlobalFilterCategory}\r\n                />\r\n\r\n                <TorrentList\r\n                  isOffline={isOffline}\r\n                  torrents={torrents}\r\n                  isLoading={isLoading}\r\n                  sortABC={sortABC}\r\n                  sortCategory={globalCategoryFilter}\r\n                />\r\n\r\n                <PWAFooter\r\n                  isOffline={isOffline}\r\n                  isLoading={isLoading}\r\n                  setIsDonationDialogOpen={setIsDonationDialogOpen}\r\n                />\r\n\r\n                {/* <MuiThemeProvider theme={lightTheme}> */}\r\n                {isDonationDialogOpen && <DonateDialog onClose={() => setIsDonationDialogOpen(false)} />}\r\n                {/* </MuiThemeProvider> */}\r\n\r\n                {isSearchDialogOpen && <SearchDialog handleClose={() => setIsSearchDialogOpen(false)} />}\r\n\r\n                {snackbarIsClosed ? checkIsIOS() && !isStandaloneApp && <PWAInstallationGuide /> : <DonateSnackbar />}\r\n              </AppWrapper>\r\n            </Div100vh>\r\n          </StyledComponentsThemeProvider>\r\n        </MuiThemeProvider>\r\n      </DarkModeContext.Provider>\r\n    </>\r\n  )\r\n}\r\n","import { mainColors, themeColors } from './colors'\r\n\r\nexport default type => ({ ...themeColors[type], ...mainColors[type] })\r\n","export default () => {\r\n  if (typeof window === `undefined` || typeof navigator === `undefined`) return false\r\n\r\n  return /iPhone|iPad|iPod/i.test(navigator.userAgent || navigator.vendor)\r\n}\r\n","import { StrictMode } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { QueryClientProvider, QueryClient } from 'react-query'\r\n\r\nimport App from './components/App'\r\nimport 'i18n'\r\n\r\nconst queryClient = new QueryClient()\r\n\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <App />\r\n    </QueryClientProvider>\r\n  </StrictMode>,\r\n  document.getElementById('root'),\r\n)\r\n"],"sourceRoot":""}